(function(){hackfest_uki={};var Y=this,J=document,na=navigator.userAgent,ta="uki"+ +new Date,R=Math.max,ea=Math.min,La=Math.floor,za=Math.ceil;Y.uki=Y.uki||function(b,c){if(typeof b=="string"){var e=b.match(/^#((?:[\w\u00c0-\uFFFF_-]|\\.)+)$/),f=e&&uki._ids[e[1]];if(e&&!c)return new uki.Collection(f?[f]:[]);return uki.find(b,c)}if(b.length===undefined)b=[b];if(b.length>0&&uki.isFunction(b[0].typeName))return new uki.Collection(b);return uki.build(b)};uki.version="0.2.2";uki.guid=1;uki.F=function(){return false};
uki._ids={};uki.registerId=function(b){uki._ids[uki.attr(b,"id")]=b};uki.unregisterId=function(b){uki._ids[uki.attr(b,"id")]=undefined};var Va=Object.prototype.toString,Wa=String.prototype.trim,Ma=Array.prototype.slice,ub=/^\s+|\s+$/g,Na={attr:function(b,c,e){if(e!==undefined){if(b[c]&&b[c].apply)b[c](e);else b[c]=e;return b}else return b[c]&&b[c].apply?b[c]():b[c]},proxy:function(b,c){var e=Ma.call(arguments,2),f=function(){return b.apply(c,e.concat(Ma.call(arguments,0)))};f.huid=b.huid=b.huid||
uki.guid++;return f},isFunction:function(b){return Va.call(b)==="[object Function]"},isArray:function(b){return Va.call(b)==="[object Array]"},trim:function(b){b=b||"";return Wa?Wa.call(b):b.replace(ub,"")},escapeHTML:function(b){var c={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"};return(b+"").replace(/[&<>\"\']/g,function(e){return c[e]})},each:function(b,c,e){var f,m=0,h=b.length;if(h===undefined)for(f in b){if(!(!f||b[f]===undefined||!b.hasOwnProperty(f)))if(c.call(e||b[f],f,b[f])===
false)break}else for(f=b[0];m<h&&c.call(e||f,m,f)!==false;f=b[++m]);return b},inArray:function(b,c){for(var e=0,f=c.length;e<f;e++)if(c[e]===b)return e;return-1},unique:function(b){if(b.length&&(typeof b[0]=="object"||typeof b[0]=="function")){var c=[],e;for(e=0;e<b.length;e++){b[e].__uki_marked||(c[c.length]=b[e]);b[e].__uki_marked=true}for(e=0;e<c.length;e++)delete c[e].__uki_marked;return c}else{c=[];var f={};e=0;for(var m=b.length;e<m;e++){var h=b[e];if(!f[h]){f[h]=true;c.push(b[e])}}return c}},
grep:function(b,c){for(var e=[],f=0,m=b.length;f<m;f++)c(b[f],f)&&e.push(b[f]);return e},map:function(b,c,e){for(var f=[],m=uki.isFunction(c)?c:function(t){return uki.attr(t,c)},h=0,p=b.length;h<p;h++){var s=m.call(e||b[h],b[h],h);if(s!=null)f[f.length]=s}return f},reduce:function(b,c,e,f){for(var m=0,h=c.length;m<h;m++)b=e.call(f||c[m],b,c[m],m);return b},extend:function(){for(var b=arguments[0]||{},c=1,e=arguments.length,f;c<e;c++)if((f=arguments[c])!=null)for(var m in f){var h=f[m];if(h!==undefined)b[m]=
h}return b},newClass:function(){var b=function(){this.init.apply(this,arguments)},c,e;e=0;var f;c=[];var m,h;if(arguments.length>1)if(arguments[0].prototype){c=function(){};c.prototype=arguments[0].prototype;b.prototype=new c;e=1;c=[c.prototype]}for(e=e;e<arguments.length;e++){m=f=arguments[e];if(this.isFunction(f))f=f.apply(f,c);c.push(f);for(h in m){f=m[h];!m.hasOwnProperty(h)||f===undefined||(b.prototype[h]=f)}}if(!b.prototype.init)b.prototype.init=function(){};return b},binarySearch:function(b,
c){for(var e=0,f=c.length,m;e<f;){m=e+f>>1;c[m]<b?(e=m+1):(f=m)}return e},newProp:function(b,c){return function(e){if(e===undefined)return this[b];if(c)c.call(this,e);else this[b]=e;return this}},addProps:function(b,c){uki.each(c,function(){b[this]=uki.newProp("_"+this)})},toArray:function(b){return Ma.call(b,0)},delegateProp:function(b,c,e){var f="_"+c;b[c]=function(m){if(m===undefined){if(this[e])return uki.attr(this[e],c,m);return this[f]}if(this[e])uki.attr(this[e],c,m);else this[f]=m;return this}}};
Na.extend(uki,Na);delete Na;uki.geometry={};var Z=uki.geometry.Point=function(b,c){this.x=b*1||0;this.y=c*1||0};Z.prototype={toString:function(){return this.x+" "+this.y},clone:function(){return new Z(this.x,this.y)},eq:function(b){return this.x==b.x&&this.y==b.y},offset:function(b,c){if(typeof b=="object"){c=b.y;b=b.x}this.x+=b;this.y+=c;return this},constructor:Z};Z.fromString=function(b){b=b.split(/\s+/);return new Z(b[0],b[1])};var U=uki.geometry.Size=function(b,c){this.width=b*1||0;this.height=
c*1||0};U.prototype={toString:function(){return this.width+" "+this.height},clone:function(){return new U(this.width,this.height)},eq:function(b){return this.width==b.width&&this.height==b.height},empty:function(){return this.width<=0||this.height<=0},constructor:U};U.fromString=function(b){b=b.split(/\s+/);return new U(b[0],b[1])};U.create=function(b,c){if(b===undefined)return null;if(b.width!==undefined)return b;if(/\S+\s+\S+/.test(b+""))return U.fromString(b,c);return new U(b,c)};var M=uki.geometry.Rect=
function(b,c,e,f){if(e!==undefined){this.x=b*1||0;this.y=c*1||0;this.width=e*1||0;this.height=f*1||0}else if(b===undefined||b.x===undefined){this.y=this.x=0;this.width=b*1||0;this.height=c*1||0}else{this.x=b?b.x*1:0;this.y=b?b.y*1:0;this.width=c?c.width*1:0;this.height=c?c.height*1:0}};M.prototype={toString:function(){return[this.x,this.y,this.width,this.height].join(" ")},toCoordsString:function(){return[this.x,this.y,this.maxX(),this.maxY()].join(" ")},clone:function(){return new M(this.x,this.y,
this.width,this.height)},minX:function(){return this.x},maxX:function(){return this.x+this.width},midX:function(){return this.x+this.width/2},minY:function(){return this.y},midY:function(){return this.y+this.height/2},maxY:function(){return this.y+this.height},normalize:function(){this.x=this.y=0;return this},empty:U.prototype.empty,eq:function(b){return b&&this.x==b.x&&this.y==b.y&&this.height==b.height&&this.width==b.width},inset:function(b,c){this.x+=b;this.y+=c;this.width-=b*2;this.height-=c*
2;return this},offset:Z.prototype.offset,intersection:function(b){var c=new Z(R(this.x,b.x),R(this.y,b.y));b=new U(ea(this.maxX(),b.maxX())-c.x,ea(this.maxY(),b.maxY())-c.y);return b.empty()?new M:new M(c,b)},union:function(b){return M.fromCoords(ea(this.x,b.x),ea(this.y,b.y),R(this.maxX(),b.maxX()),R(this.maxY(),b.maxY()))},containsPoint:function(b){return b.x>=this.minX()&&b.x<=this.maxX()&&b.y>=this.minY()&&b.y<=this.maxY()},containsRect:function(b){return this.eq(this.union(b))},constructor:M};
M.prototype.left=M.prototype.minX;M.prototype.top=M.prototype.minY;M.fromCoords=function(b,c,e,f){if(e===undefined)return new M(b.x,b.y,c.x-b.x,c.y-b.y);return new M(b,c,e-b,f-c)};M.fromCoordsString=function(b){b=b.split(/\s+/);return M.fromCoords(b[0],b[1],b[2],b[3])};M.fromString=function(b){b=b.split(/\s+/);if(b.length>2)return new M(b[0],b[1],b[2],b[3]);return new M(b[0],b[1])};M.create=function(b,c,e,f){if(b===undefined)return null;if(b.x!==undefined)return b;if(/\S+\s+\S+/.test(b+""))return M.fromString(b,
c);if(e===undefined)return new M(b,c);return new M(b,c,e,f)};var aa=uki.geometry.Inset=function(b,c,e,f){this.top=b*1||0;this.right=c*1||0;this.bottom=e===undefined?this.top*1:e*1;this.left=f===undefined?this.right*1:f*1};aa.prototype={toString:function(){return[this.top,this.right,this.bottom,this.left].join(" ")},clone:function(){return new aa(this.top,this.right,this.bottom,this.left)},width:function(){return this.left+this.right},height:function(){return this.top+this.bottom},negative:function(){return this.top<
0||this.left<0||this.right<0||this.bottom<0},empty:function(){return!this.top&&!this.left&&!this.right&&!this.bottom}};aa.fromString=function(b){b=b.split(/\s+/);if(b.length<3)b[2]=b[0];if(b.length<4)b[3]=b[1];return new aa(b[0],b[1],b[2],b[3])};aa.create=function(b,c,e,f){if(b===undefined)return null;if(b.top!==undefined)return b;if(/\S+\s+\S+/.test(b+""))return aa.fromString(b,c);if(e===undefined)return new aa(b,c);return new aa(b,c,e,f)};uki.dom={createElement:function(b,c,e){b=J.createElement(b);
if(c)b.style.cssText=c;if(e)b.innerHTML=e;b[ta]=uki.guid++;return b},probe:function(b,c){var e=J.body;e.appendChild(b);c=c(b);e.removeChild(b);return c},layout:function(b,c,e){e=e||{};if(e.left!=c.left)b.left=c.left+"px";if(e.top!=c.top)b.top=c.top+"px";if(e.right!=c.right)b.right=c.right+"px";if(e.bottom!=c.bottom)b.bottom=c.bottom+"px";if(e.width!=c.width)b.width=R(c.width,0)+"px";if(e.height!=c.height)b.height=R(c.height,0)+"px";return c},computedStyle:function(b){if(J&&J.defaultView&&J.defaultView.getComputedStyle)return J.defaultView.getComputedStyle(b,
null);else if(b.currentStyle)return b.currentStyle},contains:function(b,c){try{if(b.contains)return b.contains(c);if(b.compareDocumentPosition)return!!(b.compareDocumentPosition(c)&16)}catch(e){}for(;c&&c!=b;)try{c=c.parentNode}catch(f){c=null}return b==c},createStylesheet:function(b){var c=J.createElement("style");J.getElementsByTagName("head")[0].appendChild(c);if(c.styleSheet)c.styleSheet.cssText=b;else c.appendChild(document.createTextNode(b));return c}};uki.each(["createElement"],function(b,
c){uki[c]=uki.dom[c]});uki.dom.special={};uki.dom.Event=function(b){b=b||{};this.domEvent=b.domEvent||b;for(var c=uki.dom.props.length,e;c;){e=uki.dom.props[--c];this[e]=b[e]}};uki.dom.Event.prototype=new (function(){function b(){return true}this.preventDefault=function(){var c=this.domEvent;c.preventDefault&&c.preventDefault();c.returnValue=false;this.isDefaultPrevented=b};this.stopPropagation=function(){var c=this.domEvent;c.stopPropagation&&c.stopPropagation();c.cancelBubble=true;this.isPropagationStopped=
b};this.isDefaultPrevented=this.isPropagationStopped=uki.F});uki.extend(uki.dom,{bound:{},handlers:{},props:"type altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode metaKey newValue originalTarget pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which dragOffset dataTransfer".split(" "),events:"blur focus load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error draggesturestart draggestureend draggesture dragstart dragend drag drop dragenter dragleave dragover".split(" "),
bind:function(b,c,e){if(b.setInterval&&b!=window)b=window;e.huid=e.huid||uki.guid++;var f=b[ta]=b[ta]||uki.guid++,m=uki.dom.handlers[f]=uki.dom.handlers[f]||function(){uki.dom.handler.apply(arguments.callee.elem,arguments)},h,p;m.elem=b;uki.dom.bound[f]||(uki.dom.bound[f]={});c=c.split(" ");for(h=0;h<c.length;h++){p=c[h];if(!uki.dom.bound[f][p]){uki.dom.bound[f][p]=[];if(!uki.dom.special[p]||uki.dom.special[p].setup.call(b)===false)b.addEventListener?b.addEventListener(p,m,false):b.attachEvent("on"+
p,m)}uki.dom.bound[f][p].push(e)}e=m=b=null},unbind:function(b,c,e){var f=b[ta],m=e&&e.huid,h,p;if(c)c=c.split(" ");else{c=[];uki.each(uki.dom.bound[f]||[],function(t){c.push(t)})}for(h=0;h<c.length;h++){p=c[h];if(!(!f||!uki.dom.bound[f]||!uki.dom.bound[f][p])){uki.dom.bound[f][p]=e?uki.grep(uki.dom.bound[f][p],function(t){return t.huid!==m}):[];if(uki.dom.bound[f][p].length==0){var s=uki.dom.handlers[f];if(!uki.dom.special[p]||uki.dom.special[p].teardown.call(b)===false)b.removeEventListener?b.removeEventListener(p,
s,false):b.detachEvent("on"+p,s);uki.dom.bound[f][p]=null}}}},handler:function(b){b=b||Y.event;var c=b.type,e=this[ta],f=uki.dom.bound[e];if(!b.domEvent){b=new uki.dom.Event(b);b=uki.dom.fix(b)}if(!(!e||!f||!f[c])){e=0;for(f=f[c];e<f.length;e++)f[e].call(this,b)}},fix:function(b){if(!b.target)b.target=b.srcElement||J;if(b.target.nodeType==3)b.target=b.target.parentNode;if(!b.relatedTarget&&b.fromElement)b.relatedTarget=b.fromElement==b.target?b.toElement:b.fromElement;if(b.pageX==null&&b.clientX!=
null){var c=J.documentElement,e=J.body;b.pageX=b.clientX+(c&&c.scrollLeft||e&&e.scrollLeft||0)-(c.clientLeft||0);b.pageY=b.clientY+(c&&c.scrollTop||e&&e.scrollTop||0)-(c.clientTop||0)}if(!b.which&&(b.charCode||b.charCode===0?b.charCode:b.keyCode))b.which=b.charCode||b.keyCode;if(!b.metaKey&&b.ctrlKey)try{b.metaKey=b.ctrlKey}catch(f){}if(!b.which&&b.button)b.which=b.button&1?1:b.button&2?3:b.button&4?2:0;return b},preventDefaultHandler:function(b){b&&b.preventDefault();return false}});uki.each({mouseover:"mouseenter",
mouseout:"mouseleave"},function(b,c){var e=function(f){if(!uki.dom.contains(this,f.relatedTarget)){f.type=c;uki.dom.handler.apply(this,arguments)}};uki.dom.special[c]={setup:function(){uki.dom.bind(this,b,e)},teardown:function(){uki.dom.unbind(this,b,e)}}});Y.attachEvent&&Y.attachEvent("onunload",function(){uki.each(uki.dom.bound,function(b,c){uki.each(c,function(e){try{uki.dom.handlers[b].elem.detachEvent("on"+e,uki.dom.handlers[b])}catch(f){}})})});(function(){function b(B){if(!h.draggable){h.draggable=
B;uki.dom.bind(J,"mousemove scroll",f);uki.dom.bind(J,t,m);uki.dom.bind(J,"selectstart mousedown",uki.dom.preventDefaultHandler)}}function c(){h.draggable=null;uki.dom.unbind(J,"mousemove scroll",f);uki.dom.unbind(J,t,m);uki.dom.unbind(J,"selectstart mousedown",uki.dom.preventDefaultHandler)}function e(B){B=new uki.dom.Event(B);B.type="draggesturestart";uki.dom.handler.apply(this,arguments);if(!B.isDefaultPrevented()){b(this);h.position=new Z(-B.pageX,-B.pageY)}}function f(B){B=new uki.dom.Event(B);
B.type="draggesture";B.dragOffset=(new Z(B.pageX,B.pageY)).offset(h.position);uki.dom.handler.apply(h.draggable,arguments);B.isDefaultPrevented()&&c(h.draggable)}function m(B){B=new uki.dom.Event(B);B.type="draggestureend";B.dragOffset=(new Z(B.pageX,B.pageY)).offset(h.position);uki.dom.handler.apply(h.draggable,arguments);c(h.draggable)}var h=uki.dom.dnd={draggable:null,nativeDnD:false,position:null};try{if(typeof J.createEvent("MouseEvent").dataTransfer=="object"||J.createEvent("DragEvent").initDragEvent)h.nativeDnD=
!na.match(/Chrome\/4/)}catch(p){}var s={setup:function(){if(this.__draggesturebound)this.__draggesturebound++;else{this.__draggesturebound=1;uki.dom.bind(this,"mousedown",e);if(!h.nativeDnD&&typeof this.ondragstart=="object")this.ondragstart=function(){event.returnValue=false}}},teardown:function(){this.__draggesturebound--;this.__draggesturebound||uki.dom.unbind(this,"mousedown",e)}};uki.extend(uki.dom.special,{draggesturestart:s,draggestureend:s,draggesture:s});var t="mouseup "+(h.nativeDnD?" dragend":
"")})();(function(){function b(v){if(uki.isFunction(v.dom)){if(v.parent().length)return v.dom();var D=uki.createElement("div","width:1px;height:1px;position:absolute;left:-999em;top:0");J.body.appendChild(D);v.attachTo(D);return D}return v}function c(v){v=new uki.dom.Event(v);var D=v.dataTransfer;v.dataTransfer=new uki.dom.DataTransferWrapper(D);uki.dom.handler.apply(this,arguments);D.effectAllowed=v.dataTransfer.effectAllowed;D.dropEffect=v.dataTransfer.dropEffect}function e(v){uki.dom.bind(v,"draggestureend",
s)}function f(v){if(t.dataTransfer){t.dataTransfer.cleanup();t.dragOver=t.dataTransfer=t.target=null;uki.dom.unbind(v,"draggestureend",s)}}function m(v){if(!(!t.dataTransfer||v.domEvent.__dragEntered||!B)){v=new uki.dom.Event(v);v.domEvent.__dragEntered=true;if(t.dragOver!=this){t.dragOver=this;v.type="dragenter";uki.dom.handler.apply(this,arguments)}}}function h(v){if(B){if(!v.domEvent.__dragEntered&&t.dragOver){v=new uki.dom.Event(v);v.type="dragleave";uki.dom.handler.apply(t.dragOver,arguments);
t.dragOver=null}}else{if(t.dataTransfer){v.type="drag";v.target=t.target}else if(v.dragOffset.x>t.dragDelta||v.dragOffset.y>t.dragDelta){var D=v.target,S=this.parentNode;try{for(;D&&D!=S&&!D.getAttribute("draggable");)D=D.parentNode}catch(V){D=null}if(D&&D.getAttribute("draggable")){t.target=v.target=D;v.type="dragstart";t.dataTransfer=v.dataTransfer=new uki.dom.DataTransfer(v.domEvent.dataTransfer);e(this)}else return}else return;v=new uki.dom.Event(v);uki.dom.handler.apply(this,arguments);v.isDefaultPrevented()?
f(this):p(v)}}function p(v){var D=t.dataTransfer._dragImage.style,S=v.domEvent.type;v.stopPropagation();v.preventDefault();D.left="-999em";D=J.elementFromPoint(v.pageX,v.pageY);t.dataTransfer.update(v);try{var V;B=true;try{if(J.createEventObject){V=J.createEventObject();for(var W=L.length,z;W;){z=uki.dom.props[--W];V[z]=v.domEvent[z]}D.fireEvent("on"+S,V)}else{V=J.createEvent("MouseEvents");V.initMouseEvent(S,true,true,J.defaultView,v.detail,v.screenX,v.screenY,v.clientX,v.clientY,v.ctrlKey,v.altKey,
v.shiftKey,v.metaKey,v.button,null);D.dispatchEvent(V)}}catch(ia){}B=false}catch(I){}}function s(v){if(!B)if(t.dataTransfer){v.type="dragend";v.target=t.target;v.dataTransfer=t.dataTransfer;uki.dom.handler.apply(this,arguments);p(v);f(this)}}var t=uki.dom.dnd,B=false;uki.extend(t,{dragDelta:5,initNativeDnD:function(){var v=uki.createElement("div","position: absolute;left:-999em;");J.body.appendChild(v);t.dragImageContainer=v;t.initNativeDnD=uki.F;return true},dragImageContainer:null,dataTransfer:null,
target:null,dragOver:null});var y=["dropEffect","effectAllowed","types","files"];uki.dom.DataTransferWrapper=uki.newClass(new (function(){this.init=function(v){this.dataTransfer=v;for(var D=y.length-1;D>=0;D--)this[y[D]]=v[y[D]]};this.setData=function(v,D){return this.dataTransfer.setData(v,D)};this.clearData=function(v){return this.dataTransfer.clearData(v)};this.getData=function(v){return this.dataTransfer.getData(v)};this.setDragImage=function(v,D,S){t.initNativeDnD();v=b(v);var V=v.cloneNode(true);
v=V.style;v.left=v.right=v.top=v.bottom="";v.position="static";t.dragImageContainer.appendChild(V);setTimeout(function(){t.dragImageContainer.removeChild(V)},1);return this.dataTransfer.setDragImage(V,D,S)}}));uki.dom.DataTransfer=uki.newClass(new (function(){this.init=function(){uki.extend(this,{dropEffect:"none",effectAllowed:"none",types:[],files:[],dragImage:new Image,imagePosition:new Z,data:{}})};this.setData=function(v,D){this.data[v]=D;uki.inArray(v,this.types)==-1&&this.types.push(v)};this.clearData=
function(v){if(v){delete this.data[v];this.types=uki.grep(this.types,function(D){return D!=v})}else{this.data={};this.types=[]}};this.getData=function(v){return this.data[v]};this.setDragImage=function(v,D,S){this._dragImage=this._initDragImage(v);this._imagePosition=new Z(D||0,S||0)};this.update=function(v){if(this._dragImage){this._dragImage.style.left=v.pageX-this._imagePosition.x+"px";this._dragImage.style.top=v.pageY-this._imagePosition.y+"px"}};this.cleanup=function(){this._dragImage&&this._dragImage.parentNode.removeChild(this._dragImage);
this._dragImage=undefined};this._initDragImage=function(v){v=b(v);v=v.cloneNode(true);var D=v.style;D.left=D.right=D.top=D.bottom="";D.position="absolute";D.left="-999em";D.zIndex="9999";J.body.appendChild(v);return v}}));var A={setup:function(){if(this.__w3cdragbound)this.__w3cdragbound++;else{this.__w3cdragbound=1;uki.dom.bind(this,"draggesture",h)}},teardown:function(){this.__w3cdragbound--;this.__draggesturebound||uki.dom.unbind(this,"draggesture",h)}};if(t.nativeDnD)uki.extend(uki.dom.special,
{dragstart:{setup:function(){this.addEventListener("dragstart",c,false)},teardown:function(){this.removeEventListener("dragstart",c,false)}}});else{uki.extend(uki.dom.special,{dragstart:A,drag:A,dragend:A});uki.each({dragover:"mousemove",drop:"mouseup"},function(v,D){var S=function(V){if(t.dataTransfer&&B){V=new uki.dom.Event(V);V.type=v;V.dataTransfer=t.dataTransfer;if(v=="dragover")t.__canDrop=false;else{f(this);if(!t.__canDrop)return}uki.dom.handler.apply(this,arguments);if(V.isDefaultPrevented())t.__canDrop=
true}};uki.dom.special[v]={setup:function(){uki.dom.bind(this,D,S)},teardown:function(){uki.dom.unbind(this,D,S)}}});uki.dom.special.dragenter={setup:function(){uki.dom.bind(this,"mousemove",m)},teardown:function(){uki.dom.unbind(this,"mousemove",m)}};uki.dom.special.dragleave={setup:function(){},teardown:function(){}}}var L="detail screenX screenY clientX clientY ctrlKey altKey shiftKey metaKey button".split(" ")})();(function(){var b;b=J.documentElement.getBoundingClientRect?(uki.dom.offset=function(c){if(!c||
c==Y)return new Z;if(c===c.ownerDocument.body)return b.bodyOffset(c);b.boxModel===undefined&&b.initializeBoxModel();var e=c.getBoundingClientRect(),f=c.ownerDocument;c=f.body;f=f.documentElement;return new Z(e.left+(b.pageXOffset||b.boxModel&&f.scrollLeft||c.scrollLeft)-(f.clientLeft||c.clientLeft||0),e.top+(b.pageYOffset||b.boxModel&&f.scrollTop||c.scrollTop)-(f.clientTop||c.clientTop||0))}):(uki.dom.offset=function(c){if(!c||c==Y)return new Z;if(c===c.ownerDocument.body)return b.bodyOffset(c);b.initialized||
b.initialize();var e=c.offsetParent,f=c.ownerDocument,m,h=f.documentElement,p=f.body;f=f.defaultView;m=f.getComputedStyle(c,null);for(var s=c.offsetTop,t=c.offsetLeft;(c=c.parentNode)&&c!==p&&c!==h;){m=f.getComputedStyle(c,null);s-=c.scrollTop;t-=c.scrollLeft;if(c===e){s+=c.offsetTop;t+=c.offsetLeft;if(b.doesNotAddBorder&&!(b.doesAddBorderForTableAndCells&&/^t(able|d|h)$/i.test(c.tagName))){s+=parseInt(m.borderTopWidth,10)||0;t+=parseInt(m.borderLeftWidth,10)||0}e=c.offsetParent}if(b.subtractsBorderForOverflowNotVisible&&
m.overflow!=="visible"){s+=parseInt(m.borderTopWidth,10)||0;t+=parseInt(m.borderLeftWidth,10)||0}m=m}if(m.position==="relative"||m.position==="static"){s+=p.offsetTop;t+=p.offsetLeft}if(m.position==="fixed"){s+=R(h.scrollTop,p.scrollTop);t+=R(h.scrollLeft,p.scrollLeft)}return new Z(t,s)});uki.extend(b,{initialize:function(){if(!this.initialized){var c=J.body,e=J.createElement("div"),f,m,h,p=c.style.marginTop;f={position:"absolute",top:0,left:0,margin:0,border:0,width:"1px",height:"1px",visibility:"hidden"};
for(m in f)e.style[m]=f[m];e.innerHTML='<div style="position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;"><div></div></div><table style="position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;" cellpadding="0" cellspacing="0"><tr><td></td></tr></table>';c.insertBefore(e,c.firstChild);f=e.firstChild;m=f.firstChild;h=f.nextSibling.firstChild.firstChild;this.doesNotAddBorder=m.offsetTop!==5;this.doesAddBorderForTableAndCells=
h.offsetTop===5;f.style.overflow="hidden";f.style.position="relative";this.subtractsBorderForOverflowNotVisible=m.offsetTop===-5;c.style.marginTop="1px";this.doesNotIncludeMarginInBodyOffset=c.offsetTop===0;c.style.marginTop=p;c.removeChild(e);this.boxModel===undefined&&this.initializeBoxModel();this.initialized=true}},initializeBoxModel:function(){if(this.boxModel===undefined){var c=J.createElement("div");c.style.width=c.style.paddingLeft="1px";J.body.appendChild(c);this.boxModel=c.offsetWidth===
2;J.body.removeChild(c).style.display="none"}},bodyOffset:function(c){b.initialized||b.initialize();var e=c.offsetTop,f=c.offsetLeft;if(uki.dom.doesNotIncludeMarginInBodyOffset){e+=parseInt(uki.dom.elem.currentStyle(c).marginTop,10)||0;f+=parseInt(uki.dom.elem.currentStyle(c).marginLeft,10)||0}return new Z(f,e)}})})();uki.initNativeLayout=function(){uki.supportNativeLayout===undefined&&uki.dom.probe(uki.createElement("div","position:absolute;width:100px;height:100px;left:-999em;",'<div style="position:absolute;left:0;right:0"></div>'),
function(b){uki.supportNativeLayout=b.childNodes[0].offsetWidth==100&&!Y.opera})};uki.view={declare:function(){var b=uki.toArray(arguments),c=b.shift();b=uki.newClass.apply(uki,b);var e=c.split("."),f=Y,m,h;b.prototype.typeName=function(){return c};for(m=0;m<e.length-1;m++){h=e[m];f[h]||(f[h]={});f=f[h]}return f[e[e.length-1]]=b}};uki.view.Observable={bind:function(b,c){c.huid=c.huid||uki.guid++;uki.each(b.split(" "),function(e,f){this._bound(f)||this._bindToDom(f);this._observersFor(f).push(c)},
this);return this},unbind:function(b,c){uki.each(b.split(" "),function(e,f){this._observers[f]=!c?[]:uki.grep(this._observersFor(f,true),function(m){return m!=c&&m.huid!=c.huid});this._observers[f].length==0&&this._unbindFromDom(f)},this);return this},trigger:function(b){var c=Array.prototype.slice.call(arguments,1);uki.each(this._observersFor(b,true),function(e,f){f.apply(this,c)},this);return this},_unbindFromDom:function(b){this._domHander&&this._eventTargets[b]&&uki.dom.unbind(this._eventTargets[b],
b,this._domHander)},_bindToDom:function(b,c){if(c||this.dom){this._domHander=this._domHander||uki.proxy(function(e){e.source=this;this.trigger(e.type,e)},this);this._eventTargets=this._eventTargets||{};this._eventTargets[b]=c||this.dom();uki.dom.bind(this._eventTargets[b],b,this._domHander);return true}},_bound:function(b){return this._observers&&this._observers[b]},_observersFor:function(b,c){if(c&&(!this._observers||!this._observers[b]))return[];if(!this._observers)this._observers={};this._observers[b]||
(this._observers[b]=[]);return this._observers[b]}};(function(){function b(){return J.compatMode=="CSS1Compat"&&J.documentElement||J.body}var c=uki.Attachment=uki.newClass(uki.view.Observable,{init:function(e,f,m){uki.initNativeLayout();this._dom=e=e||Y;this._view=f;this._rect=M.create(m)||this.rect();uki.dom.offset.initialize();f.parent(this);this.domForChild().appendChild(f.dom());if(e!=Y&&e.tagName!="BODY"){f=e.runtimeStyle||e.ownerDocument.defaultView.getComputedStyle(e,null);if(!f.position||
f.position=="static")e.style.position="relative"}c.register(this);this.layout()},domForChild:function(){return this._dom===Y?J.body:this._dom},rectForChild:function(){return this.rect()},scroll:function(){},scrollTop:function(){return this._dom.scrollTop||0},scrollLeft:function(){return this._dom.scrollLeft||0},parent:function(){return null},layout:function(){var e=this._rect,f=this._rect=this.rect();this._view.parentResized(e,f);this._view._needsLayout&&this._view.layout();this.trigger("layout",
{source:this,rect:f})},dom:function(){return this._dom},view:function(){return this._view},rect:function(){var e=this._dom===Y||this._dom===J.body?R(b().clientWidth,this._dom.offsetWidth||0):this._dom.offsetWidth,f=this._dom===Y||this._dom===J.body?R(b().clientHeight,this._dom.offsetHeight||0):this._dom.offsetHeight;return new M(e,f)}});c.instances=[];c.register=function(e){if(c.instances.length==0){var f=false;uki.dom.bind(Y,"resize",function(){if(!f){f=true;setTimeout(function(){f=false;uki.each(c.instances,
function(){this.layout()})},1)}})}c.instances.push(e)};c.childViews=function(){return uki.map(c.instances,"view")};uki.top=function(){return[c]}})();uki.Collection=function(b){this.length=0;Array.prototype.push.apply(this,b)};uki.fn=uki.Collection.prototype=new (function(){var b=this;this.each=function(c){uki.each(this,c);return this};this.grep=function(c){return new uki.Collection(uki.grep(this,c))};this.attr=function(c,e){if(e!==undefined){for(var f=0;f<this.length;f++)uki.attr(this[f],c,e);return this}else return this[0]?
uki.attr(this[0],c):""};this.find=function(c){return uki.find(c,this)};this.attachTo=function(c,e){this.each(function(){new uki.Attachment(c,this,e)});return this};this.append=function(c){if(!this[0])return this;c=c.length!==undefined?c:[c];for(var e=0;e<c.length;e++)this[0].appendChild(c[e]);return this};this.appendTo=function(c){c=uki(c)[0];this.each(function(){c.appendChild(this)});return this};uki.Collection.addAttrs=function(c){uki.each(c,function(e,f){b[f]=function(m){return this.attr(f,m)}})};
uki.Collection.addAttrs("dom html text background value rect checked anchors childViews typeName id name visible disabled focusable style draggable textSelectable width height minX maxX minY maxY left top x y".split(" "));uki.each([["parent","parent"],["next","nextView"],["prev","prevView"]],function(c,e){b[e[0]]=function(){return new uki.Collection(uki.unique(uki.map(this,e[1])))}});uki.each("bind unbind trigger layout appendChild removeChild insertBefore addRow removeRow resizeToContents toggle".split(" "),
function(c,e){b[e]=function(){for(var f=0;f<this.length;f++)this[f][e].apply(this[f],arguments);return this}});uki.each(uki.dom.events,function(c,e){b[e]=function(f){if(f)this.bind(e,f);else for(f=0;f<this.length;f++)this[f][e]?this[f][e]():this[f].trigger(e);return this}})});(function(){function b(f){return uki.map(f,function(m){return c(m)})}function c(f){if(uki.isFunction(f.typeName))return f;var m=f.view||f.type,h;if(uki.isFunction(m))h=new m(f.rect);else if(typeof m==="string"){for(var p=0,s=
uki.viewNamespaces;p<s.length;p++){for(var t=(s[p]+m).split("."),B=Y,y=0;B&&y<t.length;y++)B=B[t[y]];if(B){h=new B(f.rect);break}}if(!B)throw"No view of type "+m+" found";}else h=m;e(h,f);return h}function e(f,m){uki.each(m,function(h,p){h=="view"||h=="type"||h=="rect"||uki.attr(f,h,p)});return f}uki.build=function(f){if(f.length===undefined)f=[f];return new uki.Collection(b(f))};uki.viewNamespaces=["uki.view.",""];uki.build.copyAttrs=e})();(function(){function b(y){return c(uki.map(y,function(A){return[A].concat(b(m(A,
"childViews")))}))}function c(y){return uki.reduce([],y,e)}function e(y,A){return y.concat(A)}var f,m=uki.attr,h=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^[\]]*\]|['"][^'"]*['"]|[^[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?/g,p=[{name:"ID",regexp:/#((?:[\w\u00c0-\uFFFF_-]|\\.)+)/},{name:"ATTR",regexp:/\[\s*((?:[\w\u00c0-\uFFFF_-]|\\.)+)\s*(?:(\S?=)\s*(['"]*)(.*?)\3|)\s*\]/},{name:"TYPE",regexp:/^((?:[\w\u00c0-\uFFFF\*_\.-]|\\.)+)/},{name:"POS",regexp:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^-]|$)/}],
s={first:function(y){return y===0},last:function(y,A,L){return y===L.length-1},even:function(y){return y%2===0},odd:function(y){return y%2===1},lt:function(y,A){return y<A[2]-0},gt:function(y,A){return y>A[2]-0},nth:function(y,A){return A[2]-0==y},eq:function(y,A){return A[2]-0==y}},t={TYPE:function(y,A){A=A[1];if(A=="*")return true;return(y=m(y,"typeName"))&&y.length>=A.length&&("."+y).indexOf("."+A)==y.length-A.length},ATTR:function(y,A){y=m(y,A[1]);var L=y+"",v=A[2];A=A[4];return y==null?v==="!=":
v==="="?L===A:v==="*="?L.indexOf(A)>=0:v==="~="?(" "+L+" ").indexOf(A)>=0:!A?L&&y!==false:v==="!="?L!=A:v==="^="?L.indexOf(A)===0:v==="$="?L.substr(L.length-A.length)===A:false},ID:function(y,A){return t.ATTR(y,["","id","=","",A[1]])},POS:function(y,A,L,v){return(y=s[A[1]])?y(L,A,v):false}},B={"+":function(y){return uki.unique(uki.map(y,"nextView"))},">":function(y){return uki.unique(c(uki.map(y,"childViews")))},"":function(y){return uki.unique(b(c(uki.map(y,"childViews"))))},"~":function(){}};f=
uki.Selector={find:function(y,A,L){A=A||uki.top();if(A.length===undefined)A=[A];var v=f.tokenize(y);y=v[0];v=v[1];for(var D=A,S;y.length>0;){S=B[y[0]]?B[y.shift()]:B[""];D=S(D);if(y.length==0)break;D=f.reduce(y.shift(),D)}if(v)D=D.concat(f.find(v,A,true));return L?D:new uki.Collection(uki.unique(D))},reduce:function(y,A){if(!A||!A.length)return[];for(var L,v;y!="";){v=false;uki.each(p,function(D,S){if(L=y.match(S.regexp)){v=true;A=uki.grep(A,function(V,W){return t[S.name](V,L,W,A)});y=y.replace(S.regexp,
"");return false}});if(!v)break}return A},tokenize:function(y){var A=[],L,v;for(h.lastIndex=0;(L=h.exec(y))!==null;){A.push(L[1]);if(L[2]){v=RegExp.rightContext;break}}return[A,v]}};uki.find=f.find})();uki.image=function(b,c,e){var f=new Image;f.src=uki.imageSrc(b,c,e);return f};uki.imageSrc=function(b,c,e){if(uki.image.dataUrlSupported&&c)return c;if(e&&uki.image.needAlphaFix)return e;return b};uki.imageHTML=function(b,c,e,f){if(uki.image.needAlphaFix&&e)b=e;else if(uki.image.dataUrlSupported)b=
c;return"<img"+(f||"")+' src="'+b+'" />'};uki.image.load=function(b,c){var e=b.length;uki.each(b,function(f,m){if(!m||m.width)--e||c();else{f=function(){m.onload=m.onerror=m.onabort=null;--e||c()};m.onload=f;m.onerror=f;m.onabort=f}})};uki.image.dataUrlSupported=J.createElement("canvas").toDataURL||/MSIE (8)/.test(na);uki.image.needAlphaFix=/MSIE 6/.test(na);uki.image.needAlphaFix&&J.execCommand("BackgroundImageCache",false,true);(function(){var b=/^\s*null\s*$/,c=/theme\s*\(\s*([^)]*\s*)\)/,e=/rows\s*\(\s*([^)]*\s*)\)/,
f=/cssBox\s*\(\s*([^)]*\s*)\)/,m=uki.background=function(h){if(typeof h==="string"){var p;if(h.match(b))return new m.Null;if(p=h.match(c))return uki.theme.background(p[1]);if(p=h.match(e))return new m.Rows(p[1].split(",")[0],p[1].split(/\s*,\s*/).slice(1));if(p=h.match(f))return new m.CssBox(p[1]);return new m.Css(h)}return h}})();uki.background.Base=uki.background.Null=uki.newClass({init:uki.F,attachTo:uki.F,detach:uki.F});uki.background.Sliced9=uki.newClass(new (function(){function b(h,p,s,t,B){t=
s[3]?e(s,t):"";s[3]||(p+=c(s,B));return'<div class="'+h+'" style="position:absolute;overflow:hidden;'+p+'">'+t+"</div>"}function c(h,p){return";background: url("+uki.imageSrc(h[0],h[1],h[2])+") "+p}function e(h,p){return uki.imageHTML(h[0],h[1],h[2],' ondragstart="return false;" galleryimg="no" style="-webkit-user-drag:none;-webkit-user-select:none;-moz-user-select:none;position:absolute;'+p+'"')}var f=uki.dom,m={};this.init=function(h,p,s){this._settings=uki.extend({},h);this._inset=aa.create(p);
this._size=null;this._inited=false;s=s||{};this._fixedSize=U.create(s.fixedSize)||new U;this._bgInset=aa.create(s.inset)||new aa;this._zIndex=s.zIndex||-1;this._container=this._getContainer();this._container.style.zIndex=this._zIndex};this._getContainer=function(){var h=this._getKey();if(!m[h])return m[h]=this._createContainer();return m[h].cloneNode(true)};this._createContainer=function(){var h=this._inset,p=this._bgInset,s=this._settings,t=h.left+h.right,B=h.top+h.bottom;p=["left:"+p.left+"px",
"right:"+p.right+"px","top:"+p.top+"px","bottom:"+p.bottom+"px"].join(";");var y=[];if(h.top&&h.left)y[y.length]=b("tl",["left:0;top:0","width:"+h.left+"px","height:"+h.top+"px"].join(";"),s.c,["left:0;top:0","width:"+t+"px","height:"+B+"px"].join(";"),"top left");if(h.top)y[y.length]=b("t",["left:"+h.left+"px","top:0","height:"+h.top+"px","right:"+h.right+"px"].join(";"),s.h,["left:0;top:0;width:100%","height:"+B+"px"].join(";"),"repeat-x top");if(h.top&&h.right)y[y.length]=b("tr",["right:0;top:0",
"width:"+h.right+"px","height:"+h.top+"px"].join(";"),s.c,["left:-"+h.left+"px","top:0","width:"+t+"px","height:"+B+"px"].join(";"),"top right");if(h.left)y[y.length]=b("l",["left:0","top:"+h.top+"px","width:"+h.left+"px","bottom:"+h.bottom+"px"].join(";"),s.v,["left:0;top:0;height:100%","width:"+t+"px"].join(";"),"repeat-y left");if(s.m)y[y.length]=b("m",["left:"+h.left+"px","top:"+h.top+"px","right:"+h.right+"px","bottom:"+h.bottom+"px"].join(";"),s.m,"left:0;top:0;height:100%;width:100%","");if(h.right)y[y.length]=
b("r",["right:0","top:"+h.top+"px","width:"+h.right+"px","bottom:"+h.bottom+"px"].join(";"),s.v,["left:-"+h.left+"px","top:0;height:100%","width:"+t+"px"].join(";"),"repeat-y right");if(h.bottom&&h.left)y[y.length]=b("bl",["left:0;bottom:0","width:"+h.left+"px","height:"+h.bottom+"px"].join(";"),s.c,["left:0","top:-"+h.top+"px","width:"+t+"px","height:"+B+"px"].join(";"),"left -"+h.top+"px");if(h.bottom)y[y.length]=b("b",["left:"+h.left+"px","bottom:0","height:"+h.bottom+"px","right:"+h.right+"px"].join(";"),
s.h,["left:0","top:-"+h.top+"px","width:100%","height:"+B+"px"].join(";"),"repeat-x 0 -"+h.top+"px");if(h.bottom&&h.right)y[y.length]=b("br",["right:0;bottom:0","width:"+h.right+"px","height:"+h.bottom+"px"].join(";"),s.c,["left:-"+h.left+"px","top:-"+h.top+"px","width:"+t+"px","height:"+B+"px"].join(";"),"right -"+h.top+"px");return uki.createElement("div","position:absolute;overflow:hidden;"+p,y.join(""))};this._getKey=function(){return uki.map(["v","h","m","c"],function(h){return this._settings[h]&&
this._settings[h][0]||""},this).concat([this._inset,this._bgInset,this._fixedSize]).join(",")};this.attachTo=function(h){this._comp=h;this._container.style.visibility="visible";this._comp.dom().appendChild(this._container);if(!uki.supportNativeLayout){this._layoutHandler=this._layoutHandler||uki.proxy(function(p){if(!(this._size&&this._size.eq(p.rect))){this._size=p.rect;this.layout()}},this);this._comp.bind("layout",this._layoutHandler);this.layout()}};this.detach=function(){if(this._comp){this._container.style.visibility=
"hidden";uki.supportNativeLayout||this._comp.unbind("layout",this._layoutHandler);this._size=this._comp=null;this._attached=this._inited=false}};this.layout=function(){var h=this._comp.rect(),p=this._parts,s=this._inset,t=this._bgInset,B=this._fixedSize,y=La(B.width||h.width-t.left-t.right);h=La(B.height||h.height-t.top-t.bottom);t=s.left+s.right;s=s.top+s.bottom;if(!p){p={};uki.each(this._container.childNodes,function(){if(this.className)p[this.className]=this});this._parts=p}p.t&&f.layout(p.t.style,
{width:y-t});p.b&&f.layout(p.b.style,{width:y-t});p.l&&f.layout(p.l.style,{height:h-s});p.r&&f.layout(p.r.style,{height:h-s});p.m&&f.layout(p.m.style,{height:h-s,width:y-t});f.layout(this._container.style,{width:y,height:h})}}));uki.background.Css=uki.newClass(new (function(){this.init=function(b){this._options=typeof b=="string"?{background:b}:b};this.attachTo=function(b){this._comp=b;this._originalValues={};uki.each(this._options,function(c,e){this._originalValues[c]=b.style(c);b.style(c,e)},this)};
this.detach=function(){this._comp&&uki.each(this._options,function(b){this._comp.style(b,this._originalValues[b])},this)}}));uki.background.CssBox=uki.newClass(new (function(){function b(e){c[e]||uki.dom.probe(uki.createElement("div",e+";position:absolute;overflow:hidden;left:-999em;width:10px;height:10px;"),function(f){c[e]=new aa(f.offsetHeight-10,f.offsetWidth-10)});return c[e]}var c={};this.init=function(e,f){this._options=e;f=f||{};this._inset=inset=aa.create(f.inset)||new aa;this._insetWidth=
b(e).left+inset.left+inset.right;this._insetHeight=b(e).top+inset.top+inset.bottom;this._container=uki.createElement("div",e+";position:absolute;overflow:hidden;z-index:"+(f.zIndex||"-1")+";left:"+inset.left+"px;top:"+inset.top+"px;right:"+inset.right+"px;bottom:"+inset.bottom+"px",f.innerHTML);this._attached=false};this.attachTo=function(e){this._comp=e;this._comp.dom().appendChild(this._container);if(!uki.supportNativeLayout){this._layoutHandler=this._layoutHandler||uki.proxy(function(f){this.layout(f.rect)},
this);this._comp.bind("layout",this._layoutHandler);this.layout(this._comp.rect())}};this.layout=function(e){this._prevLayout=uki.dom.layout(this._container.style,{width:e.width-this._insetWidth,height:e.height-this._insetHeight},this._prevLayout)};this.detach=function(){if(this._comp){this._comp.dom().removeChild(this._container);uki.supportNativeLayout||this._comp.unbind("layout",this._layoutHandler);this._attached=false}}}));uki.background.Rows=uki.newClass(new (function(){function b(f,m){var h=
f+" "+m.join(" "),p=[],s=[],t,B=m.length;if(!c[h]){for(t=0;t<B;t++)p[t]=['<div style="height:',f,"px;width:100%;overflow:hidden;",m[t]?"background:"+m[t]:"",'"></div>'].join("");for(t=0;t<e;t++)s[t]=p[t%B];c[h]=s.join("")}return c[h]}var c=[],e=100;this.init=function(f,m){this._height=f||20;this._colors=uki.isArray(m)?m:m.split(" ");this._packSize=za(e/this._colors.length)*this._colors.length;this._renderedHeight=0;this._visibleExt=200;if(this._colors.length==1)this._colors=this._colors.concat(["#FFF"])};
this.attachTo=function(f){this._comp&&this.detach();this._comp=f;if(!this._container)this._container=uki.createElement("div","position:absolute;left:0;top:0;width:100%;z-index:-1");this._layoutHandler=this._layoutHandler||uki.proxy(function(m){this.layout(m.rect,m.visibleRect)},this);this._comp.dom().appendChild(this._container);this._comp.bind("layout",this._layoutHandler)};this.layout=function(f,m){for(f=m?m.height+this._visibleExt*2:f.maxY();this._renderedHeight<f;){var h=e*this._height,p=uki.createElement("div",
"height:"+h+"px;overflow:hidden;width:100%;",b(this._height,this._colors));this._renderedHeight+=h;this._container.appendChild(p)}if(m)this._container.style.top=za((m.y-this._visibleExt)/this._height/this._colors.length)*this._height*this._colors.length+"px"};this.detach=function(){if(this._comp){this._comp.dom().removeChild(this._container);this._comp.unbind("layout",this._layoutHandler);this._comp=null}}}));uki.background.Multi=uki.newClass({init:function(){this._bgs=Array.prototype.slice.call(arguments,
0)},attachTo:function(b){for(var c=0;c<this._bgs.length;c++)this._bgs[c].attachTo(b)},detach:function(){for(var b=0;b<this._bgs.length;b++)this._bgs[b].detach()}});uki.theme={themes:[],register:function(b){uki.theme.themes.push(b)},background:function(b,c){return uki.theme._namedResource(b,"background",c)||new uki.background.Null},image:function(b,c){return uki.theme._namedResource(b,"image",c)||new Image},imageSrc:function(b,c){return uki.theme._namedResource(b,"imageSrc",c)||""},style:function(b,
c){return uki.theme._namedResource(b,"style",c)||""},dom:function(b,c){return uki.theme._namedResource(b,"dom",c)||uki.createElement("div")},template:function(b,c){return uki.theme._namedResource(b,"template",c)||""},_namedResource:function(b,c,e){for(var f=uki.theme.themes.length-1;f>=0;f--){var m=uki.theme.themes[f][c](b,e);if(m)return m}return null}};uki.theme.Base={images:[],imageSrcs:[],backgrounds:[],doms:[],styles:[],templates:[],background:function(b,c){return this.backgrounds[b]&&this.backgrounds[b](c)},
image:function(b,c){if(this.images[b])return this.images[b](c);return this.imageSrcs[b]&&uki.image.apply(uki,this.imageSrcs[b](c))},imageSrc:function(b,c){if(this.imageSrcs[b])return uki.imageSrc.apply(uki,this.imageSrcs[b](c));return this.images[b]&&this.images[b](c).src},dom:function(b,c){return this.doms[b]&&this.doms[b](c)},style:function(b,c){return this.styles[b]&&this.styles[b](c)},template:function(b,c){return this.templates[b]&&this.templates[b](c)}};uki.theme.Template=function(b){b=b.split("${");
var c,e,f;this.parts=[b[0]];this.names=[];c=1;for(e=b.length;c<e;c++){f=b[c].split("}");this.names.push(f.shift());this.parts.push("");this.parts.push(f.join("}"))}};uki.theme.Template.prototype.render=function(b){for(var c=0,e=this.names,f=e.length;c<f;c++)this.parts[c*2+1]=b[e[c]]||"";return this.parts.join("")};uki.view.utils=new (function(){function b(c){return c.visibleRect?c.visibleRect():c.rect().clone()}this.visibleRect=function(c,e){var f=[],m,h=c;do{f[f.length]=h;h=h.parent()}while(h&&h!=
e);if(e&&e!=c)f[f.length]=e;for(c=f.length-1;c>=0;c--){h=f[c];e=b(h);m=m?m.intersection(e):e;m.x-=h.rect().x;m.y-=h.rect().y}return m};this.top=function(c){for(;c.parent();)c=c.parent();return c};this.offset=function(c,e){for(var f=new Z,m;c&&c!=e;){m=c.rect();f.x+=m.x;f.y+=m.y;if(c.scrollTop){f.x-=c.scrollLeft();f.y-=c.scrollTop()}c=c.parent()}return f};this.scrollableParent=function(c){do{if(uki.isFunction(c.scrollTop))return c;c=c.parent()}while(c);return null}});uki.extend(uki.view,uki.view.utils);
uki.view.Styleable=new (function(){this.style=function(c,e){if(typeof c=="string")return this._style(c,e);uki.each(c,function(f,m){this._style(f,m)},this);return this};this._style=function(c,e){if(e===undefined)return this._dom.style[c];this._dom.style[c]=e;return this};var b=uki.createElement("div").style;uki.each(["userSelect","MozUserSelect","WebkitUserSelect"],function(c,e){if(typeof b[e]=="string")this._textSelectProp=e},this);this.textSelectable=function(c){if(c===undefined)return this._textSelectable;
this._textSelectable=c;if(this._textSelectProp)this._dom.style[this._textSelectProp]=c?"":this._textSelectProp=="MozUserSelect"?"-moz-none":"none";else uki.dom[c?"unbind":"bind"](this.dom(),"selectstart",uki.dom.preventDefaultHandler);this._dom.style.cursor=c?"":"default";return this};this.draggable=function(c){if(c===undefined)return this._dom.getAttribute("draggable");this._dom.setAttribute("draggable",true);this._dom.style.WebkitUserDrag="element";return this}});uki.view.Focusable=new (function(){this._focusOnClick=
this._focusable=true;this.focusOnClick=uki.newProp("_focusOnClick");this.focusable=uki.newProp("_focusable",function(b){(this._focusable=b)&&this._initFocusable();this._updateFocusable()});this.disabled=uki.newProp("_disabled",function(b){var c=b!==!!this._disabled;(this._disabled=b)&&this.blur();this._updateFocusable();c&&this._updateBg&&this._updateBg()});this._updateFocusable=function(){if(!(this._preCreatedFocusTarget||!this._focusTarget))this._focusTarget.style.display=this._focusable&&!this._disabled?
"block":"none"};this._initFocusable=function(b){if(!(!b&&!this._focusable||this._focusTarget)){this._preCreatedFocusTarget=this._focusTarget=b;if(!b){this._focusTarget=uki.createElement("input","position:absolute;left:-9999px;top:0;width:1px;height:1px;");this.dom().appendChild(this._focusTarget)}this._hasFocus=false;this._firstFocus=true;uki.dom.bind(this._focusTarget,"focus",uki.proxy(function(c){this._hasFocus||this._focus(c)},this));uki.dom.bind(this._focusTarget,"blur",uki.proxy(function(){if(this._hasFocus){this._hasFocus=
false;setTimeout(uki.proxy(function(){this._hasFocus||this._blur()},this),1)}},this));b||this.bind("mousedown",function(){this._focusOnClick&&this.focus()});this._updateFocusable()}};this._focus=function(){this._hasFocus=true;this._firstFocus=false};this._blur=function(){this._hasFocus=false};this.focus=function(){if(this._focusable&&!this._disabled){this._hasFocus||this._focus();var b=this._focusTarget;setTimeout(function(){try{b.focus()}catch(c){}b=null},1)}return this};this.blur=function(){try{this._focusTarget.blur()}catch(b){}return this};
this.hasFocus=function(){return this._hasFocus};this._bindToDom=function(b){if(!this._focusTarget||"keyup keydown keypress focus blur".indexOf(b)==-1)return false;return uki.view.Observable._bindToDom.call(this,b,this._focusTarget)}});var oa=16,pa=32;uki.view.declare("uki.view.Base",uki.view.Observable,uki.view.Styleable,function(){function b(e){if(!e)return 0;var f=0;if(e.indexOf("width")>-1)f|=oa;if(e.indexOf("height")>-1)f|=pa;return f}var c=1;this.defaultCss="position:absolute;z-index:100;-moz-user-focus:none;";
this.init=function(e){this._parentRect=this._rect=M.create(e);this._setup();uki.initNativeLayout();this._createDom()};this._setup=function(){uki.extend(this,{_anchors:0,_parent:null,_visible:true,_needsLayout:true,_textSelectable:false,_styleH:"left",_styleV:"top",_firstLayout:true});this.defaultCss+=uki.theme.style("base")};this.dom=function(){return this._dom};this.id=function(e){if(e===undefined)return this._dom.id;this._dom.id&&uki.unregisterId(this);this._dom.id=e;uki.registerId(this);return this};
uki.delegateProp(this,"className","_dom");this.visible=function(e){if(e===undefined)return this._dom.style.display!="none";this._dom.style.display=e?"block":"none";return this};this.background=function(e){if(e===undefined&&!this._background&&this.defaultBackground)this._background=this.defaultBackground();if(e===undefined)return this._background;e=uki.background(e);if(e==this._background)return this;this._background&&this._background.detach(this);e.attachTo(this);this._background=e;return this};this.defaultBackground=
function(){return this._defaultBackground&&uki.background(this._defaultBackground)};this.parent=function(e){if(e===undefined)return this._parent;this._parent=e;return this};this.childViews=function(){return[]};this.prevView=function(){if(!this.parent())return null;return this.parent().childViews()[this._viewIndex-1]||null};this.nextView=function(){if(!this.parent())return null;return this.parent().childViews()[this._viewIndex+1]||null};this.rect=function(e){if(e===undefined)return this._rect;this._parentRect=
e=M.create(e);this._rect=this._normalizeRect(e);this._needsLayout=this._needsLayout||c++;return this};this.anchors=uki.newProp("_anchors",function(e){if(e.indexOf){var f=0;if(e.indexOf("right")>-1)f|=2;if(e.indexOf("bottom")>-1)f|=4;if(e.indexOf("top")>-1)f|=1;if(e.indexOf("left")>-1)f|=8;if(e.indexOf("width")>-1||f&8&&f&2)f|=oa;if(e.indexOf("height")>-1||f&4&&f&1)f|=pa;e=f}this._anchors=e;this._styleH=e&8?"left":"right";this._styleV=e&1?"top":"bottom"});this.rectForChild=function(){return this.rect()};
this.layout=function(){this._layoutDom(this._rect);this._needsLayout=false;this.trigger("layout",{rect:this._rect,source:this});this._firstLayout=false};uki.each(["min","max"],function(e,f){e=f+"Size";var m="_"+e;this[e]=function(h){if(h===undefined)return this[m]||new U;this[m]=U.create(h);this.rect(this._parentRect);this._dom.style[f+"Width"]=this[m].width?this[m].width+"px":"";this._dom.style[f+"Height"]=this[m].height?this[m].height+"px":"";return this}},this);this.parentResized=function(e,f){var m=
this._parentRect.clone(),h=(f.width-e.width)/((this._anchors&8^8?1:0)+(this._anchors&oa?1:0)+(this._anchors&2^2?1:0));e=(f.height-e.height)/((this._anchors&1^1?1:0)+(this._anchors&pa?1:0)+(this._anchors&4^4?1:0));if(this._anchors&8^8)m.x+=h;if(this._anchors&oa)m.width+=h;if(this._anchors&1^1)m.y+=e;if(this._anchors&pa)m.height+=e;this.rect(m)};this.resizeToContents=function(e){e=b(e);if(0==e)return this;this.rect();this._rect=this._parentRect=this._calcRectOnContentResize(e);this._needsLayout=true;
return this};this.contentsSize=function(){return this.rect()};this._normalizeRect=function(e){if(this._minSize)e=new M(e.x,e.y,R(this._minSize.width,e.width),R(this._minSize.height,e.height));if(this._maxSize)e=new M(e.x,e.y,ea(this._maxSize.width,e.width),ea(this._maxSize.height,e.height));return e};this._initBackgrounds=function(){this.background()&&this.background().attachTo(this)};this._calcRectOnContentResize=function(e){var f=this.contentsSize(e),m=this.rect();if(f.eq(m))return m;var h=this.rect().clone(),
p=f.width-m.width;f=f.height-m.height;if(e&oa){if(this._anchors&8^8&&this._anchors&2^2)h.x-=p/2;else if(this._anchors&8^8)h.x-=p;h.width+=p}if(e&pa){if(this._anchors&1^1&&this._anchors&4^4)h.y-=f/2;else if(this._anchors&1^1)h.y-=f;h.height+=f}return h};uki.each(["width","height","minX","maxX","minY","maxY","x","y","left","top"],function(e,f){this[f]=function(m){if(m===undefined)return uki.attr(this.rect(),f);uki.attr(this.rect(),f,m);return this}},this);this._createDom=function(){this._dom=uki.createElement("div",
this.defaultCss)};this._layoutDom=function(e){var f={},m=uki.supportNativeLayout,h=this.parent().rectForChild(this);if(m&&this._anchors&8&&this._anchors&2){f.left=e.x;f.right=h.width-e.x-e.width}else{f.width=e.width;f[this._styleH]=this._styleH=="left"?e.x:h.width-e.x-e.width}if(m&&this._anchors&1&&this._anchors&4){f.top=e.y;f.bottom=h.height-e.y-e.height}else{f.height=e.height;f[this._styleV]=this._styleV=="top"?e.y:h.height-e.y-e.height}this._lastLayout=uki.dom.layout(this._dom.style,f,this._lastLayout);
this._firstLayout&&this._initBackgrounds();return true};this._bindToDom=function(e){if("resize layout".indexOf(e)>-1)return true;return uki.view.Observable._bindToDom.call(this,e)}});uki.view.declare("uki.view.Container",uki.view.Base,function(b){function c(e,f){var m=0,h;for(h=e._childViews.length-1;h>=0;h--)if(e._childViews[h].visible())m=R(m,e._childViews[h].rect()[f]());return m}this._setup=function(){this._childViews=[];b._setup.call(this)};this.contentsWidth=function(){return c(this,"maxX")};
this.contentsHeight=function(){return c(this,"maxY")};this.contentsSize=function(){return new U(this.contentsWidth(),this.contentsHeight())};this.childViews=function(e){if(e===undefined)return this._childViews;uki.each(this._childViews,function(f,m){this.removeChild(m)},this);uki.each(uki.build(e),function(f,m){this.appendChild(m)},this);return this};this.removeChild=function(e){e.parent(null);this.domForChild(e).removeChild(e.dom());var f,m;f=e._viewIndex+1;for(m=this._childViews.length;f<m;f++)this._childViews[f]._viewIndex--;
this._childViews=uki.grep(this._childViews,function(h){return h!=e})};this.appendChild=function(e){e._viewIndex=this._childViews.length;this._childViews.push(e);e.parent(this);this.domForChild(e).appendChild(e.dom())};this.insertBefore=function(e,f){var m,h;m=e._viewIndex=f._viewIndex;for(h=this._childViews.length;m<h;m++)this._childViews[m]._viewIndex++;this._childViews.splice(f._viewIndex-1,0,e);e.parent(this);this.domForChild(e).insertBefore(e.dom(),f.dom())};this.domForChild=function(){return this._dom};
this._layoutDom=function(e){b._layoutDom.call(this,e);this._layoutChildViews(e)};this._layoutChildViews=function(){for(var e=0,f=this.childViews();e<f.length;e++)f[e]._needsLayout&&f[e].visible()&&f[e].layout(this._rect)};this.rect=function(e){if(e===undefined)return this._rect;this._parentRect=e=M.create(e);var f=this._rect;if(!this._resizeSelf(e))return this;this._needsLayout=true;if(f.width!=e.width||f.height!=e.height)this._resizeChildViews(f);this.trigger("resize",{oldRect:f,newRect:this._rect,
source:this});return this};this._resizeSelf=function(e){this._rect=this._normalizeRect(e);return true};this._resizeChildViews=function(e){for(var f=0,m=this.childViews();f<m.length;f++)m[f].parentResized(e,this._rect)}});uki.view.declare("uki.view.Box",uki.view.Container,{});uki.view.declare("uki.view.Image",uki.view.Base,function(){this.typeName=function(){return"uki.view.Image"};uki.delegateProp(this,"src","_dom");this._createDom=function(){this._dom=uki.createElement("img",this.defaultCss)}});
uki.view.declare("uki.view.Label",uki.view.Base,function(b){this._setup=function(){b._setup.call(this);uki.extend(this,{_scrollable:false,_textSelectable:false,_inset:new aa});this.defaultCss+=uki.theme.style("label")};this._style=function(c,e){if(e!==undefined&&"font fontFamily fontWeight fontSize textDecoration textOverflow textAlign overflow color".indexOf(c)!=-1)this._label.style[c]=e;return b._style.call(this,c,e)};this.textSelectable=function(c){if(c!==undefined&&!this._textSelectProp)this._label.unselectable=
c?"":"on";return b.textSelectable.call(this,c)};this.contentsSize=function(c){var e=this._createLabelClone(c),f=this.inset(),m;uki.dom.probe(e,function(){m=new U(e.offsetWidth+f.width(),e.offsetHeight+f.height())});return m};this.text=function(c){return c===undefined?this.html():this.html(uki.escapeHTML(c))};this.html=function(c){if(c===undefined)return this._label.innerHTML;this._label.innerHTML=c;return this};this.inset=uki.newProp("_inset",function(c){this._inset=aa.create(c)});this.scrollable=
uki.newProp("_scrollable",function(c){this._scrollable=c;this._label.style.overflow=c?"auto":"hidden"});this.multiline=uki.newProp("_multiline",function(c){this._multiline=c;this._label.style.whiteSpace=c?"":"nowrap"});this._createLabelClone=function(c){var e=this._label.cloneNode(true),f=this.inset(),m=this.rect();if(c&oa)e.style.width=e.style.right="";else if(uki.supportNativeLayout){e.style.right="";e.style.width=m.width-f.width()+"px"}if(c&pa)e.style.height=e.style.bottom="";else if(uki.supportNativeLayout){e.style.bottom=
"";e.style.height=m.height-f.height()+"px"}e.style.paddingTop=0;e.style.visibility="hidden";return e};this._createDom=function(){b._createDom.call(this);this._label=uki.createElement("div",this.defaultCss+"white-space:nowrap;");this._dom.appendChild(this._label);this.textSelectable(this.textSelectable())};this._layoutDom=function(){b._layoutDom.apply(this,arguments);var c=this._inset;if(!this.multiline()){parseInt(this.style("fontSize"),10);this._label.style.lineHeight=this._rect.height-c.top-c.bottom+
"px"}c=uki.supportNativeLayout?{left:c.left,top:c.top,right:c.right,bottom:c.bottom}:{left:c.left,top:c.top,width:this._rect.width-c.width(),height:this._rect.height-c.height()};this._lastLabelLayout=uki.dom.layout(this._label.style,c,this._lastLabelLayout)}});uki.view.declare("uki.view.Button",uki.view.Label,uki.view.Focusable,function(b,c){this._backgroundPrefix="button-";this._setup=function(){b._setup.call(this);uki.extend(this,{_inset:new aa(0,4)});this.defaultCss+="cursor:default;-moz-user-select:none;-webkit-user-select:none;"+
uki.theme.style("button")};uki.addProps(this,["backgroundPrefix"]);uki.each(["normal","hover","down","focus","disabled"],function(e,f){var m=f+"-background";this[m]=function(h){if(h)this["_"+m]=h;return this["_"+m]=this["_"+m]||uki.theme.background(this._backgroundPrefix+f,{height:this.rect().height,view:this})}},this);this._createLabelClone=function(e){return b._createLabelClone.call(this,e)};this._layoutDom=function(e){b._layoutDom.call(this,e);if(this._firstLayout){this["hover-background"]();this["down-background"]();
this._backgroundByName(this._backgroundName||"normal")}};this._updateBg=function(){this._backgroundByName(this._disabled?"disabled":this._down?"down":this._over?"hover":"normal")};this._createDom=function(){this._dom=uki.createElement("div",this.defaultCss);this._label=uki.createElement("div",this.defaultCss);this._dom.appendChild(this._label);this._dom.appendChild(uki.createElement("div","left:0;top:0;width:100%;height:100%;position:absolute;background:url("+uki.theme.imageSrc("x")+");"));this.textSelectable(this.textSelectable());
this._initFocusable();uki.dom.bind(document,"mouseup",uki.proxy(this._mouseup,this));this.bind("mousedown",this._mousedown);this.bind("mouseenter",this._mouseenter);this.bind("mouseleave",this._mouseleave);this.bind("keyup",this._keyup);this.bind("keydown",this._keydown)};this._mouseup=function(){if(this._down){this._down=false;this._updateBg()}};this._mousedown=function(){this._down=true;this._updateBg()};this._mouseenter=function(){this._over=true;this._updateBg()};this._mouseleave=function(){this._over=
false;this._updateBg()};this._focus=function(e){this["focus-background"]().attachTo(this);c._focus.call(this,e)};this._keydown=function(e){if((e.which==32||e.which==13)&&!this._down)this._mousedown()};this._keyup=function(e){if((e.which==32||e.which==13)&&this._down){this._mouseup();this.trigger("click",{domEvent:e,source:this})}e.which==27&&this._down&&this._mouseup()};this._blur=function(e){this["focus-background"]().detach();c._blur.call(this,e)};this._backgroundByName=function(e){var f=this[e+
"-background"]();if(this._background!=f){this._background&&this._background.detach();f.attachTo(this);this._background=f;this._backgroundName=e}};this._bindToDom=function(e){return uki.view.Focusable._bindToDom.call(this,e)||uki.view.Label.prototype._bindToDom.call(this,e)}});uki.view.declare("uki.view.Checkbox",uki.view.Button,function(b){this._backgroundPrefix="checkbox-";uki.each(["checked-normal","checked-hover","checked-disabled"],function(c,e){var f=e+"-background";this[f]=function(m){if(m)this["_"+
f]=m;return this["_"+f]=this["_"+f]||uki.theme.background(this._backgroundPrefix+e,{height:this.rect().height,view:this})}},this);this._setup=function(){b._setup.call(this);this._focusable=false};this._updateBg=function(){var c=this._disabled?"disabled":this._over?"hover":"normal";if(this._checked)c="checked-"+c;this._backgroundByName(c)};this.value=this.checked=uki.newProp("_checked",function(c){var e=this._checked!=!!c;this._checked=!!c;this._updateBg();e&&this.trigger("change",{checked:this._checked,
source:this})});this._mouseup=function(){if(this._down){this._down=false;this._disabled||this.checked(!this.checked())}}});(function(){var b=uki.view.declare("uki.view.Radio",uki.view.Checkbox,function(){this._backgroundPrefix="radio-";this.group=uki.newProp("_group",function(c){b.unregisterGroup(this);this._group=c;b.registerGroup(this);b.clearGroup(this)});this.value=this.checked=uki.newProp("_checked",function(c){var e=this._checked!=!!c;this._checked=!!c;c&&b.clearGroup(this);this._updateBg();
e&&this.trigger("change",{checked:this._checked,source:this})});this._mouseup=function(){if(this._down){this._down=false;!this._checked&&!this._disabled&&this.checked(!this._checked)}}});b.groups={};b.registerGroup=function(c){var e=c.group();if(b.groups[e])b.groups[e].push(c);else b.groups[e]=[c]};b.unregisterGroup=function(c){var e=c.group();if(b.groups[e])b.groups[e]=uki.grep(b.groups[e],function(f){return f!=c})};b.clearGroup=function(c){uki.each(b.groups[c.group()]||[],function(e,f){f!=c&&f.checked()&&
f.checked(false)})}})();uki.view.declare("uki.view.TextField",uki.view.Base,uki.view.Focusable,function(b,c){function e(h){if(!m[h]){var p=uki.createElement("input",b.defaultCss+"border:none;padding:0;border:0;overflow:hidden;font-size:"+h+";left:-999em;top:0");uki.dom.probe(p,function(s){m[h]=s.offsetHeight})}return m[h]}function f(h){return typeof h.placeholder=="string"}var m={};this._setup=function(){b._setup.apply(this,arguments);uki.extend(this,{_value:"",_multiline:false,_placeholder:"",_backgroundPrefix:"",
_tagName:"input",_type:"text"});this.defaultCss+="margin:0;border:none;outline:none;padding:0;left:2px;top:0;z-index:100;resize:none;background: url("+uki.theme.imageSrc("x")+");"+uki.theme.style("input")};this._updateBg=function(){this._input.style.color=this._disabled?"#999":"#000"};this.value=function(h){if(h===undefined)return this._input.value;this._input.value=h;this._updatePlaceholderVis();return this};this.placeholder=uki.newProp("_placeholder",function(h){this._placeholder=h;if(!this._multiline&&
f(this._input))this._input.placeholder=h;else if(this._placeholderDom)this._placeholderDom.innerHTML=h;else{this._placeholderDom=uki.createElement("div",this.defaultCss+"z-input:103;color:#999;cursor:text;-moz-user-select:none;",h);if(!this._multiline)this._placeholderDom.style.whiteSpace="nowrap";this._dom.appendChild(this._placeholderDom);this._updatePlaceholderVis();uki.each(["fontSize","fontFamily","fontWeight"],function(p,s){this._placeholderDom.style[s]=this.style(s)},this);uki.dom.bind(this._placeholderDom,
"mousedown",uki.proxy(function(p){this.focus();p.preventDefault()},this))}});this._style=function(h,p){if(p===undefined)return this._input.style[h];this._input.style[h]=p;if(this._placeholderDom)this._placeholderDom.style[h]=p;return this};uki.addProps(this,["backgroundPrefix"]);this.defaultBackground=function(){return uki.theme.background(this._backgroundPrefix+"input")};this._createDom=function(){this._dom=uki.createElement("div",b.defaultCss+";cursor:text;overflow:visible");this._input=uki.createElement(this._tagName,
this.defaultCss+(this._multiline?"":";overflow:hidden;"));this._input.value=this._value;if(this._type)this._input.type=this._type;this._dom.appendChild(this._input);this._input.value=this.value();this._initFocusable(this._input);this.bind("mousedown",function(h){h.target!=this._input&&this.focus()})};this._layoutDom=function(){b._layoutDom.apply(this,arguments);uki.dom.layout(this._input.style,{width:this._rect.width-4});var h;if(this._multiline){this._input.style.height=this._rect.height-4+"px";
this._input.style.top="2px";h="2px 0"}else{h=(this._rect.height-e(this.style("fontSize")))/2;h=za(h)+"px 0 "+La(h)+"px 0";this._input.style.margin=h}if(this._placeholderDom)this._placeholderDom.style.margin=h};this._updatePlaceholderVis=function(){if(this._placeholderDom)this._placeholderDom.style.display=this.value()?"none":"block"};this._focus=function(h){this._focusBackground=this._focusBackground||uki.theme.background(this._backgroundPrefix+"input-focus");this._focusBackground.attachTo(this);
if(this._placeholderDom)this._placeholderDom.style.display="none";c._focus.call(this,h)};this._blur=function(h){this._focusBackground.detach();this._updatePlaceholderVis();c._blur.call(this,h)};this._bindToDom=function(h){return c._bindToDom.call(this,h)||b._bindToDom.call(this,h)}});uki.view.declare("uki.view.MultilineTextField",uki.view.TextField,function(b){this._setup=function(){b._setup.call(this);this._tagName="textarea";this._type="";this._multiline=true}});uki.view.declare("uki.view.PasswordTextField",
uki.view.TextField,function(b){this._setup=function(){b._setup.call(this);this._type="password"}});(function(){function b(){c||uki.dom.probe(uki.createElement("div","position:absolute;left:-99em;width:100px;height:100px;overflow:scroll;",'<div style="position:absolute;left:0;width:100%;"></div>'),function(f){c=f.offsetWidth-f.clientWidth;e=f.firstChild.offsetWidth==100});return c}var c,e;uki.view.declare("uki.view.ScrollPane",uki.view.Container,function(f){this.typeName=function(){return"uki.view.ScrollPane"};
this._setup=function(){f._setup.call(this);uki.extend(this,{_clientRect:this.rect().clone(),_rectForChild:this.rect().clone(),_scrollableV:true,_scrollableH:false,_scrollV:false,_scrollH:false,_sbV:false,_sbH:false})};uki.addProps(this,["scrollableV","scrollableH","scrollH","scrollV"]);this.rectForChild=function(){return this._rectForChild};this.clientRect=function(){return this._clientRect};this.scroll=function(m,h){m&&this.scrollTop(this.scrollLeft()+h);h&&this.scrollTop(this.scrollTop()+h)};uki.each(["scrollTop",
"scrollLeft"],function(m,h){this[h]=function(p){if(p==undefined)return this._dom[h];this._dom[h]=p;this.trigger("scroll",{source:this});return this}},this);this.visibleRect=function(){var m=this._clientRect.clone();m.x=this.rect().x+this.scrollLeft();m.y=this.rect().y+this.scrollTop();return m};this.rect=function(m){if(m===undefined)return this._rect;m=M.create(m);var h=this._rect;this._parentRect=m;if(!this._resizeSelf(m))return this;this._updateClientRects();this._needsLayout=true;this.trigger("resize",
{oldRect:h,newRect:this._rect,source:this});return this};this._createDom=function(){f._createDom.call(this);if(na.indexOf("Gecko/")>-1)this._dom.tabIndex="-1"};this._recalcClientRects=function(){b();var m=this.contentsWidth(),h=this.contentsHeight();m=this._scrollableH?m>this._rect.width:false;h=this._scrollableV?h>this._rect.height:false;this._sbH=m||this._scrollH;this._sbV=h||this._scrollV;this._clientRect=new M(this._rect.width+(h?-1:0)*c,this._rect.height+(m?-1:0)*c);this._rectForChild=new M(this._rect.width+
(h&&!e?-1:0)*c,this._rect.height+(m&&!e?-1:0)*c)};this._updateClientRects=function(){var m=this._clientRect;this._recalcClientRects();if(m.width!=this._clientRect.width||m.height!=this._clientRect.height)this._resizeChildViews(m)};this._resizeChildViews=function(m){for(var h=0,p=this.childViews();h<p.length;h++)p[h].parentResized(m,this._clientRect)};this._layoutChildViews=function(){for(var m=0,h=this.childViews();m<h.length;m++)h[m]._needsLayout&&h[m].visible()&&h[m].layout()};this._layoutDom=function(m){this._updateClientRects();
if(this._layoutScrollH!==this._sbH){this._dom.style.overflowX=this._sbH?"scroll":"hidden";this._layoutScrollH=this._sbH}if(this._layoutScrollV!==this._sbV){this._dom.style.overflowY=this._sbV?"scroll":"hidden";this._layoutScrollV=this._sbV}f._layoutDom.call(this,m)}});uki.view.ScrollPane.initScrollWidth=b})();uki.view.list={};uki.view.declare("uki.view.List",uki.view.Base,uki.view.Focusable,function(b,c){function e(h,p){for(var s=new Array(p-h),t=0;h<=p;h++,t++)s[t]=h;return s}function f(h,p,s){for(var t=
p=uki.binarySearch(p,h);h[p]<=s;)p++;p>t&&h.splice(t,p-t)}this._throttle=42;this._visibleRectExt=300;this._defaultBackground="theme(list)";this._setup=function(){b._setup.call(this);uki.extend(this,{_rowHeight:30,_render:new uki.view.list.Render,_data:[],_lastClickIndex:-1,_selectedIndexes:[]})};this.defaultBackground=function(){return uki.theme.background("list",this._rowHeight)};uki.addProps(this,["render","packSize","visibleRectExt","throttle","contentDraggable","lastClickIndex","multiselect",
"lastClickIndex"]);this.rowHeight=uki.newProp("_rowHeight",function(h){this._rowHeight=h;this.minSize(new U(this.minSize().width,this._rowHeight*this._data.length));this._background&&this._background.detach();this._background=null;this.background()&&this.background().attachTo(this);this._relayoutParent()});this.data=function(h){if(h===undefined)return this._data;this.clearSelection();this._data=h;this._packs[0].itemFrom=this._packs[0].itemTo=this._packs[1].itemFrom=this._packs[1].itemTo=0;this.minSize(new U(this.minSize().width,
this._rowHeight*this._data.length));this.trigger("selection",{source:this});this._relayoutParent();return this};this.relayout=function(){this._packs[0].itemFrom=this._packs[0].itemTo=this._packs[1].itemFrom=this._packs[1].itemTo=0;this.layout()};this.contentsSize=function(){return new U(this.rect().width,this._rowHeight*this._data.length)};this.addRow=function(h,p){this._data.splice(h,0,p);p=this._itemAt(h);var s=J.createElement("div");s.innerHTML=this._rowTemplate.render({height:this._rowHeight,
text:this._render.render(this._data[h],this._rowRect(h),h)});p?p.parentNode.insertBefore(s.firstChild,p):this._dom.childNodes[0].appendChild(s.firstChild);if(h<=this._packs[0].itemTo){this._packs[0].itemTo++;this._packs[1].itemFrom++;this._packs[1].itemTo++;this._packs[1].dom.style.top=this._packs[1].itemFrom*this._rowHeight+"px"}else this._packs[1].itemTo++;for(h=uki.binarySearch(h,this.selectedIndexes());h<this._selectedIndexes.length;h++)this._selectedIndexes[h]++;this.minSize(new U(this.minSize().width,
this._rowHeight*this._data.length));this._relayoutParent();return this};this.removeRow=function(h){this._data.splice(h,1);this.data(this._data);return this};this.redrawRow=function(h){var p=this._itemAt(h);if(p)p.innerHTML=this._render.render(this._data[h],this._rowRect(h),h);return this};this.selectedIndex=function(h){if(h===undefined)return this._selectedIndexes.length?this._selectedIndexes[0]:-1;this.selectedIndexes([h]);this._scrollToPosition(h);return this};this.selectedIndexes=function(h){if(h===
undefined)return this._selectedIndexes;this.clearSelection(true);this._selectedIndexes=h;for(h=0;h<this._selectedIndexes.length;h++)this._setSelected(this._selectedIndexes[h],true);this.trigger("selection",{source:this});return this};this.selectedRow=function(){return this._data[this.selectedIndex()]};this.selectedRows=function(){return uki.map(this.selectedIndexes(),function(h){return this._data[h]},this)};this.clearSelection=function(h){for(var p=0;p<this._selectedIndexes.length;p++)this._setSelected(this._selectedIndexes[p],
false);this._selectedIndexes=[];if(!h)this._lastClickIndex=-1};this.isSelected=function(h){return this._selectedIndexes[uki.binarySearch(h,this._selectedIndexes)]==h};this.layout=function(){this._layoutDom(this._rect);this._needsLayout=false;this.trigger("layout",{rect:this._rect,source:this,visibleRect:this._visibleRect});this._firstLayout=false};this._rowRect=function(h){return new M(0,h*this._rowHeight,this.rect().width,this._rowHeight)};this._toggleSelection=function(h){var p=[].concat(this._selectedIndexes),
s=uki.binarySearch(h,p);p[s]==h?p.splice(s,1):p.splice(s,0,h);this.selectedIndexes(p)};var m=false;this._scrollableParentScroll=function(){if(!m)if(this._throttle){if(!this._throttleStarted){this._throttleStarted=true;setTimeout(uki.proxy(function(){this._throttleStarted=false;this.layout()},this),this._throttle)}}else this.layout()};this._relayoutParent=function(){if(this._scrollableParent){for(var h=this;h&&h!=this._scrollableParent;){h._needsLayout=true;h=h.parent()}h.layout()}};this.keyPressEvent=
function(){return Y.opera||/mozilla/i.test(na)&&!/(compatible|webkit)/i.test(na)?"keypress":"keydown"};this._bindSelectionEvents=function(){this.bind("mousedown",this._mousedown);this.bind("mouseup",this._mouseup);this.bind(this.keyPressEvent(),this._keypress)};this._mouseup=function(h){if(this._multiselect){var p=uki.dom.offset(this._dom);h=(h.pageY-p.y)/this._rowHeight<<0;this._selectionInProcess&&this._lastClickIndex==h&&this.isSelected(h)&&this.selectedIndexes([h]);this._selectionInProcess=false}};
this._mousedown=function(h){var p=uki.dom.offset(this._dom);p=(h.pageY-p.y)/this._rowHeight<<0;var s=this._selectedIndexes;if(this._multiselect){this._selectionInProcess=false;if(h.shiftKey&&s.length>0)if(this.isSelected(p)){s=[].concat(s);f(s,Math.min(p+1,this._lastClickIndex),Math.max(p-1,this._lastClickIndex));this.selectedIndexes(s)}else this.selectedIndexes(e(Math.min(p,s[0]),Math.max(p,s[s.length-1])));else if(h.metaKey)this._toggleSelection(p);else if(this.isSelected(p))this._selectionInProcess=
true;else this.selectedIndexes([p])}else this.selectedIndexes([p]);this._lastClickIndex=p};this._keypress=function(h){var p=-1;if(h.which==38||h.keyCode==38){p=Math.max(0,this._lastClickIndex-1);h.preventDefault()}else if(h.which==40||h.keyCode==40){p=Math.min(this._data.length-1,this._lastClickIndex+1);h.preventDefault()}else if(this._multiselect&&(h.which==97||h.which==65)&&h.metaKey){h.preventDefault();this.selectedIndexes(e(0,this._data.length-1))}if(p>-1&&p!=this._lastClickIndex){if(h.shiftKey&&
this._multiselect){this.isSelected(p)?this._toggleSelection(this._lastClickIndex):this._toggleSelection(p);this._scrollToPosition(p)}else this.selectedIndex(p);this._lastClickIndex=p}};this._createDom=function(){this._dom=uki.createElement("div",this.defaultCss+"overflow:hidden");var h=uki.createElement("div","position:absolute;left:0;top:0px;width:100%;overflow:hidden");this._packs=[{dom:h,itemTo:0,itemFrom:0},{dom:h.cloneNode(false),itemTo:0,itemFrom:0}];this._dom.appendChild(this._packs[0].dom);
this._dom.appendChild(this._packs[1].dom);this._initFocusable();this._bindSelectionEvents()};this._setSelected=function(h,p){var s=this._itemAt(h);s&&this._render.setSelected(s,this._data[h],p,this.hasFocus())};this._scrollToPosition=function(h){if(this._visibleRect){var p;p=(h+1)*this._rowHeight;h=h*this._rowHeight;m=true;if(p>=this._visibleRect.maxY())this._scrollableParent.scroll(0,p-this._visibleRect.maxY());else h<this._visibleRect.y&&this._scrollableParent.scroll(0,h-this._visibleRect.y);m=
false;this.layout()}};this._itemAt=function(h){if(h<this._packs[1].itemTo&&h>=this._packs[1].itemFrom)return this._packs[1].dom.childNodes[h-this._packs[1].itemFrom];else if(h<this._packs[0].itemTo&&h>=this._packs[0].itemFrom)return this._packs[0].dom.childNodes[h-this._packs[0].itemFrom];return null};this._rowTemplate=new uki.theme.Template('<div style="width:100%;height:${height}px;overflow:hidden;">${text}</div>');this._renderPack=function(h,p,s){var t=[];for(i=p;i<s;i++)t[t.length]=this._rowTemplate.render({height:this._rowHeight,
text:this._render.render(this._data[i],this._rowRect(i),i)});h.dom.innerHTML=t.join("");h.itemFrom=p;h.itemTo=s;h.dom.style.top=p*this._rowHeight+"px";this._restorePackSelection(h,p,s)};this._restorePackSelection=function(h){var p=this._selectedIndexes;if(p[0]<=h.itemFrom&&p[p.length-1]>=h.itemFrom||p[0]<=h.itemTo&&p[p.length-1]>=h.itemTo||p[0]>=h.itemFrom&&p[p.length-1]<=h.itemTo){var s=uki.binarySearch(h.itemFrom,p);for(s=Math.max(s,0);p[s]!==null&&p[s]<h.itemTo;){var t=p[s]-h.itemFrom;this._render.setSelected(h.dom.childNodes[t],
this._data[t],true,this.hasFocus());s++}}};this._swapPacks=function(){var h=this._packs[0];this._packs[0]=this._packs[1];this._packs[1]=h};this._layoutDom=function(h){if(!this._scrollableParent){this._scrollableParent=uki.view.scrollableParent(this);this._scrollableParent.bind("scroll",uki.proxy(this._scrollableParentScroll,this))}var p=this._rowHeight*this._data.length;this._visibleRect=uki.view.visibleRect(this,this._scrollableParent);if(this._focusTarget)this._focusTarget.style.top=this._visibleRect.y+
"px";var s=za((this._visibleRect.height+this._visibleRectExt*2)/this._rowHeight),t=R(0,this._visibleRect.y-this._visibleRectExt),B=ea(p,this._visibleRect.maxY()+this._visibleRectExt),y=this._packs[0].itemFrom*this._rowHeight,A=this._packs[1].itemTo*this._rowHeight;p=true;b._layoutDom.call(this,h);if(B<=y||t>=A||B>A&&this._packs[1].itemFrom*this._rowHeight>this._visibleRect.y&&this._packs[1].itemTo>this._packs[1].itemFrom||t<y&&this._packs[0].itemTo*this._rowHeight<this._visibleRect.maxY()){h=t-this._visibleRectExt/
2;h=R(0,Math.round(h/this._rowHeight));s=ea(this._data.length,h+s);this._renderPack(this._packs[0],h,s);this._renderPack(this._packs[1],s,s)}else if(B>A&&this._packs[1].itemTo>this._packs[1].itemFrom){h=this._packs[1].itemTo;s=ea(this._data.length,this._packs[1].itemTo+s);this._renderPack(this._packs[0],h,s);this._swapPacks()}else if(B>A){h=this._packs[0].itemTo;s=ea(this._data.length,this._packs[1].itemTo+s);this._renderPack(this._packs[1],h,s)}else if(t<y){h=R(this._packs[0].itemFrom-s,0);s=this._packs[0].itemFrom;
this._renderPack(this._packs[1],h,s);this._swapPacks()}else p=false;if(p&&/MSIE 6|7/.test(na))this.dom().className+=""};this._bindToDom=function(h){return c._bindToDom.call(this,h)||b._bindToDom.call(this,h)};this._focus=function(h){c._focus.call(this,h);this._selectedIndexes.length==0&&this._data.length>0?this.selectedIndexes([0]):this.selectedIndexes(this.selectedIndexes())};this._blur=function(h){c._blur.call(this,h);this.selectedIndexes(this.selectedIndexes())}});uki.Collection.addAttrs(["data",
"selectedIndex","selectedIndexes","selectedRows"]);uki.view.declare("uki.view.ScrollableList",uki.view.ScrollPane,function(b){this._createDom=function(){b._createDom.call(this);this._list=uki({view:"List",rect:this.rect().clone().normalize(),anchors:"left top right bottom"})[0];this.appendChild(this._list)};uki.each("data rowHeight render packSize visibleRectExt throttle focusable selectedIndexes selectedIndex selectedIndexes selectedRows multiselect contentDraggable draggable textSelectable".split(" "),
function(c,e){uki.delegateProp(this,e,"_list")},this)});uki.view.list.Render=uki.newClass({init:function(){},render:function(b,c){return'<div style="line-height: '+c.height+'px; font-size: 12px; padding: 0 4px;">'+b+"</div>"},setSelected:function(b,c,e,f){b.style.backgroundColor=e&&f?"#3875D7":e?"#CCC":"";b.style.color=e&&f?"#FFF":"#000"}});uki.view.table={};uki.view.declare("uki.view.Table",uki.view.Container,function(b){var c="rowHeight data packSize visibleRectExt render selectedIndex selectedIndexes selectedRows selectedRow focus blur hasFocus lastClickIndex focusable textSelectable multiselect".split(" ");
this._headerHeight=this._rowHeight=17;this._listImpl="uki.view.List";uki.each(c,function(e,f){uki.delegateProp(this,f,"_list")},this);this._setup=function(){b._setup.call(this);this._columns=[];this.defaultCss+="overflow:hidden;"};this._style=function(e,f){this._header.style(e,f);return b._style.call(this,e,f)};this.list=function(){return this._list};this.header=function(){return this._header};this.columns=uki.newProp("_columns",function(e){for(var f=0;f<this._columns.length;f++)this._columns[f].unbind();
this._columns=uki.build(e);for(f=this._totalWidth=0;f<this._columns.length;f++){this._columns[f].position(f);this._columns[f].bind("beforeResize",uki.proxy(function(){this._updateTotalWidth();this._scrollPane.layout()},this))}this._updateTotalWidth();this._header.columns(this._columns)});this.redrawCell=function(e,f){var m=this._list._itemAt(e);if(m){var h=J.createElement("div");h.innerHTML=this.columns()[f].render(this.data()[e],new M(0,e*this.rowHeight(),this.list().width(),this.rowHeight()),e);
m.replaceChild(h.firstChild,m.childNodes[f])}return this};uki.each(["redrawRow","addRow","removeRow"],function(e,f){this[f]=function(){this.list()[f].apply(this.list(),arguments);return this}},this);this.redrawColumn=function(e){for(var f=this._list._packs[1].itemTo,m=this._list._packs[0].itemFrom;m<f;m++)this.redrawCell(m,e);return this};this._updateTotalWidth=function(){for(var e=this._totalWidth=0;e<this._columns.length;e++){this._columns[e].position(e);this._totalWidth+=this._columns[e].width()}this._list.minSize(new U(this._totalWidth,
this._list.minSize().height));this._header.minSize(new U(this._totalWidth,0))};this._createDom=function(){b._createDom.call(this);var e=new M(0,this._headerHeight,this.rect().width,this.rect().height-this._headerHeight),f=e.clone().normalize(),m=new M(0,0,this.rect().width,this._headerHeight),h={view:this._listImpl,rect:f,anchors:"left top bottom right",render:new uki.view.table.Render(this),className:"table-list"};e={view:"ScrollPane",rect:e,anchors:"left top right bottom",scrollableH:true,childViews:[h],
className:"table-scroll-pane"};m={view:"table.Header",rect:m,anchors:"top left right",className:"table-header"};uki.each(c,function(p,s){if(this["_"+s]!==undefined)h[s]=this["_"+s]},this);this._scrollPane=uki.build(e)[0];this._list=this._scrollPane.childViews()[0];this._header=uki.build(m)[0];this._scrollPane.resizeToContents();this.appendChild(this._header);this.appendChild(this._scrollPane);this._scrollPane.bind("scroll",uki.proxy(function(){this._header.dom().style.left=-this._scrollPane.scrollLeft()+
"px"},this))}});uki.Collection.addAttrs(["columns"]);uki.view.table.Render=uki.newClass(uki.view.list.Render,new (function(){this.init=function(b){this._table=b};this.render=function(b,c,e){var f=this._table.columns();return uki.map(f,function(m,h){return f[h].render(b,c,e)}).join("")}}));uki.view.table.Column=uki.newClass(uki.view.Observable,new (function(){this._width=100;this._maxWidth=this._minWidth=this._position=this._offset=0;this._css="float:left;white-space:nowrap;text-overflow:ellipsis;";
this._inset=new aa(3,5);this.init=function(){};uki.addProps(this,["position","css","formatter","label","resizable","maxWidth","minWidth","maxWidth","key"]);this.template=function(b){if(b===undefined)return this._template=this._template||uki.theme.template("table-cell");this._template=b;return this};this.headerTemplate=function(b){if(b===undefined)return this._headerTemplate=this._headerTemplate||uki.theme.template("table-header-cell");this._headerTemplate=b;return this};this.width=uki.newProp("_width",
function(b){var c={oldWidth:this._width,source:this};this._width=this._normailizeWidth(b);c.newWidth=this._width;this.trigger("beforeResize",c);if(this._stylesheet&&c.newWidth!=c.oldWidth)(this._stylesheet.styleSheet?this._stylesheet.styleSheet.rules:this._stylesheet.sheet.cssRules)[0].style.width=this._clientWidth()+"px";this.trigger("resize",c)});this._bindToDom=uki.F;this._normailizeWidth=function(b){if(this._maxWidth)b=ea(this._maxWidth,b);if(this._minWidth)b=R(this._minWidth,b);return b};this.inset=
uki.newProp("_inset",function(b){this._inset=aa.create(b)});this.render=function(b,c,e){this._prerenderedTemplate||this._prerenderTemplate(c);c=this._key?uki.attr(b,this._key):b[this._position];this._prerenderedTemplate[1]=this._formatter?this._formatter(c,b,e):c;return this._prerenderedTemplate.join("")};this.appendResizer=function(b,c){c=uki.theme.dom("resizer",c);b.appendChild(c);return c};this.renderHeader=function(b){this._className||this._initStylesheet();return this.headerTemplate().render({data:'<div style="overflow:hidden;text-overflow:ellipsis;*width:100%;height:100%;">'+
this.label()+"</div>",style:"*overflow-y:hidden;"+this._cellStyle(uki.dom.offset.boxModel?b-1:b),className:this._className})};this._prerenderTemplate=function(b){this._className||this._initStylesheet();this._prerenderedTemplate=this.template().render({data:"\u0001\u0001",style:"overflow:hidden;"+this._cellStyle(b.height),className:this._className}).split("\u0001")};this._cellPadding=function(){var b=this._inset;return["padding:",b.top,"px ",b.right,"px ",b.bottom,"px ",b.left,"px;"].join("")};this._cellStyle=
function(b){b="height:"+(b-(uki.dom.offset.boxModel?this._inset.height():0))+"px;";return this._css+this._cellPadding()+";"+b};this._clientWidth=function(){return this._width-(uki.dom.offset.boxModel?this._inset.width()+1:0)};this._initStylesheet=function(){if(!this._className){uki.dom.offset.initializeBoxModel();this._className="uki-table-column-"+uki.guid++;var b="."+this._className+" {width:"+this._clientWidth()+"px;}";this._stylesheet=uki.dom.createStylesheet(b)}}}));uki.view.table.NumberColumn=
uki.newClass(uki.view.table.Column,new function(){this._css=uki.view.table.Column.prototype._css+"text-align:right;"});uki.view.table.CustomColumn=uki.view.table.Column;uki.view.table.Header=uki.newClass(uki.view.Label,function(b){this._setup=function(){b._setup.call(this);this._multiline=true;this._resizers=[]};this.typeName=function(){return"uki.view.table.Header"};this.columns=uki.newProp("_columns",function(c){this._columns=c;this.html(this._createColumns());this._createResizers()});this.redrawColumn=
function(c){this._resizers[c]&&uki.dom.unbind(this._resizers[c]);var e=J.createElement("div");e.innerHTML=this._columns[c].renderHeader(this.rect().height);this._label.replaceChild(e.firstChild,this._label.childNodes[c]);this._columns[c].resizable()&&this._createResizers(c)};this._createColumns=function(){for(var c=[],e=0,f=this._columns,m=f.length;e<m;e++)c[c.length]=f[e].renderHeader(this.rect().height);return c.join("")};this._createResizer=function(c){var e=this._columns[c];if(e.resizable()){e=
e.appendResizer(this._label.childNodes[c],this.rect().height);this._bindResizerDrag(e,c);this._resizers[c]=e}};this._createResizers=function(){uki.each(this._columns,this._createResizer,this)};this._bindResizerDrag=function(c,e){uki.dom.bind(c,"draggesture",uki.proxy(function(f){var m=uki.dom.offset(this.dom());f=f.pageX-m.x;m=0;var h,p=this._columns[e];for(h=0;h<e;h++)m+=this._columns[h].width();p.width(f-m)},this))}});uki.view.declare("uki.view.Slider",uki.view.Base,uki.view.Focusable,function(b,
c){this._setup=function(){b._setup.call(this);uki.extend(this,{_min:0,_max:1,_value:0,_values:null,_keyStep:0.01})};uki.addProps(this,["min","max","values","keyStep"]);this.values=uki.newProp("_values",function(e){this._values=e;this._min=e[0];this._max=e[e.length-1]});this.value=uki.newProp("_value",function(e){this._value=R(this._min,ea(this._max,e));this._position=this._val2pos(this._value);this._moveHandle();this.trigger("change",{source:this,value:this._value})});this._pos2val=function(e,f){if(this._values){e=
Math.round(1*e/this._rect.width*(this._values.length-1));if(f)this._cachedIndex=e;return this._values[e]}return e/this._rect.width*(this._max-this._min)};this._val2pos=function(e){if(this._values)return(this._cachedIndex!==undefined?this._cachedIndex:uki.binarySearch(e,this._values))/(this._values.length-1)*this._rect.width;return e/(this._max-this._min)*this._rect.width};this._createDom=function(){this._dom=uki.createElement("div",this.defaultCss+"height:18px;-moz-user-select:none;-webkit-user-select:none;overflow:visible;");
this._handle=uki.createElement("div",this.defaultCss+"overflow:hidden;cursor:default;background:url("+uki.theme.image("x").src+")");this._bg=uki.theme.image("slider-handle");this._focusBg=uki.theme.image("slider-focus");this._focusBg.style.cssText+=this._bg.style.cssText+=this.defaultCss+"top:0;left:0;z-index:-1;position:absolute;";this._handle.appendChild(this._bg);uki.theme.background("slider-bar").attachTo(this);this._initFocusable();uki.image.load([this._bg,this._focusBg],uki.proxy(this._afterHandleLoad,
this))};this._afterHandleLoad=function(){this._focusBg.style.cssText+=";z-index:10;margin-left:-"+this._focusBg.width/2+"px;margin-top:-"+(this._focusBg.height-this._bg.height/2+1)/2+"px;";this._handle.style.cssText+=";margin-left:-"+this._bg.width/2+"px;width:"+this._bg.width+"px;height:"+this._bg.height/2+"px;";this._dom.appendChild(this._handle);uki.each(["mouseenter","mouseleave","draggesturestart","draggesture","draggestureend"],function(e,f){uki.dom.bind(this._handle,f,uki.proxy(this["_"+f],
this))},this);this.bind("click",this._click);this.bind(uki.view.List.prototype.keyPressEvent(),this._keypress)};this._mouseenter=function(){this._over=true;this._bg.style.top=-this._bg.height/2+"px"};this._mouseleave=function(){this._over=false;this._bg.style.top=this._dragging?-this._bg.height/2+"px":0};this._click=function(e){this.value(this._pos2val(e.pageX-uki.dom.offset(this._dom).x,true));this._cachedIndex=undefined};this._keypress=function(e){if(e.which==39||e.keyCode==39)this.value(this.value()+
this._keyStep*(this._max-this._min));else if(e.which==37||e.keyCode==37)this.value(this.value()-this._keyStep*(this._max-this._min))};this._moveHandle=function(){this._focusBg.style.left=this._handle.style.left=this._position+"px"};this._draggesturestart=function(){this._dragging=true;this._initialPosition=new Z(parseInt(this._handle.style.left,10),parseInt(this._handle.style.top,10));return true};this._draggesture=function(e){this.value(this._pos2val(R(0,ea(this._rect.width,this._initialPosition.x+
e.dragOffset.x)),true));this._cachedIndex=undefined};this._draggestureend=function(){this._dragging=false;this._initialPosition=null;if(!this._over)this._bg.style.top=0;this.value(this._pos2val(this._position,true));this._cachedIndex=undefined};this._focus=function(e){this._dom.appendChild(this._focusBg);this._focusBg.style.left=this._handle.style.left;c._focus.call(this,e)};this._blur=function(e){this._dom.removeChild(this._focusBg);c._blur.call(this,e)};this._layoutDom=function(e){e=e.clone();e.height=
18;b._layoutDom.call(this,e);this._position=this._val2pos(this._value);this._moveHandle();return true};this._bindToDom=function(e){if(e=="change")return true;return uki.view.Focusable._bindToDom.call(this,e)||b._bindToDom.call(this,e)}});uki.view.declare("uki.view.HSplitPane",uki.view.Container,function(b){this._setup=function(){b._setup.call(this);this._originalRect=this._rect;uki.extend(this,{_vertical:false,_handlePosition:200,_autogrowLeft:false,_autogrowRight:true,_handleWidth:7,_leftMin:100,
_rightMin:100,_panes:[]})};this.handlePosition=uki.newProp("_handlePosition",function(c){this._handlePosition=this._normalizePosition(c);this.trigger("handleMove",{source:this,handlePosition:this._handlePosition,dragValue:c});this._resizeChildViews()});this.handleWidth=uki.newProp("_handleWidth",function(c){if(this._handleWidth!=c){this._handleWidth=c;c=this._createHandle();this._dom.insertBefore(c,this._handle);this._removeHandle();this._handle=c;this._resizeChildViews()}});this._normalizePosition=
function(c){var e=this._vertical?"height":"width";return R(this._leftMin,ea(this._rect[e]-this._rightMin-this._handleWidth,R(0,ea(this._rect?this._rect[e]:1E3,c*1))))};uki.addProps(this,["leftMin","rightMin","autogrowLeft","autogrowRight"]);this.topMin=this.leftMin;this.bottomMin=this.rightMin;this._removeHandle=function(){this._dom.removeChild(this._handle)};this._createHandle=function(){var c;if(this._vertical){c=uki.theme.dom("splitPane-vertical",{handleWidth:this._handleWidth});c.style.top=this._handlePosition+
"px"}else{c=uki.theme.dom("splitPane-horizontal",{handleWidth:this._handleWidth});c.style.left=this._handlePosition+"px"}uki.each(["draggesturestart","draggesture","draggestureend"],function(e,f){uki.dom.bind(c,f,uki.proxy(this["_"+f],this))},this);return c};this._createDom=function(){this._dom=uki.createElement("div",this.defaultCss);for(var c=0,e;c<2;c++){e={view:"Container"};e.anchors=c==1?"left top bottom right":this._vertical?"left top right":"left top bottom";e.rect=c==0?this._leftRect():this._rightRect();
this._panes[c]=uki.build(e)[0];this.appendChild(this._panes[c])}this._dom.appendChild(this._handle=this._createHandle())};this._normalizeRect=function(c){c=b._normalizeRect.call(this,c);c=c.clone();if(this._vertical)c.height=R(c.height,this._leftMin+this._rightMin);else c.width=R(c.width,this._leftMin+this._rightMin);return c};this._resizeSelf=function(c){var e=this._rect,f=this._vertical?"height":"width";if(!b._resizeSelf.call(this,c))return false;if(this._autogrowLeft){e=c[f]-e[f];this._handlePosition=
this._normalizePosition(this._handlePosition+(this._autogrowRight?e/2:e))}if(this._vertical){if(c.height-this._handlePosition<this._rightMin)this._handlePosition=R(this._leftMin,c.height-this._rightMin)}else if(c.width-this._handlePosition<this._rightMin)this._handlePosition=R(this._leftMin,c.width-this._rightMin);return true};this._draggesturestart=function(c){var e=uki.dom.offset(this.dom());this._posWithinHandle=c[this._vertical?"pageY":"pageX"]-e[this._vertical?"y":"x"]-this._handlePosition;return true};
this._draggesture=function(c){var e=uki.dom.offset(this.dom());this.handlePosition(c[this._vertical?"pageY":"pageX"]-e[this._vertical?"y":"x"]-this._posWithinHandle);this.layout()};this._draggestureend=function(){};this.topPane=this.leftPane=function(c){return this._paneAt(0,c)};this.bottomPane=this.rightPane=function(c){return this._paneAt(1,c)};this.topChildViews=this.leftChildViews=function(c){return this._childViewsAt(0,c)};this.bottomChildViews=this.rightChildViews=function(c){return this._childViewsAt(1,
c)};this._childViewsAt=function(c,e){if(e===undefined)return this._panes[c].childViews();this._panes[c].childViews(e);return this};this._paneAt=function(c,e){if(e===undefined)return this._panes[c];uki.build.copyAttrs(this._panes[c],e);return this};this._leftRect=function(){return this._vertical?new M(this._rect.width,this._handlePosition):new M(this._handlePosition,this._rect.height)};this._rightRect=function(){return this._vertical?new M(0,this._handlePosition+this._handleWidth,this._rect.width,
this._rect.height-this._handleWidth-this._handlePosition):new M(this._handlePosition+this._handleWidth,0,this._rect.width-this._handleWidth-this._handlePosition,this._rect.height)};this._resizeChildViews=function(){this._panes[0].rect(this._leftRect());this._panes[1].rect(this._rightRect())};this._layoutDom=function(c){b._layoutDom.call(this,c);this._handle.style[this._vertical?"top":"left"]=this._handlePosition+"px"};this._bindToDom=function(c){if(c=="handleMove")return true;return b._bindToDom.call(this,
c)}});uki.view.declare("uki.view.VSplitPane",uki.view.HSplitPane,function(b){this._setup=function(){b._setup.call(this);this._vertical=true}});uki.Collection.addAttrs(["handlePosition"]);uki.view.declare("uki.view.Popup",uki.view.Container,function(b){this._setup=function(){b._setup.call(this);uki.extend(this,{_offset:2,_relativeTo:null,_horizontal:false,_flipOnResize:true,_defaultBackground:"theme(popup-normal)"})};this._createDom=function(){b._createDom.call(this);this.hideOnClick(true)};uki.addProps(this,
["offset","relativeTo","horizontal","flipOnResize"]);this.hideOnClick=function(c){if(c===undefined)return this._clickHandler;if(c!=!!this._clickHandler)if(c){this._clickHandler=this._clickHandler||uki.proxy(function(e){uki.dom.contains(this._relativeTo.dom(),e.target)||uki.dom.contains(this.dom(),e.target)||this.hide()},this);uki.dom.bind(J.body,"mousedown",this._clickHandler);uki.dom.bind(Y,"resize",this._clickHandler)}else{uki.dom.unbind(J.body,"mousedown",this._clickHandler);uki.dom.unbind(Y,"resize",
this._clickHandler);this._clickHandler=false}return this};this.toggle=function(){this.parent()&&this.visible()?this.hide():this.show()};this.show=function(){this.visible(true);if(this.parent()){this.rect(this._recalculateRect());this.layout(this._rect)}else new uki.Attachment(Y,this);this.trigger("toggle",{source:this})};this.hide=function(){this.visible(false);this.trigger("toggle",{source:this})};this.parentResized=function(){this.rect(this._recalculateRect())};this._resizeSelf=function(c){this._rect=
this._normalizeRect(c);return true};this._layoutDom=function(c){return b._layoutDom.call(this,c)};this._recalculateRect=function(){if(!this.visible())return this._rect;var c=uki.dom.offset(this._relativeTo.dom()),e=this._relativeTo.rect(),f=this.rect().clone(),m=uki.view.top(this);m.rect();m=uki.dom.offset(m.dom());var h=new Z,p=this._horizontal?this._offset:0,s=this._horizontal?0:this._offset;c.offset(-m.x,-m.y);h.x=this._anchors&2?c.x+e.width-(this._horizontal?0:f.width)+p:c.x-(this._horizontal?
f.width:0)-p;h.y=this._anchors&4?c.y+(this._horizontal?e.height:0)-f.height-s:c.y+(this._horizontal?0:e.height)+s;return new M(h.x,h.y,f.width,f.height)}});uki.each(["show","hide","toggle"],function(b,c){uki.fn[c]=function(){this.each(function(){this[c]()})}});uki.view.declare("uki.view.VFlow",uki.view.Container,function(b){this.contentsSize=function(){var c=uki.reduce(0,this._childViews,function(e,f){return e+(f.visible()?f.rect().height:0)});return new U(this.contentsWidth(),c)};this.hidePartlyVisible=
uki.newProp("_hidePartlyVisible");this.resizeToContents=function(c){this._resizeChildViews(this._rect);return b.resizeToContents.call(this,c)};uki.each(["appendChild","removeChild","insertBefore"],function(c,e){this[e]=function(f,m){this._contentChanged=true;return b[e].call(this,f,m)}},this);this.layout=function(){this._contentChanged&&this._resizeChildViews(this._rect);return b.layout.call(this)};this._resizeChildViews=function(c){this._contentChanged=false;for(var e=0,f,m=0,h=this.childViews();m<
h.length;m++){f=h[m];f.parentResized(c,this._rect);f.rect().y=e;this._hidePartlyVisible&&f.visible(f._rect.height+e<=this._rect.height);if(f.visible())e+=f._rect.height}}});uki.view.declare("uki.view.HFlow",uki.view.VFlow,function(){this.contentsSize=function(){var b=uki.reduce(0,this._childViews,function(c,e){return c+(e.visible()?e.rect().width:0)});return new U(b,this.contentsHeight())};this._resizeChildViews=function(b){for(var c=0,e,f=0,m=this.childViews();f<m.length;f++){e=m[f];e.parentResized(b,
this._rect);e.rect().x=c;this._hidePartlyVisible&&e.visible(e._rect.width+c<=this._rect.width);if(e.visible())c+=e._rect.width}}});uki.view.toolbar={};uki.view.declare("uki.view.Toolbar",uki.view.Container,function(b){this.typeName=function(){return"uki.view.Toolbar"};this._moreWidth=30;this._setup=function(){b._setup.call(this);this._buttons=[];this._widths=[]};this.buttons=uki.newProp("_buttons",function(c){this._buttons=c;this._flow.childViews(uki.build(uki.map(this._buttons,this._createButton,
this)).resizeToContents("width"));this._totalWidth=uki.reduce(0,this._flow.childViews(),function(e,f){return e+f.rect().width})});uki.moreWidth=uki.newProp("_moreWidth",function(c){this._moreWidth=c;this._updateMoreVisible()});this._createDom=function(){b._createDom.call(this);var c=this.rect(),e=c.clone().normalize();c={view:"Button",rect:new M(c.width-this._moreWidth,0,this._moreWidth,c.height),anchors:"right top",className:"toolbar-button",visible:false,backgroundPrefix:"toolbar-more-",text:">>",
focusable:false};var f={view:"Popup",rect:"0 0",anchors:"right top",className:"toolbar-popup",background:"theme(toolbar-popup)",childViews:{view:"VFlow",rect:"0 5 0 0",anchors:"right top left bottom"}};this._flow=uki.build({view:"HFlow",rect:e,anchors:"left top right",className:"toolbar-flow",hidePartlyVisible:true})[0];this._more=uki.build(c)[0];this.appendChild(this._flow);this.appendChild(this._more);f.relativeTo=this._more;this._popup=uki.build(f)[0];this._more.bind("click",uki.proxy(this._showMissingButtons,
this))};this._showMissingButtons=function(){for(var c=this._flow.rect().width,e=0,f=[],m=0,h=this._flow.childViews(),p=h.length;m<p;m++){e+=h[m].rect().width;e>c&&f.push(m)}c=uki.map(f,function(s){var t={html:h[s].html(),backgroundPrefix:"toolbar-popup-button-"};uki.each(["fontSize","fontWeight","color","textAlign","inset"],function(B,y){t[y]=uki.attr(h[s],y)});return this._createButton(t)},this);uki("VFlow",this._popup).childViews(c).resizeToContents("width height");this._popup.resizeToContents("width height").height(this._popup.height()+
5).toggle()};this._updateMoreVisible=function(){var c=this._rect;if(this._more.visible()!=c.width<this._totalWidth){this._more.visible(c.width<this._totalWidth);var e=this._flow.rect();e.width+=(c.width<this._totalWidth?-1:1)*this._moreWidth;this._flow.rect(e)}};this.rect=function(c){var e=b.rect.call(this,c);c&&this._updateMoreVisible();return e};this._createButton=function(c){var e=this.rect().clone().normalize();e.width=100;return uki.extend({view:"Button",rect:e,focusable:false,align:"left",anchors:"left top",
backgroundPrefix:"toolbar-button-",autosizeToContents:"width",focusable:false},c)}});(function(){function b(m){return uki.theme.airport.imagePath+m}function c(m){var h=uki.theme.imageSrc("checkbox");return new uki.background.CssBox("",{innerHTML:'<div style="position:absolute;left:50%;top:50%;width:18px;height:18px;overflow:hidden;margin:-9px 0 0 -9px; background: url('+h+") 0 -"+m+'px"></div>'})}function e(m){var h=uki.theme.imageSrc("radio");return new uki.background.CssBox("",{innerHTML:'<div style="position:absolute;left:50%;top:50%;width:18px;height:18px;overflow:hidden;margin:-9px 0 0 -9px; background: url('+
h+") 0 -"+m+'px"></div>'})}function f(){return{c:[b("shadow/large-c.png"),"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC4AAAAuCAYAAABXuSs3AAACzklEQVRo3t2a63KiUBCEPYCX1U2Ixvd/Qm/kYjRBWd2aTjW950CS3fyYtaprULl8p2kGAcMg/QqR6SDTsXk/8moi041Mx+bt3WAKVDVIDOQj0ArcROCbFHzoAGbYTICzLwygC/jc8T62bGccFDKLKLUXeH2625sIpCo2mBa8bkiBWbkpo5oaQMrxFPCJ6ikxkNYAQg90Tiqk5h0DiDmeAoZqqTqIFrxuSB0uSENTQVUHkHJdnVbgN6qYrmkQ6n7U6VygRwY6Eg1pHiyDdcQcx0YZGLCvInxWyx44q+Nwi6Hh8Ng0kTqieTQ2QcCbSDzeCPB40UHqUfYAlvu9Lu0aDD0i0B+iiQnup1wfdLgNdw+mFxEG8CrwZziuB6JCT00zqQyfcn3Q4TZD7y96lrqPwL9HJkiLKygecPcK+tN0Y3VG348lMlnC8bNE5EjuXmGfLnq0+mSf4fujuh6kM8DtCUHfmG6pMry63uc4u83QDwaO+kjwB3U9SD45InD61lSS4PzU4GNxUXCNyYvFAU5XpAcTnOfI/AFeiNuIxhX0TgT3pxKXoge8lpjsyeWdqKLosOs1wIcEzgck3L6Czk0Le1/ad7O/BH826MpgNxdtTTtynQ/UFngh4DNym6HvbfqO4oKcfwYc+UZMdga7FviKss7gdbB45NJNAA637wl8QXFBzsfSz7vAccLZ00EJt9dU4TofpOgup0AbLKSbICYAZiEu3NM/6zh6NmKyFm0oLtxdWo5z/8ZJpiTwpYDPxfGvgsPxrUCvCLyik9J7P1dw7igAB+zStDDw8h+BVwa+MeAVDQDg3FmS4NxR5gTN9TvA1wS9opxrZ+kFL6mbLEnfDb6iqGzJ8f8f3F1UXB6cLtuhyxOQy1O+2x9Zbn/Wur2QcHvp5vZi2e3tCbc3hNzegnN709P1bWaXN/bdPkpx/fDK9eNCtw9oXT8Sd/MnhF+iLpLibpmRrgAAAABJRU5ErkJggg==",
b("shadow/large-c.gif")],v:[b("shadow/large-v.png"),"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC4AAAAECAYAAADxjg1nAAAAWklEQVQYGdXBWwpAQAAAwLEeSUqy9z/hSkpSnh9OsTMFGlSo0aJDjwEjJkREREwYMaBHhxY1KpQIKPxePLhx4cSBHRtWLJiRkJAwY8GKDTsOnLiCTAWZCjL1AeihFg5/1kytAAAAAElFTkSuQmCC",b("shadow/large-v.gif")],h:[b("shadow/large-h.png"),"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAuCAYAAAAPxrguAAAAe0lEQVQoz5XSWwtAQBCG4XEMOST+/y8kOYScKRe8WzZbc7FPX7PNtLaIuPI49l0vUBIewT/LuO/7BRETMRMpExkh/w9KD+WVhBASAu20jnZjFsEkGAQh7ISNsBIWwkwYCT2hI9SEilASiv+g9KgEH6ZhomVi0E47fW7sAEmnGr/QVlzBAAAAAElFTkSuQmCC",
b("shadow/large-h.gif")],m:[b("shadow/large-m.png"),"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAYAAACp8Z5+AAAAEUlEQVQIHWNgYGD4i4ZJFQAAAkoP0RsgosoAAAAASUVORK5CYII=",b("shadow/large-m.gif"),true]}}uki.theme.airport=uki.extend({},uki.theme.Base,{imagePath:"/src/uki-theme/airport/i/",backgrounds:{"button-normal":function(){return new uki.background.Sliced9({c:[b("button/normal-c.png"),"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAGCAYAAADgzO9IAAAAS0lEQVQIW2NgAILy8vL/yJgBJrh+/fr/MABigyVBxN9//1EwXGLGrDn/j5++9P/G7Qf/t+/YBZEA6k5LTU39j4xBYmB7QAxkDBIDALKrX9FN99pwAAAAAElFTkSuQmCC",
b("button/normal-c.gif")],v:[b("button/normal-v.png"),"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAATCAYAAACz13xgAAAAT0lEQVQYlZXPMQ6AQAhE0b9m78zZFca1sdEwxZLQ8MIQiIh1XuvTEbEmQOnmXxNAVT2UB5komY1MA5KNys3jHlyUtv+wNzhGDwMDzfyFRh7wcj5EWWRJUgAAAABJRU5ErkJggg==",false,true],h:[b("button/normal-h.png"),"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAH8AAAAGCAYAAADqkEEaAAAAMklEQVRIie3DUQ0AIAxDwZodFmaVhB+MjIeQ9pJTd5OeRdjSPEjP2ueSnlVVpGcBKz1/kUWrDOOOWIQAAAAASUVORK5CYII=",b("button/normal-h.gif")],m:[b("button/normal-m.png"),
"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAH8AAAATCAYAAAC5i9IyAAAAXklEQVQYGe3BgRHDMAACsXeP/fdtDUkHAUnf3/syleQ8TCfFZjrJNtNJdphOSsx00r1mOikJ00nJZTrJDtNJdphOci7TSXGYTkrMdJIdppP4HKaTDofpJA5TSnCYTn/FLC2twbqbSQAAAABJRU5ErkJggg==",null,true]},"3 3 3 3",{inset:"0 0 -1 0"})},"button-hover":function(){return new uki.background.Sliced9({c:[b("button/hover-c.png"),"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAGCAYAAADgzO9IAAAAS0lEQVQIW2NgAILy8vL/yJgBJrh+/fr/MABigyVBxN9//1EwXGL+wqX/b9579v/Ji3f/9+w9AJEA6m5ITU39j4xBYmB7QAxkDBIDAN/zYPRpDtd1AAAAAElFTkSuQmCC",
b("button/hover-c.gif")],v:[b("button/hover-v.png"),"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAATCAYAAACz13xgAAAAT0lEQVQY062PMQ7AIAwDj8Kf83gw7tKlhQxItZTp5EtCRLh3vyYi3AA0J980gJmBoayh31S290DS4Q4pUzlTjdOr0j9KLXvAanrAWuAiyQ2Hqz+Eaxa7lwAAAABJRU5ErkJggg==",false,true],h:[b("button/hover-h.png"),"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAH8AAAAGCAYAAADqkEEaAAAAM0lEQVRIS+3DsREAIAwDMS+bGdIyLAUVG4RnEFt3UneTnkXY0jxIz9rnkp5VVaRnASs9f4uJy0upJnsYAAAAAElFTkSuQmCC",b("button/hover-h.gif")],m:[b("button/hover-m.png"),
"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAH8AAAATCAYAAAC5i9IyAAAAXElEQVQYGe3BgRHAMAABQLnaf+EEHYR/3ptgKlE2phNtYzrxyZhOtIzpRNuYTnwyphOTYDpREqYTbWM6UQqmExVhOtHPmE5MgunEJ2M68XwH04kIphRxMKWIqfUDGFEu5jKnhiUAAAAASUVORK5CYII=",null,true]},"3 3 3 3",{inset:"0 0 -1 0"})},"button-down":function(){return new uki.background.Sliced9({c:[b("button/down-c.png"),"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAGCAYAAADgzO9IAAAAR0lEQVQIW2NgAIKGhob/yJgBJlhQUPg/JTUDjEFssCSIyC8o+l9b1wjGIDZcoq9v4v9tO/aDMYiNYhyGHSDw////NGQMEgMAouBOxXrB3FIAAAAASUVORK5CYII=",
b("button/down-c.gif")],v:[b("button/down-v.png"),"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAATCAYAAACz13xgAAAAkUlEQVQYV42Nuw4CMQwEHT9ojvvnNPTQ8LfIeH3BmKuwNMomI294zulz3vz+eCbIeGOK2a4b7fueIGNSmF1IRBPkEqxMYpIgl1A2UllE/m5IbCyQS4hEjS4iN6FHXYDcBCokkV7FrYp7lcXFVA+6oME0xkiQS3weS9YGj19q48QfVbQ+zY+b4BMlXu7kcfrKmDdNVhnN3VjMVQAAAABJRU5ErkJggg==",false,true],h:[b("button/down-h.png"),"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAH8AAAAGCAYAAADqkEEaAAAARklEQVQYGe3BsQ2AQAwDQNvD0oCYIQ0UbIVExVDxDxLfsaqMGIn7cVoSYpbuBq/7sSTELN0Nvt9vgohZDINVZcRItL0hRloovBiO+VNuegAAAABJRU5ErkJggg==",
b("button/down-h.gif")],m:[b("button/down-m.png"),"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAH8AAAATCAYAAAC5i9IyAAAAa0lEQVQYGe3BsREDQQwDseWJF/n7n3lH7lQuhAT8fn8rUWF2wc/zQRKVZXexfalMnjtUJnsulckzQ2XyeKhM9lwqk2eGyuTxUJl8bSqTpUNlsiQqkzmiMllUKkuiMhkdKpMPlcoLSKKy7C5/du0Mt289U6QAAAAASUVORK5CYII=",null,true]},"3 3 3 3",{inset:"0 0 -1 0"})},"button-focus":function(){if(uki.image.needAlphaFix)return new uki.background.CssBox("filter:progid:DXImageTransform.Microsoft.Blur(pixelradius=3);background:#7594D2;",
{inset:"-5 -5 -4 -5",zIndex:-2});return new uki.background.Sliced9({c:[b("button/focusRing-c.png"),"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAAtUlEQVQokWNgQABGBof9LNqhq9hkQo9xgjCIDRIDy6GA0FXMKp7b2NX9jvCqJB4S1Y47IgfCIDZYDCgHUgM3GSSgkLBfQCfxoKxO3Ak93fijdiAMYoPEQHJgTWCbgFaCTAFJ6MafMNZNPOGvl3AiC4RBbJAYSA6kBuw8kDtBVoNNBis+WQWzGsQGiYHkwE4F+QnsOaB7QU4AmcqABsA2AeVAakBqSddAspNI9jTpwUpGxJGUNADqMZr1BXNgDAAAAABJRU5ErkJggg=="],v:[b("button/focusRing-v.png"),"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAUCAYAAAC58NwRAAAAf0lEQVQoU2MQj93JrZlwQlUn/qS3TsLJegY0ABIDyYHUgNQyqPsd4dWJPa6pl3giRDfxeB+6BpAYSA6kBqSWQSl0N79m7FEdvcSTkUA8DV0DSAwkB1IDUgvWoBN3Qk83/ni0buKJGegaQGIgOZCaUQ2jGgZeA0nJm+QMRGoWBQCeEP1BW4HCpgAAAABJRU5ErkJggg=="],
h:[b("button/focusRing-h.png"),"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAAMCAYAAAD79EROAAAAOUlEQVRIx2NQCt3NP1Qwg3rkCb2hghl0o45HDxXMoJNwYsZQwQyjYBQMNTCkMtiQKrqGVKUwlKpbALcNHad+5qhBAAAAAElFTkSuQmCC"]},"6 6 6 6",{inset:"-4 -4 -4 -4",zIndex:2})},"button-disabled":function(){return new uki.background.Multi(uki.theme.background("button-normal"),new uki.background.Css({color:"#999"}))},"checkbox-normal":function(){return c(18)},"checkbox-hover":function(){return c(54)},"checkbox-disabled":function(){return c(90)},
"checkbox-checked-normal":function(){return c(0)},"checkbox-checked-hover":function(){return c(36)},"checkbox-checked-disabled":function(){return c(72)},"checkbox-focus":function(){var m=uki.theme.imageSrc("checkbox-focus");return new uki.background.CssBox("",{innerHTML:'<div style="position:absolute;left:50%;top:50%;width:24px;height:24px;overflow:hidden;margin:-12px 0 0 -12px; background: url('+m+') 0 0"></div>',zIndex:-2})},"radio-normal":function(){return e(18)},"radio-hover":function(){return e(54)},
"radio-disabled":function(){return e(90)},"radio-checked-normal":function(){return e(0)},"radio-checked-hover":function(){return e(36)},"radio-checked-disabled":function(){return e(72)},"radio-focus":function(){var m=uki.theme.imageSrc("radio-focus");return new uki.background.CssBox("",{innerHTML:'<div style="position:absolute;left:50%;top:50%;width:24px;height:24px;overflow:hidden;margin:-12px 0 0 -12px; background: url('+m+') 0 0"></div>',zIndex:-2})},"toolbar-button-normal":function(){return new uki.background.Css("#CCC")},
"toolbar-button-hover":function(){return new uki.background.Css("#E0E0E0")},"toolbar-button-down":function(){return new uki.background.Css("#AAA")},"toolbar-button-focus":function(){return new uki.background.Css("#CCC")},"toolbar-popup-button-normal":function(){return new uki.background.Css({textAlign:"left"})},"toolbar-popup-button-down":function(){return new uki.background.Css({background:"#AAA",textAlign:"left"})},"toolbar-popup-button-hover":function(){return new uki.background.Css({background:"#4086FF",
color:"#FFF",textAlign:"left"})},"popup-normal":function(){return new uki.background.Multi(new uki.background.CssBox("opacity:0.95;background:#ECEDEE;-moz-border-radius:5px;-webkit-border-radius:5px;border-radius:5px;border:1px solid #CCC"),uki.theme.background("shadow-medium"))},panel:function(){return new uki.background.Sliced9({h:[b("panel/dark-h.png"),"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAIAAAAGCAYAAADpJ08yAAAAIElEQVQIW2NcvnzFfwYgYLx37z4aY8aMmWgMIJ4JYgAAGzEQWXMYYT0AAAAASUVORK5CYII=",
b("panel/dark-h.gif")],m:[b("panel/dark-m.png"),"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAIAAABlCAYAAABnRzLGAAAAPUlEQVQoz2O5e/fefwYgYGGAAgTj////DERLkaSY6lLkKaaQATfw379/BNVgSsF1Ud1hw5VBYYBTaCntGQBCJspdTUaYMwAAAABJRU5ErkJggg==",false,true]},"3 0 3 0")},input:function(){return new uki.background.CssBox("background:white;border: 1px solid #999;border-top-color:#555;-moz-border-radius:2px;-webkit-border-radius:2px;border-radius:2px;-moz-box-shadow:0 1px 0 rgba(255, 255, 255, 0.4);-webkit-box-shadow:0 1px 0 rgba(255, 255, 255, 0.4);box-shadow:0 1px 0 rgba(255, 255, 255, 0.4)",
{inset:"0 0 0 0"})},"slider-bar":function(){return new uki.background.Sliced9({v:[b("slider/bar-v.png"),"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAASCAYAAAB4i6/FAAAASUlEQVQY02NgGHqgvLz8PzKGC7a0tP1ftnwNGIPYYEkQsW//0f/Hjp8FYxAbLjFjxiy4BIgNlvj//38auh0gMbA9IAYyHvDQAACE3VpNVzKSLwAAAABJRU5ErkJggg==",b("slider/bar-v.gif")],m:[b("slider/bar-m.png"),"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAARMAAAASCAYAAAB4gjqpAAAAUUlEQVQYGe3BwRFAMBAAwItJIVTAR0taSE9eVHiKOA9jdjcCAAAAAAAAgJ9rY4wMgKK+bnsAVPV5XgKgagqAF/T7OgOgqmXmEQAAAAAAAHzTAx6DCNiUJps4AAAAAElFTkSuQmCC",
b("slider/bar-m.gif"),true]},"0 3 0 3",{fixedSize:"0 18"})},list:function(m){return new uki.background.Rows(m,"#EDF3FE")},"shadow-big":function(){return new uki.background.Sliced9(f(),"23 23 23 23",{zIndex:-2,inset:"-4 -10 -12 -10"})},"shadow-medium":function(){return new uki.background.Sliced9(f(),"23 23 23 23",{zIndex:-2,inset:"-1 -6 -6 -6"})}},images:{"slider-handle":function(){return uki.image(b("slider/handle.gif"),"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAkCAYAAACwlKv7AAABcUlEQVQ4T7WSy0sCYRRH758b0aKFCwmjB1kwlGEIJQiVvRe6iajIVpGbJArKjWK0GCgq7DE2muJt7kf3cmeaBlz0wVl8Z34Dw3AAvLNbqmIUtIHNo2sk/jr8HNb2K/jV60dCG8gVy9jq9IThsXmDdrQxw2arKySzRYN2mcIpQma7hE/vHYHuYQ5SG8doN9sC3cMcWKsHeP/sCnQPc5BcKWDtoSXwN/qct4GZzA5WbUcgSWhHG5hczP+SwZdpAwkrhxeNN2EivWXQjjYQn13Gcu1VSKTWDdrRBmJTS/6h9zahHW1gdHwBT25fIqENjMTnkND/TcPPTWpDsWmMAgY+AxXedZxQfIXffWIkUriWXLh2UvjlIwpcj3ZSuE/+FB50pvAzGwUuPOhM4aVGX+DCg84UfljvCvyNPseFF6oocOHaSeF7N22BC9dOCs9fuQIXrp0Unq24AheunRSeLjsCF66dFG6df0TiK7xid0L5v8K/AYNKQJdGv2S4AAAAAElFTkSuQmCC")},
"slider-focus":function(){if(uki.image.needAlphaFix){var m=new uki.createElement("div","width:12px;height:18px;filter:progid:DXImageTransform.Microsoft.Blur(pixelradius=4);background:#7594D2;");m.width=20;m.height=28;return m}return uki.image(b("slider/focus.png"),"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAAZCAYAAAA8CX6UAAABUUlEQVQ4y+2VsUoDQRCGVxRFRLQRGxUJETmyd4292IoQm1wRwuVuWx/BxjewDHmGPIAgFkFJvL23cr45MVhli20EFxaW2f//b+afvV1jVmPD3My3evls+yT/3D0uXvcu+4v9Tv52wGRNjD0wYJXza+Szze7tyw7grvs46o0XZ0nlL2xRJ0mxtExdS4w9MIoVDtyfTAicV/ND695P7dhnabm8tmVzlzk/yFwzbKcfENM9wYCFo2KamaSIOhtp6a9S5++zyj/YqnlKXf0sIhMma2LsgQELB66WSb2kqpmoSPNo1gwwYOGoFXim5kndpMzXTODQzIQDFw1DJ9RYqZ/UQ4XAwoGLhlF/pCOYiQ+hQq1/0gDhqk+cEdr73Z1JcGltE4Zw0VChtuX1SAychmfkp3Dg/gv9aaEo5yjayY72r0X7+6PdR9FuyHh3dsRXJMq79gUgPopCCBOTpwAAAABJRU5ErkJggg==")},
checkbox:function(){return uki.image(b("checkbox/normal.png"),"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAABsCAYAAABn5uLmAAAF1UlEQVRYw+2Y3VMTVxjGve9N/4T+CU4vetErpxfauzp1puNFZ3Ckah1jibWOGqhFhYpY8AvBIoygiErwIxAI+UCQhhgkEQwgIQKiIXwJBEKABIJP913dlJNddE8602mrO/ObIee8z8Oe3cnL87JuXZLXJ+vXf/zp519kyjYM7nHwsOtgDrakaLDhy6+3xU30jucgXr2CKsorq7H3yGno8sqwZZtmc9zoWpMP0eUVVdxrcWDHT1k4VVaP/KsWMMe63PAY4UhM5Okzf/znRDp7fEjV/oLjRdUorm5GidHNGhUb2hCcX0azw41NX22Fy+MVP6/GPx7Ed2kZyMi/gtMVFjz2+UE6xqigqgUvQ1GcLa7A9n2Z2K45hGcjU+KahFaXhf1ZhcgrN6Hufoe4RjrGiM46EoxgYCSIvNI70B49jx1pOvj8k+J6ztlL2H04FydLa1F4wyquEbJnlFNSg+eTiyLtvX5kF+mxJ/0UUn84jIo7ZqTsTcexwirhburFfamWdIzRcaGof3whjtXZi8xzlUg7cga7DmQjI68cuaU1uNPoZupIxxj9LDzA3pEwQ2W9A1nCnWULbyjn0l0U3TDLakjHGB08UQyPf07GhesNwnMxIPuiHu39k7J90jFG+46eg3soJMPRN4ETRTdxu6lTcZ90jNEeXS6cAzPckI4x2rn/GIieQFg1kkb27d+m0YGXde/Z1eruBi8yk8ZWF4iVlVeqkTSMkanJgdjKCjekYxt/wz0sx2LckI4xqjKYsLS8zA3pGKMKvSEpI9IxRiVXbyK6tMQN6RijotIriESj3JCOMTpTeAkLkSg3pGOMTuYXYH4xwg3p2J594jeEFxa5IR1jlHE0G3PzC9yQjjE6oDuCUHieG9IxRmn7D4HgefWSRvbF3a3Rgpf/aSP8ZzKk2uutGTImhEw1NNudb8+QS0IfJob8gfjPifT09SN135sMeeu+coYMR1dgb3uETZu3iqGTPq9mbGoWO7R/ZciegWHlDDknpNaC0mtihkzdewijkzPimsSP6dnxDGm2d76uV8qQs4sxjE7P4fTl1xlylzYdgZcz4nrehdJ4hrxYZRPXCMUMORVeEukZCIjBijLkTq0OeqM1niHzhQxJ+1KtYoacEOKuhL2jTzFDmloeMXWKGXJkJsJw2+pkMmSJ3iqrUcyQL6YWZRRXWcQM+atwVF8gKNtXzJDPJxdk9A1P41RxFawPuhT3FTPk4MswN2tmyEBwUTUfMuTfuHg7JCEz4Z2yCUnDGPFM2ash3ZpTNg+kU5yyeVlzyuZlzSmbl7dO2Ty8c8pWi6opWw2qp+x3oXrKfhcfpuz/2rVx48aPUlK+/Ua2MRwYAA93DXpkHsvQazTfb4ibDA4+AREVZjA19PV5UVNbDZutDpmZ6Z/Fjbx9j1WbjI2NCgZmPHnigdOZ0EY8Xe2riiNrmszNhdDQUIfOThf6+73o6HSyRi5Xq1g4MTGKiopyzMxOKxqZTEY8fNiK3t4uLCyEQTrGyOFoFgs7OlyoN9XCaKyRmdhsFvxhb0J3dydGR4fFNdIxRk1N5rjA43GjudmGurpa4fOiuNbW5oDVZhL3vN7ueC3pGCOzxRjfnBWO5XI5hTswCXd2Fz5fr/CGbgtrD9DV9Ujcl2pJxxjVGm+9ecivGRsfFu7CjsZGM0wNRuEILcKx2+H3DzJ1pGOMqm9dFzbCDPRW2oWH6XI5xDukZ5NYQzrGqLLyivAWQjLoKC73AzxstyMUmpLtk44xKisrQTg8LSM4MyEecWioX3GfdOxf2uILwm+c5IZ0jNH5gjMgIpGwaiSN7Nufl58LXt63DDk8/AK8yEwGBp6CiAn/yVOLpGGMvN4eLhMJ0rEd0tORlBHpEjpkW1JGpEvokPakjEiX0CFtSRmRjjGyWExJGZGOMTIaDUkZkY7tkNX6pIxIl9AhryVlRLqEDnk5KSPSJXTI35MyIh07ixScB8FjImlkX9z8/Dzw8u/uZ38Cqx5HdHgrjesAAAAASUVORK5CYII=",
b("checkbox/normal.gif"))},"checkbox-focus":function(){if(uki.image.needAlphaFix){var m=new uki.createElement("div","width:18px;height:18px;filter:progid:DXImageTransform.Microsoft.Blur(pixelradius=3);background:#7594D2;");m.width=26;m.height=26;return m}return uki.image(b("checkbox/focus.png"),"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAABdklEQVRIie2Wv0rDUBSHUxRFRHQRFxWRioTeZHEXVxHqYgaRNrmrj+Ai+AAdi6trH0AQh6K05uYpfBQ934m0EnHQcIuDB+5y7/l9J+dPchMEU2sER8P5VjJY2ExeljY6D8v77dHKbvK4+t3iHD/80aFXzhdLBnPN4/tFBE37vN7qjrbDzO2ZTh6GnbExXRdXl+5zLn74o1O9cOB9xjfY3MmGa8Y+bSGO0vGhSYuT2Lqz2BbnUZpfVBf7nOOn/gQWPRwNMslE0iIyh1HqDiLrTuPMXZqsuI5s3hNQX/Zuq6vcz3v44Y8OPRx4H+UKAmpHevrkCi+ubu5e33660KGHo2WmJ5g2SGpImjzJb+DTIJKJcODB1QBMgTZUakm6dQKghwMPrgbQ+ss00DBqWidA2TNpvPC0DxjzzMiVU1H0a5VI9HDgwZ0EKEdTxk+mo14GMmHCgfcf4I8F8DpF3t8D72+y92+R96+p9/vA/402gzt5Bn8VHu0d2HhIetPffvAAAAAASUVORK5CYII=")},
radio:function(){return uki.image(b("radio/normal.png"),"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAABsCAYAAABn5uLmAAAGiklEQVRYw+2X/08TdxjH/RP6Z+2XJWeyzMTMjGkkEkmsog4VzSGiA0FUQAPIUHEqMC0i3Rgt66Sj8q0wkG9tgV4RAflij7b0C198du8Ozn6uPe66uGSJXvLO5fk8r+cNP/TeeT579vxXj8nmNTxzvuVbnEtCy8ASyZJqnKOvadLg8HKNDp/Y61khf2id3r8nWahxjj44VZN66xjX2OmmRTFMsY0tVaEPDnySSZnJZrhjdoqzyyEKRTc1BQ485hijyiY739btIv/ahm6BxxxjdO2BRXDPvqOlQExWR1c/fbnvO/riq2/jb9SJffCYY4x+uNNCc/4oowNHTtOpK9WUX9EQf6NWMphjjPIrHpNvOcLImF9O5Q1/UFVzd/yNWslgjjE6V1JHk2/DjPJK66j8sY0qJBO8USsZzDFGOQWVQtfIaxqfC8my9E7Q1dpnVFJnjr9RJ/bBY44xyj57lS+//5yGXwd1CzzmGKMMI2/IzLkotvdPkVMIaAoceMwl/Si/yTrNZZ7gydztpu4pUVXogwOv+pl8fSib23fomMhfryPTn+Nkd/tlocY5+uA0P1yOyzBw+zP5vfsPC3v3Z9IHHRZwjv6eT/yx2QYN9r5XfJdzRJBECRJwjr6mibWzn7N29Yujbi+tBtdoa+u9LNQ4Rx+cqskvVgdnsfeQPxCkza0tVaEPDnxy4JtMhua2DnHFv0obm5uaAgcec2zom8x8t3OI1jc2dAs85hijB03NwuLySlpG4DHHGN2pb6DY+nrawhxjdLv2PkVjsbSFOcbo+q0aCkdjaQtzjFFRaYXgm52jtUhUt8Bjjg3/wqv802etFApHdAs85hgjI88bzuUXilOCj4JrYU2BA4+5pB9lzpk87vzFQvJMeykQWlMV+uDAq34m2TmnuWM534t36x+RyzMlfV8hWahxjj44zQ83I8NoOJJt5LOOGoWsbCPJkmqco/+pJyR2RFPfPN/sXMDOSDtCjfM0dkhB7PMskxiKUeKDGufoa+yQLq7RPknLgShtSsunmtAHBz7FDjlo+LHtL/GttGiuS/msJXDgMccYVZle8lZpMQjFtnQLPOYYo4rGTsG3uEpBaWPdkb1nQNodD27vkAfjdWIfPObYZbS+nVYjm4wOZCl2SKlWMphLWkZXpM0+Ual2SCWTtIwW3GqkRWnlTdT50rvMDolayWCOMcorvS+8ml6gOTEqyzHkoZLtHRJv1Il98JhjjE4XVvF1TzpoZiWiW+Axp0jIMsPx/Jti/8SstD+HNQUOPOaSfpRZZ4q4E/k3qGdMoOmlkKrQBwde9TPJzOE5bKs3655Q1/A0uReCslDjHH1wuhIyI/ssn3H0rCC9SdY/9eeE/NgJ2SsloV9KRPaWHaPedBJyUYxo3LIj2gmZzi1bNSHb+ybTumWDT5mQnjd+5hatJfApE1J5g9ajlAmpvEHrUcqEVN6g9ShlQjrG3jC3aC2BT5mQVY3WtG7Z4FUT0jog6Lplg9s1IY/z1+nXvqldb9nog9OVkEXVTdTy0sPcslHj/HNCfsTH6x00eL3jvFeYEASfi3aEOn7u1XHLdrkGOZd7SJyfn6FwBLfsLVmocY4+OFWTweEebnRsgNbWQoyBUuiDA59kYrPZDL19nWIoFNjVZEfgwGOOMXrxwsK7XKO6THYEHnOMkcXSKqyuikl/1e0ZoQnXUPyt/G/BY44xet76NOkvjow6aWi4VxZqJYM5xqjp54dJUE+PPUlKBnOM0U8P70qNTUYOxwuy2ztkoVYymGOMamurhaWleakZlbW8PE+/236jdos5/kad2AePOcaosvIGb7W20fp6WLfAY44x4qXbcum1YnH2jZei0YCmwIHnU92yL18u4K6VFdPMzCSFw6Kq0AcHXvUzycs7w124cE5sanpE09MTFAyuyEKNc/TBaX64RqPRkJt7kpck5Oaeog9CfZJH/3NCfqSEdG8nZESRkJHthHRrJeTwcD83Pj6oKyHBgU+ZkP1Oh5SQQZ0JGSTwSQnZ1WXjPZ6JtBISPOYYo85OixAIrKZlBB5zyqhNy2RHmGOMWs2mf2WEOcboqakhKf30CHOM0aPH9cLKuwUmAbUEHnOM0b17NbzdbksrIcFjjjEqKyszVFffln7RPl0JCQ485pJ+lOXlZVxNzW2anZ3eNSHRBwde9TMpKStC3IpmczP5fB4mIVHjHH1wmh8uAv1KUQFfVHxJKCoupA+6JOA8ZeD/L5+/ASNtA71vTxEVAAAAAElFTkSuQmCC",
b("radio/normal.gif"))},"radio-focus":function(){if(uki.image.needAlphaFix)return uki.theme.airport.image("checkbox-focus");return uki.image(b("radio/focus.png"),"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAABcElEQVRIx92VP0oEMRTGt9ADeAERq21E8ACLNp7AUrRbWdzdDDa6IBhnM5YqaCPCiiewyPzBA1gK1oIsHsNCNL9owBl1HYWM6MBjSPK+7+W99yWp1X7jm5dyrLUVTwTyYqotdb0dJjOdUM86Y8w86/jhX5q82TwZF1JPrkd6rtNPF40tiTBb7qps1Rlj5lnHD39wpchbMp4WKmmIKF0x/+0gSg8DlZ0KlZ05Y8w8669+DXAjgzjy7m68IPrJmoiS/Y29S907vr7fGdw+hOfDJ2eMmWcdP/zBfRqEGpKm3TnkKj3aPLi6kYO7x7fERWMdP/xfcAZveN71hEbZWpKu2RGgUcRFs0HIxODhgS8XADXQMGpK2l/t/KNMbLkMHh74cgGQHKqgcdT2O+TOwIGHB758AKNrpIc6ig0ta+Cs2gwPfLkAHB6rbyPBn5A7Aw8PfP8sgPceeFeR93Pg/SR7v4u836aVvAeVvGiVvMl/7nsGaBHOn+3vxvEAAAAASUVORK5CYII=")}},
imageSrcs:{x:function(){return[b("x.gif"),"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="]},"splitPane-horizontal":function(){return[b("splitPane/horizontal.gif"),"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAICAYAAAA870V8AAAAFUlEQVQIW2MoLy//zwAEYJq6HGQAAJuVIXm0sEPnAAAAAElFTkSuQmCC"]},"splitPane-vertical":function(){return[b("splitPane/vertical.gif"),"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAcAAAADCAYAAABfwxXFAAAAE0lEQVQIHWMsLy//z0AOYMSnEwAIngTLoazFLgAAAABJRU5ErkJggg=="]}},
templates:{"table-header-cell":function(){return new uki.theme.Template('<div style="position:relative;border:1px solid #CCC;border-top:none;border-left:none;${style}" class="${className}">${data}</div>')},"table-cell":function(){return new uki.theme.Template('<div style="position:relative;border-right:1px solid #CCC;height:100%;${style}" class="${className}">${data}</div>')}},doms:{resizer:function(m){var h=new uki.theme.Template("position:absolute;width:5px;top:0;right:-3px;height:${height}px;cursor:col-resize;cursor:ew-resize;z-index:101;background:url("+
uki.theme.imageSrc("x")+")");m=uki.createElement("div",h.render({height:m}));if(!m.style.cursor||window.opera)m.style.cursor="e-resize";return m},"splitPane-vertical":function(m){m=m.handleWidth==1?uki.createElement("div","position:absolute;z-index:100;-moz-user-focus:none;font-family:Arial,Helvetica,sans-serif;width:100%;height:5px;margin-top:-2px;cursor:row-resize;cursor:ns-resize;z-index:200;overflow:hidden;background: url("+uki.theme.imageSrc("x")+")",'<div style="position:absolute;z-index:100;-moz-user-focus:none;font-family:Arial,Helvetica,sans-serif;background:#999;width:100%;height:1px;left:0px;top:2px;overflow:hidden;"></div>'):
uki.createElement("div","position:absolute;z-index:100;-moz-user-focus:none;font-family:Arial,Helvetica,sans-serif;width:100%;height:"+(m.handleWidth-2)+"px;border: 1px solid #CCC;border-width: 1px 0;cursor:row-resize;cursor:ns-resize;z-index:200;overflow:hidden;background: url("+uki.theme.imageSrc("splitPane-vertical")+") 50% 50% no-repeat;");if(!m.style.cursor||window.opera)m.style.cursor="n-resize";return m},"splitPane-horizontal":function(m){m=m.handleWidth==1?uki.createElement("div","position:absolute;z-index:100;-moz-user-focus:none;font-family:Arial,Helvetica,sans-serif;height:100%;width:5px;margin-left:-2px;cursor:col-resize;cursor:ew-resize;z-index:200;overflow:hidden;background: url("+
uki.theme.imageSrc("x")+")",'<div style="position:absolute;z-index:100;-moz-user-focus:none;font-family:Arial,Helvetica,sans-serif;background:#999;height:100%;width:1px;top:0px;left:2px;overflow:hidden;"></div>'):uki.createElement("div","position:absolute;z-index:100;-moz-user-focus:none;font-family:Arial,Helvetica,sans-serif;height:100%;width:"+(m.handleWidth-2)+"px;border: 1px solid #CCC;border-width: 0 1px;cursor:col-resize;cursor:ew-resize;z-index:200;overflow:hidden;background: url("+uki.theme.imageSrc("splitPane-horizontal")+
") 50% 50% no-repeat;");if(!m.style.cursor||window.opera)m.style.cursor="e-resize";return m}},styles:{base:function(){return"font-family:Arial,Helvetica,sans-serif;"},label:function(){return"font-size:12px;"},button:function(){return"color:#333;text-align:center;font-weight:bold;"},input:function(){return"font-size:11px;"}}});uki.theme.airport.backgrounds["input-focus"]=uki.theme.airport.backgrounds["button-focus"];uki.theme.airport.backgrounds["toolbar-popup"]=uki.theme.airport.backgrounds["popup-normal"];
uki.theme.airport.backgrounds["toolbar-popup-button-disabled"]=uki.theme.airport.backgrounds["toolbar-popup-button-normal"];uki.theme.register(uki.theme.airport)})();Raphael=function(){function b(){if(b.is(arguments[0],fa)){for(var a=arguments[0],d=Oa[L](b,a.splice(0,3+b.is(a[0],ba))),g=d.set(),j=0,l=a[z];j<l;j++){var k=a[j]||{};h.test(k.type)&&g[Q](d[k.type]().attr(k))}return g}return Oa[L](b,arguments)}function c(a,d,g){function j(){var l=Array[p].slice.call(arguments,0),k=l[W]("\u25ba"),o=j.cache=
j.cache||{},n=j.count=j.count||[];if(o[s](k))return g?g(o[k]):o[k];n[z]>=1E3&&delete o[n.shift()];n[Q](k);o[k]=a[L](d,l);return g?g(o[k]):o[k]}return j}function e(){return this.x+D+this.y}function f(a){return function(d,g,j,l){var k={back:a};b.is(j,"function")?(l=j):(k.rot=j);d&&d.constructor==F&&(d=d.attrs.path);d&&(k.along=d);return this.animate(k,g,l)}}b.version="1.4.3";var m=/[, ]+/,h=/^(circle|rect|path|ellipse|text|image)$/,p="prototype",s="hasOwnProperty",t=document,B=window,y={was:Object[p][s].call(B,
"Raphael"),is:B.Raphael},A=function(){},L="apply",v="createTouch"in t,D=" ",S="click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend orientationchange touchcancel gesturestart gesturechange gestureend".split(D),V={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},W="join",z="length",ia=String[p].toLowerCase,I=Math,ga=I.max,ja=I.min,ba="number",fa="array",vb=Object[p].toString,P=I.pow,Q="push",qa=/^(?=[\da-f]$)/,Xa=/^url\(['"]?([^\)]+?)['"]?\)$/i,
wb=/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+\s*,\s*[\d\.]+\s*,\s*[\d\.]+(?:\s*,\s*[\d\.]+)?)\s*\)|rgba?\(\s*([\d\.]+%\s*,\s*[\d\.]+%\s*,\s*[\d\.]+%(?:\s*,\s*[\d\.]+%))\s*\)|hs[bl]\(\s*([\d\.]+\s*,\s*[\d\.]+\s*,\s*[\d\.]+)\s*\)|hs[bl]\(\s*([\d\.]+%\s*,\s*[\d\.]+%\s*,\s*[\d\.]+%)\s*\))\s*$/i,T=I.round,N=parseFloat,la=parseInt,Aa=String[p].toUpperCase,Ba={blur:0,"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,fill:"#fff","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10",
"font-style":"normal","font-weight":400,gradient:0,height:0,href:"http://raphaeljs.com/",opacity:1,path:"M0,0",r:0,rotation:0,rx:0,ry:0,scale:"1 1",src:"",stroke:"#000","stroke-dasharray":"","stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank","text-anchor":"middle",title:"Raphael",translation:"0 0",width:0,x:0,y:0},Pa={along:"along",blur:ba,"clip-rect":"csv",cx:ba,cy:ba,fill:"colour","fill-opacity":ba,"font-size":ba,height:ba,
opacity:ba,path:"path",r:ba,rotation:"csv",rx:ba,ry:ba,scale:"csv",stroke:"colour","stroke-opacity":ba,"stroke-width":ba,translation:"csv",width:ba,x:ba,y:ba};b.type=B.SVGAngle||t.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?"SVG":"VML";if(b.type=="VML"){var ra=t.createElement("div");ra.innerHTML="<!--[if vml]><br><br><![endif]--\>";if(ra.childNodes[z]!=2)return b.type=null;ra=null}b.svg=!(b.vml=b.type=="VML");A[p]=b[p];b._id=0;b._oid=0;b.fn={};b.is=function(a,
d){d=ia.call(d);return d=="object"&&a===Object(a)||d=="undefined"&&typeof a==d||d=="null"&&a==null||ia.call(vb.call(a).slice(8,-1))==d};b.setWindow=function(a){B=a;t=B.document};var Ca=function(a){if(b.vml){var d=/^\s+|\s+$/g;Ca=c(function(j){var l;j=(j+"").replace(d,"");try{var k=new B.ActiveXObject("htmlfile");k.write("<body>");k.close();l=k.body}catch(o){l=B.createPopup().document.body}k=l.createTextRange();try{l.style.color=j;var n=k.queryCommandValue("ForeColor");n=(n&255)<<16|n&65280|(n&16711680)>>>
16;return"#"+("000000"+n.toString(16)).slice(-6)}catch(q){return"none"}})}else{var g=t.createElement("i");g.title="Rapha\u00ebl Colour Picker";g.style.display="none";t.body.appendChild(g);Ca=c(function(j){g.style.color=j;return t.defaultView.getComputedStyle(g,"").getPropertyValue("color")})}return Ca(a)},xb=function(){return"hsb("+[this.h,this.s,this.b]+")"},yb=function(){return this.hex};b.hsb2rgb=c(function(a,d,g){if(b.is(a,"object")&&"h"in a&&"s"in a&&"b"in a){g=a.b;d=a.s;a=a.h}var j;if(g==0)return{r:0,
g:0,b:0,hex:"#000"};if(a>1||d>1||g>1){a/=255;d/=255;g/=255}j=~~(a*6);a=a*6-j;var l=g*(1-d),k=g*(1-d*a),o=g*(1-d*(1-a));a=[g,k,l,l,o,g,g][j];d=[o,g,g,k,l,l,o][j];j=[l,l,o,g,g,k,l][j];a*=255;d*=255;j*=255;g={r:a,g:d,b:j,toString:yb};a=(~~a).toString(16);d=(~~d).toString(16);j=(~~j).toString(16);a=a.replace(qa,"0");d=d.replace(qa,"0");j=j.replace(qa,"0");g.hex="#"+a+d+j;return g},b);b.rgb2hsb=c(function(a,d,g){if(b.is(a,"object")&&"r"in a&&"g"in a&&"b"in a){g=a.b;d=a.g;a=a.r}if(b.is(a,"string")){var j=
b.getRGB(a);a=j.r;d=j.g;g=j.b}if(a>1||d>1||g>1){a/=255;d/=255;g/=255}j=ga(a,d,g);var l=ja(a,d,g);if(l==j)return{h:0,s:0,b:j};else{var k=j-l;l=k/j;a=a==j?(d-g)/k:d==j?2+(g-a)/k:4+(a-d)/k;a/=6;a<0&&a++;a>1&&a--}return{h:a,s:l,b:j,toString:xb}},b);var zb=/,?([achlmqrstvxz]),?/gi,Da=/\s*,\s*/,Ab={hs:1,rg:1};b._path2string=function(){return this.join(",").replace(zb,"$1")};b.getRGB=c(function(a){if(!a||(a+="").indexOf("-")+1)return{r:-1,g:-1,b:-1,hex:"none",error:1};if(a=="none")return{r:-1,g:-1,b:-1,
hex:"none"};!(Ab[s](a.substring(0,2))||a.charAt()=="#")&&(a=Ca(a));var d,g,j,l,k;if(a=a.match(wb)){if(a[2]){j=la(a[2].substring(5),16);g=la(a[2].substring(3,5),16);d=la(a[2].substring(1,3),16)}if(a[3]){j=la((k=a[3].charAt(3))+k,16);g=la((k=a[3].charAt(2))+k,16);d=la((k=a[3].charAt(1))+k,16)}if(a[4]){a=a[4].split(Da);d=N(a[0]);g=N(a[1]);j=N(a[2]);l=N(a[3])}if(a[5]){a=a[5].split(Da);d=N(a[0])*2.55;g=N(a[1])*2.55;j=N(a[2])*2.55;l=N(a[3])}if(a[6]){a=a[6].split(Da);d=N(a[0]);g=N(a[1]);j=N(a[2]);return b.hsb2rgb(d,
g,j)}if(a[7]){a=a[7].split(Da);d=N(a[0])*2.55;g=N(a[1])*2.55;j=N(a[2])*2.55;return b.hsb2rgb(d,g,j)}a={r:d,g:g,b:j};d=(~~d).toString(16);g=(~~g).toString(16);j=(~~j).toString(16);d=d.replace(qa,"0");g=g.replace(qa,"0");j=j.replace(qa,"0");a.hex="#"+d+g+j;isFinite(N(l))&&(a.o=l);return a}return{r:-1,g:-1,b:-1,hex:"none",error:1}},b);b.getColor=function(a){a=this.getColor.start=this.getColor.start||{h:0,s:1,b:a||0.75};var d=this.hsb2rgb(a.h,a.s,a.b);a.h+=0.075;if(a.h>1){a.h=0;a.s-=0.2;a.s<=0&&(this.getColor.start=
{h:0,s:1,b:a.b})}return d.hex};b.getColor.reset=function(){delete this.start};var Bb=/([achlmqstvz])[\s,]*((-?\d*\.?\d*(?:e[-+]?\d+)?\s*,?\s*)+)/ig,Cb=/(-?\d*\.?\d*(?:e[-+]?\d+)?)\s*,?\s*/ig;b.parsePathString=c(function(a){if(!a)return null;var d={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},g=[];if(b.is(a,fa)&&b.is(a[0],fa))g=Ea(a);g[z]||(a+"").replace(Bb,function(j,l,k){var o=[];j=ia.call(l);k.replace(Cb,function(n,q){q&&o[Q](+q)});if(j=="m"&&o[z]>2){g[Q]([l].concat(o.splice(0,2)));j="l";l=l=="m"?"l":
"L"}for(;o[z]>=d[j];){g[Q]([l].concat(o.splice(0,d[j])));if(!d[j])break}});g.toString=b._path2string;return g});b.findDotsAtSegment=function(a,d,g,j,l,k,o,n,q){var r=1-q,w=P(r,3)*a+P(r,2)*3*q*g+r*3*q*q*l+P(q,3)*o;r=P(r,3)*d+P(r,2)*3*q*j+r*3*q*q*k+P(q,3)*n;var x=a+2*q*(g-a)+q*q*(l-2*g+a),E=d+2*q*(j-d)+q*q*(k-2*j+d),C=g+2*q*(l-g)+q*q*(o-2*l+g),u=j+2*q*(k-j)+q*q*(n-2*k+j);a=(1-q)*a+q*g;d=(1-q)*d+q*j;l=(1-q)*l+q*o;k=(1-q)*k+q*n;n=90-I.atan((x-C)/(E-u))*180/I.PI;(x>C||E<u)&&(n+=180);return{x:w,y:r,m:{x:x,
y:E},n:{x:C,y:u},start:{x:a,y:d},end:{x:l,y:k},alpha:n}};var Ga=c(function(a){if(!a)return{x:0,y:0,width:0,height:0};a=Fa(a);for(var d=0,g=0,j=[],l=[],k,o=0,n=a[z];o<n;o++){k=a[o];if(k[0]=="M"){d=k[1];g=k[2];j[Q](d);l[Q](g)}else{d=Db(d,g,k[1],k[2],k[3],k[4],k[5],k[6]);j=j.concat(d.min.x,d.max.x);l=l.concat(d.min.y,d.max.y);d=k[5];g=k[6]}}a=ja[L](0,j);k=ja[L](0,l);return{x:a,y:k,width:ga[L](0,j)-a,height:ga[L](0,l)-k}}),Ea=function(a){var d=[];if(!b.is(a,fa)||!b.is(a&&a[0],fa))a=b.parsePathString(a);
for(var g=0,j=a[z];g<j;g++){d[g]=[];for(var l=0,k=a[g][z];l<k;l++)d[g][l]=a[g][l]}d.toString=b._path2string;return d},Ya=c(function(a){if(!b.is(a,fa)||!b.is(a&&a[0],fa))a=b.parsePathString(a);var d=[],g=0,j=0,l=0,k=0,o=0;if(a[0][0]=="M"){g=a[0][1];j=a[0][2];l=g;k=j;o++;d[Q](["M",g,j])}o=o;for(var n=a[z];o<n;o++){var q=d[o]=[],r=a[o];if(r[0]!=ia.call(r[0])){q[0]=ia.call(r[0]);switch(q[0]){case "a":q[1]=r[1];q[2]=r[2];q[3]=r[3];q[4]=r[4];q[5]=r[5];q[6]=+(r[6]-g).toFixed(3);q[7]=+(r[7]-j).toFixed(3);
break;case "v":q[1]=+(r[1]-j).toFixed(3);break;case "m":l=r[1];k=r[2];default:for(var w=1,x=r[z];w<x;w++)q[w]=+(r[w]-(w%2?g:j)).toFixed(3)}}else{d[o]=[];if(r[0]=="m"){l=r[1]+g;k=r[2]+j}q=0;for(w=r[z];q<w;q++)d[o][q]=r[q]}r=d[o][z];switch(d[o][0]){case "z":g=l;j=k;break;case "h":g+=+d[o][r-1];break;case "v":j+=+d[o][r-1];break;default:g+=+d[o][r-2];j+=+d[o][r-1]}}d.toString=b._path2string;return d},0,Ea),ua=c(function(a){if(!b.is(a,fa)||!b.is(a&&a[0],fa))a=b.parsePathString(a);var d=[],g=0,j=0,l=0,
k=0,o=0;if(a[0][0]=="M"){g=+a[0][1];j=+a[0][2];l=g;k=j;o++;d[0]=["M",g,j]}o=o;for(var n=a[z];o<n;o++){var q=d[o]=[],r=a[o];if(r[0]!=Aa.call(r[0])){q[0]=Aa.call(r[0]);switch(q[0]){case "A":q[1]=r[1];q[2]=r[2];q[3]=r[3];q[4]=r[4];q[5]=r[5];q[6]=+(r[6]+g);q[7]=+(r[7]+j);break;case "V":q[1]=+r[1]+j;break;case "H":q[1]=+r[1]+g;break;case "M":l=+r[1]+g;k=+r[2]+j;default:for(var w=1,x=r[z];w<x;w++)q[w]=+r[w]+(w%2?g:j)}}else{w=0;for(x=r[z];w<x;w++)d[o][w]=r[w]}switch(q[0]){case "Z":g=l;j=k;break;case "H":g=
q[1];break;case "V":j=q[1];break;default:g=d[o][d[o][z]-2];j=d[o][d[o][z]-1]}}d.toString=b._path2string;return d},null,Ea),Ha=function(a,d,g,j){return[a,d,g,j,g,j]},Za=function(a,d,g,j,l,k){var o=1/3,n=2/3;return[o*a+n*g,o*d+n*j,o*l+n*g,o*k+n*j,l,k]},$a=function(a,d,g,j,l,k,o,n,q,r){var w=I.PI,x=w*120/180,E=w/180*(+l||0),C=[],u,G=c(function(X,ma,Ia){var Eb=X*I.cos(Ia)-ma*I.sin(Ia);X=X*I.sin(Ia)+ma*I.cos(Ia);return{x:Eb,y:X}});if(r){K=r[0];u=r[1];k=r[2];O=r[3]}else{u=G(a,d,-E);a=u.x;d=u.y;u=G(n,q,
-E);n=u.x;q=u.y;I.cos(w/180*l);I.sin(w/180*l);u=(a-n)/2;K=(d-q)/2;O=u*u/(g*g)+K*K/(j*j);if(O>1){O=I.sqrt(O);g=O*g;j=O*j}O=g*g;var $=j*j;O=(k==o?-1:1)*I.sqrt(I.abs((O*$-O*K*K-$*u*u)/(O*K*K+$*u*u)));k=O*g*K/j+(a+n)/2;var O=O*-j*u/g+(d+q)/2,K=I.asin(((d-O)/j).toFixed(7));u=I.asin(((q-O)/j).toFixed(7));K=a<k?w-K:K;u=n<k?w-u:u;K<0&&(K=w*2+K);u<0&&(u=w*2+u);if(o&&K>u)K-=w*2;if(!o&&u>K)u-=w*2}w=u-K;if(I.abs(w)>x){C=u;w=n;$=q;u=K+x*(o&&u>K?1:-1);n=k+g*I.cos(u);q=O+j*I.sin(u);C=$a(n,q,g,j,l,0,o,w,$,[u,C,k,
O])}w=u-K;l=I.cos(K);x=I.sin(K);o=I.cos(u);u=I.sin(u);w=I.tan(w/4);g=4/3*g*w;w=4/3*j*w;j=[a,d];a=[a+g*x,d-w*l];d=[n+g*u,q-w*o];n=[n,q];a[0]=2*j[0]-a[0];a[1]=2*j[1]-a[1];if(r)return[a,d,n].concat(C);else{C=[a,d,n].concat(C)[W]().split(",");r=[];n=0;for(q=C[z];n<q;n++)r[n]=n%2?G(C[n-1],C[n],E).y:G(C[n],C[n+1],E).x;return r}},va=function(a,d,g,j,l,k,o,n,q){var r=1-q;return{x:P(r,3)*a+P(r,2)*3*q*g+r*3*q*q*l+P(q,3)*o,y:P(r,3)*d+P(r,2)*3*q*j+r*3*q*q*k+P(q,3)*n}},Db=c(function(a,d,g,j,l,k,o,n){var q=l-2*
g+a-(o-2*l+g),r=2*(g-a)-2*(l-g),w=a-g,x=(-r+I.sqrt(r*r-4*q*w))/2/q;q=(-r-I.sqrt(r*r-4*q*w))/2/q;var E=[d,n],C=[a,o];I.abs(x)>1E12&&(x=0.5);I.abs(q)>1E12&&(q=0.5);if(x>0&&x<1){x=va(a,d,g,j,l,k,o,n,x);C[Q](x.x);E[Q](x.y)}if(q>0&&q<1){x=va(a,d,g,j,l,k,o,n,q);C[Q](x.x);E[Q](x.y)}q=k-2*j+d-(n-2*k+j);r=2*(j-d)-2*(k-j);w=d-j;x=(-r+I.sqrt(r*r-4*q*w))/2/q;q=(-r-I.sqrt(r*r-4*q*w))/2/q;I.abs(x)>1E12&&(x=0.5);I.abs(q)>1E12&&(q=0.5);if(x>0&&x<1){x=va(a,d,g,j,l,k,o,n,x);C[Q](x.x);E[Q](x.y)}if(q>0&&q<1){x=va(a,
d,g,j,l,k,o,n,q);C[Q](x.x);E[Q](x.y)}return{min:{x:ja[L](0,C),y:ja[L](0,E)},max:{x:ga[L](0,C),y:ga[L](0,E)}}}),Fa=c(function(a,d){var g=ua(a),j=d&&ua(d);a={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null};d={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null};var l=function(C,u){var G;if(!C)return["C",u.x,u.y,u.x,u.y,u.x,u.y];!(C[0]in{T:1,Q:1})&&(u.qx=u.qy=null);switch(C[0]){case "M":u.X=C[1];u.Y=C[2];break;case "A":C=["C"].concat($a[L](0,[u.x,u.y].concat(C.slice(1))));break;case "S":G=u.x+(u.x-(u.bx||u.x));u=u.y+
(u.y-(u.by||u.y));C=["C",G,u].concat(C.slice(1));break;case "T":u.qx=u.x+(u.x-(u.qx||u.x));u.qy=u.y+(u.y-(u.qy||u.y));C=["C"].concat(Za(u.x,u.y,u.qx,u.qy,C[1],C[2]));break;case "Q":u.qx=C[1];u.qy=C[2];C=["C"].concat(Za(u.x,u.y,C[1],C[2],C[3],C[4]));break;case "L":C=["C"].concat(Ha(u.x,u.y,C[1],C[2]));break;case "H":C=["C"].concat(Ha(u.x,u.y,C[1],u.y));break;case "V":C=["C"].concat(Ha(u.x,u.y,u.x,C[1]));break;case "Z":C=["C"].concat(Ha(u.x,u.y,u.X,u.Y));break}return C},k=function(C,u){if(C[u][z]>7){C[u].shift();
for(var G=C[u];G[z];)C.splice(u++,0,["C"].concat(G.splice(0,6)));C.splice(u,1);q=ga(g[z],j&&j[z]||0)}},o=function(C,u,G,$,O){if(C&&u&&C[O][0]=="M"&&u[O][0]!="M"){u.splice(O,0,["M",$.x,$.y]);G.bx=0;G.by=0;G.x=C[O][1];G.y=C[O][2];q=ga(g[z],j&&j[z]||0)}},n=0,q=ga(g[z],j&&j[z]||0);for(;n<q;n++){g[n]=l(g[n],a);k(g,n);j&&(j[n]=l(j[n],d));j&&k(j,n);o(g,j,a,d,n);o(j,g,d,a,n);var r=g[n],w=j&&j[n],x=r[z],E=j&&w[z];a.x=r[x-2];a.y=r[x-1];a.bx=N(r[x-4])||a.x;a.by=N(r[x-3])||a.y;d.bx=j&&(N(w[E-4])||d.x);d.by=j&&
(N(w[E-3])||d.y);d.x=j&&w[E-2];d.y=j&&w[E-1]}return j?[g,j]:g},null,Ea),ab=c(function(a){for(var d=[],g=0,j=a[z];g<j;g++){var l={},k=a[g].match(/^([^:]*):?([\d\.]*)/);l.color=b.getRGB(k[1]);if(l.color.error)return null;l.color=l.color.hex;k[2]&&(l.offset=k[2]+"%");d[Q](l)}g=1;for(j=d[z]-1;g<j;g++)if(!d[g].offset){a=N(d[g-1].offset||0);k=0;for(l=g+1;l<j;l++)if(d[l].offset){k=d[l].offset;break}if(!k){k=100;l=j}k=N(k);for(k=(k-a)/(l-g+1);g<l;g++){a+=k;d[g].offset=a+"%"}}return d}),bb=function(a,d,g,
j){if(b.is(a,"string")||b.is(a,"object")){a=b.is(a,"string")?t.getElementById(a):a;if(a.tagName)return d==null?{container:a,width:a.style.pixelWidth||a.offsetWidth,height:a.style.pixelHeight||a.offsetHeight}:{container:a,width:d,height:g}}else return{container:1,x:a,y:d,width:g,height:j}},Qa=function(a,d){var g=this;for(var j in d)if(d[s](j)&&!(j in a))switch(typeof d[j]){case "function":(function(l){a[j]=a===g?l:function(){return l[L](g,arguments)}})(d[j]);break;case "object":a[j]=a[j]||{};Qa.call(this,
a[j],d[j]);break;default:a[j]=d[j];break}},sa=function(a,d){a==d.top&&(d.top=a.prev);a==d.bottom&&(d.bottom=a.next);a.next&&(a.next.prev=a.prev);a.prev&&(a.prev.next=a.next)},cb=function(a,d){if(d.top!==a){sa(a,d);a.next=null;a.prev=d.top;d.top.next=a;d.top=a}},db=function(a,d){if(d.bottom!==a){sa(a,d);a.next=d.bottom;a.prev=null;d.bottom.prev=a;d.bottom=a}},eb=function(a,d,g){sa(a,g);d==g.top&&(g.top=a);d.next&&(d.next.prev=a);a.next=d.next;a.prev=d;d.next=a},fb=function(a,d,g){sa(a,g);d==g.bottom&&
(g.bottom=a);d.prev&&(d.prev.next=a);a.prev=d.prev;d.prev=a;a.next=d},gb=function(a){return function(){throw new Error("Rapha\u00ebl: you are calling to method \u201c"+a+"\u201d of removed object");}},hb=/^r(?:\(([^,]+?)\s*,\s*([^\)]+?)\))?/;if(b.svg){A[p].svgns="http://www.w3.org/2000/svg";A[p].xlink="http://www.w3.org/1999/xlink";T=function(a){return+a+(~~a===a)*0.5};var H=function(a,d){if(d)for(var g in d)d[s](g)&&a.setAttribute(g,d[g]+"");else{a=t.createElementNS(A[p].svgns,a);a.style.webkitTapHighlightColor=
"rgba(0,0,0,0)";return a}};b.toString=function(){return"Your browser supports SVG.\nYou are running Rapha\u00ebl "+this.version};var ib=function(a,d){var g=H("path");d.canvas&&d.canvas.appendChild(g);d=new F(g,d);d.type="path";ka(d,{fill:"none",stroke:"#000",path:a});return d},wa=function(a,d,g){var j="linear",l=0.5,k=0.5,o=a.style;d=(d+"").replace(hb,function(w,x,E){j="radial";if(x&&E){l=N(x);k=N(E);w=(k>0.5)*2-1;P(l-0.5,2)+P(k-0.5,2)>0.25&&(k=I.sqrt(0.25-P(l-0.5,2))*w+0.5)&&k!=0.5&&(k=k.toFixed(5)-
1.0E-5*w)}return""});d=d.split(/\s*\-\s*/);if(j=="linear"){var n=d.shift();n=-N(n);if(isNaN(n))return null;n=[0,0,I.cos(n*I.PI/180),I.sin(n*I.PI/180)];var q=1/(ga(I.abs(n[2]),I.abs(n[3]))||1);n[2]*=q;n[3]*=q;if(n[2]<0){n[0]=-n[2];n[2]=0}if(n[3]<0){n[1]=-n[3];n[3]=0}}d=ab(d);if(!d)return null;q=a.getAttribute("fill");(q=q.match(/^url\(#(.*)\)$/))&&g.defs.removeChild(t.getElementById(q[1]));q=H(j+"Gradient");q.id="r"+(b._id++).toString(36);H(q,j=="radial"?{fx:l,fy:k}:{x1:n[0],y1:n[1],x2:n[2],y2:n[3]});
g.defs.appendChild(q);g=0;for(n=d[z];g<n;g++){var r=H("stop");H(r,{offset:d[g].offset?d[g].offset:!g?"0%":"100%","stop-color":d[g].color||"#fff"});q.appendChild(r)}H(a,{fill:"url(#"+q.id+")",opacity:1,"fill-opacity":1});o.fill="";o.opacity=1;return o.fillOpacity=1},Ra=function(a){var d=a.getBBox();H(a.pattern,{patternTransform:b.format("translate({0},{1})",d.x,d.y)})},ka=function(a,d){var g={"":[0],none:[0],"-":[3,1],".":[1,1],"-.":[3,1,1,1],"-..":[3,1,1,1,1,1],". ":[1,3],"- ":[4,3],"--":[8,3],"- .":[4,
3,1,3],"--.":[8,3,1,3],"--..":[8,3,1,3,1,3]},j=a.node,l=a.attrs,k=a.rotate(),o=function(u,G){if(G=g[ia.call(G)]){var $=u.attrs["stroke-width"]||"1";u={round:$,square:$,butt:0}[u.attrs["stroke-linecap"]||d["stroke-linecap"]]||0;for(var O=[],K=G[z];K--;)O[K]=G[K]*$+(K%2?1:-1)*u;H(j,{"stroke-dasharray":O[W](",")})}};d[s]("rotation")&&(k=d.rotation);var n=(k+"").split(m);if(n.length-1){n[1]=+n[1];n[2]=+n[2]}else n=null;N(k)&&a.rotate(0,true);for(var q in d)if(d[s](q))if(Ba[s](q)){var r=d[q];l[q]=r;switch(q){case "blur":a.blur(r);
break;case "rotation":a.rotate(r,true);break;case "href":case "title":case "target":var w=j.parentNode;if(ia.call(w.tagName)!="a"){var x=H("a");w.insertBefore(x,j);x.appendChild(j);w=x}w.setAttributeNS(a.paper.xlink,q,r);break;case "cursor":j.style.cursor=r;break;case "clip-rect":w=(r+"").split(m);if(w[z]==4){a.clip&&a.clip.parentNode.parentNode.removeChild(a.clip.parentNode);var E=H("clipPath");x=H("rect");E.id="r"+(b._id++).toString(36);H(x,{x:w[0],y:w[1],width:w[2],height:w[3]});E.appendChild(x);
a.paper.defs.appendChild(E);H(j,{"clip-path":"url(#"+E.id+")"});a.clip=x}if(!r){(r=t.getElementById(j.getAttribute("clip-path").replace(/(^url\(#|\)$)/g,"")))&&r.parentNode.removeChild(r);H(j,{"clip-path":""});delete a.clip}break;case "path":if(a.type=="path")H(j,{d:r?(l.path=ua(r)):"M0,0"});break;case "width":j.setAttribute(q,r);if(l.fx){q="x";r=l.x}else break;case "x":if(l.fx)r=-l.x-(l.width||0);case "rx":if(q=="rx"&&a.type=="rect")break;case "cx":n&&(q=="x"||q=="cx")&&(n[1]+=r-l[q]);j.setAttribute(q,
T(r));a.pattern&&Ra(a);break;case "height":j.setAttribute(q,r);if(l.fy){q="y";r=l.y}else break;case "y":if(l.fy)r=-l.y-(l.height||0);case "ry":if(q=="ry"&&a.type=="rect")break;case "cy":n&&(q=="y"||q=="cy")&&(n[2]+=r-l[q]);j.setAttribute(q,T(r));a.pattern&&Ra(a);break;case "r":a.type=="rect"?H(j,{rx:r,ry:r}):j.setAttribute(q,r);break;case "src":a.type=="image"&&j.setAttributeNS(a.paper.xlink,"href",r);break;case "stroke-width":j.style.strokeWidth=r;j.setAttribute(q,r);l["stroke-dasharray"]&&o(a,l["stroke-dasharray"]);
break;case "stroke-dasharray":o(a,r);break;case "translation":r=(r+"").split(m);r[0]=+r[0]||0;r[1]=+r[1]||0;if(n){n[1]+=r[0];n[2]+=r[1]}Ja.call(a,r[0],r[1]);break;case "scale":r=(r+"").split(m);a.scale(+r[0]||1,+r[1]||+r[0]||1,isNaN(N(r[2]))?null:+r[2],isNaN(N(r[3]))?null:+r[3]);break;case "fill":if(w=(r+"").match(Xa)){E=H("pattern");var C=H("image");E.id="r"+(b._id++).toString(36);H(E,{x:0,y:0,patternUnits:"userSpaceOnUse",height:1,width:1});H(C,{x:0,y:0});C.setAttributeNS(a.paper.xlink,"href",w[1]);
E.appendChild(C);r=t.createElement("img");r.style.cssText="position:absolute;left:-9999em;top-9999em";r.onload=function(){H(E,{width:this.offsetWidth,height:this.offsetHeight});H(C,{width:this.offsetWidth,height:this.offsetHeight});t.body.removeChild(this);a.paper.safari()};t.body.appendChild(r);r.src=w[1];a.paper.defs.appendChild(E);j.style.fill="url(#"+E.id+")";H(j,{fill:"url(#"+E.id+")"});a.pattern=E;a.pattern&&Ra(a);break}w=b.getRGB(r);if(w.error){if(({circle:1,ellipse:1}[s](a.type)||(r+"").charAt()!=
"r")&&wa(j,r,a.paper)){l.gradient=r;l.fill="none";break}}else{delete d.gradient;delete l.gradient;!b.is(l.opacity,"undefined")&&b.is(d.opacity,"undefined")&&H(j,{opacity:l.opacity});!b.is(l["fill-opacity"],"undefined")&&b.is(d["fill-opacity"],"undefined")&&H(j,{"fill-opacity":l["fill-opacity"]})}w[s]("o")&&H(j,{"fill-opacity":w.o/100});case "stroke":w=b.getRGB(r);j.setAttribute(q,w.hex);q=="stroke"&&w[s]("o")&&H(j,{"stroke-opacity":w.o/100});break;case "gradient":(({circle:1,ellipse:1})[s](a.type)||
(r+"").charAt()!="r")&&wa(j,r,a.paper);break;case "opacity":case "fill-opacity":if(l.gradient){if(w=t.getElementById(j.getAttribute("fill").replace(/^url\(#|\)$/g,""))){w=w.getElementsByTagName("stop");w[w[z]-1].setAttribute("stop-opacity",r)}break}default:q=="font-size"&&(r=la(r,10)+"px");w=q.replace(/(\-.)/g,function(u){return Aa.call(u.substring(1))});j.style[w]=r;j.setAttribute(q,r);break}}Fb(a,d);if(n)a.rotate(n.join(D));else N(k)&&a.rotate(k,true)},Fb=function(a,d){if(!(a.type!="text"||!(d[s]("text")||
d[s]("font")||d[s]("font-size")||d[s]("x")||d[s]("y")))){var g=a.attrs,j=a.node,l=j.firstChild?la(t.defaultView.getComputedStyle(j.firstChild,"").getPropertyValue("font-size"),10):10;if(d[s]("text")){for(g.text=d.text;j.firstChild;)j.removeChild(j.firstChild);d=(d.text+"").split("\n");for(var k=0,o=d[z];k<o;k++)if(d[k]){var n=H("tspan");k&&H(n,{dy:l*1.2,x:g.x});n.appendChild(t.createTextNode(d[k]));j.appendChild(n)}}else{d=j.getElementsByTagName("tspan");k=0;for(o=d[z];k<o;k++)k&&H(d[k],{dy:l*1.2,
x:g.x})}H(j,{y:g.y});a=a.getBBox();(a=g.y-(a.y+a.height/2))&&isFinite(a)&&H(j,{y:g.y+a})}},F=function(a,d){this[0]=a;this.id=b._oid++;this.node=a;a.raphael=this;this.paper=d;this.attrs=this.attrs||{};this.transformations=[];this._={tx:0,ty:0,rt:{deg:0,cx:0,cy:0},sx:1,sy:1};!d.bottom&&(d.bottom=this);(this.prev=d.top)&&(d.top.next=this);d.top=this;this.next=null};F[p].rotate=function(a,d,g){if(this.removed)return this;if(a==null){if(this._.rt.cx)return[this._.rt.deg,this._.rt.cx,this._.rt.cy][W](D);
return this._.rt.deg}var j=this.getBBox();a=(a+"").split(m);if(a[z]-1){d=N(a[1]);g=N(a[2])}a=N(a[0]);if(d!=null)this._.rt.deg=a;else this._.rt.deg+=a;g==null&&(d=null);this._.rt.cx=d;this._.rt.cy=g;d=d==null?j.x+j.width/2:d;g=g==null?j.y+j.height/2:g;if(this._.rt.deg){this.transformations[0]=b.format("rotate({0} {1} {2})",this._.rt.deg,d,g);this.clip&&H(this.clip,{transform:b.format("rotate({0} {1} {2})",-this._.rt.deg,d,g)})}else{this.transformations[0]="";this.clip&&H(this.clip,{transform:""})}H(this.node,
{transform:this.transformations[W](D)});return this};F[p].hide=function(){!this.removed&&(this.node.style.display="none");return this};F[p].show=function(){!this.removed&&(this.node.style.display="");return this};F[p].remove=function(){if(!this.removed){sa(this,this.paper);this.node.parentNode.removeChild(this.node);for(var a in this)delete this[a];this.removed=true}};F[p].getBBox=function(){if(this.removed)return this;if(this.type=="path")return Ga(this.attrs.path);if(this.node.style.display=="none"){this.show();
var a=true}var d={};try{d=this.node.getBBox()}catch(g){}finally{d=d||{}}if(this.type=="text"){d={x:d.x,y:Infinity,width:0,height:0};for(var j=0,l=this.node.getNumberOfChars();j<l;j++){var k=this.node.getExtentOfChar(j);k.y<d.y&&(d.y=k.y);k.y+k.height-d.y>d.height&&(d.height=k.y+k.height-d.y);k.x+k.width-d.x>d.width&&(d.width=k.x+k.width-d.x)}}a&&this.hide();return d};F[p].attr=function(a,d){if(this.removed)return this;if(a==null){a={};for(var g in this.attrs)if(this.attrs[s](g))a[g]=this.attrs[g];
this._.rt.deg&&(a.rotation=this.rotate());(this._.sx!=1||this._.sy!=1)&&(a.scale=this.scale());a.gradient&&a.fill=="none"&&(a.fill=a.gradient)&&delete a.gradient;return a}if(d==null&&b.is(a,"string")){if(a=="translation")return Ja.call(this);if(a=="rotation")return this.rotate();if(a=="scale")return this.scale();if(a=="fill"&&this.attrs.fill=="none"&&this.attrs.gradient)return this.attrs.gradient;return this.attrs[a]}if(d==null&&b.is(a,fa)){d={};g=0;for(var j=a.length;g<j;g++)d[a[g]]=this.attr(a[g]);
return d}if(d!=null){g={};g[a]=d;ka(this,g)}else a!=null&&b.is(a,"object")&&ka(this,a);return this};F[p].toFront=function(){if(this.removed)return this;this.node.parentNode.appendChild(this.node);var a=this.paper;a.top!=this&&cb(this,a);return this};F[p].toBack=function(){if(this.removed)return this;if(this.node.parentNode.firstChild!=this.node){this.node.parentNode.insertBefore(this.node,this.node.parentNode.firstChild);db(this,this.paper)}return this};F[p].insertAfter=function(a){if(this.removed)return this;
var d=a.node;d.nextSibling?d.parentNode.insertBefore(this.node,d.nextSibling):d.parentNode.appendChild(this.node);eb(this,a,this.paper);return this};F[p].insertBefore=function(a){if(this.removed)return this;var d=a.node;d.parentNode.insertBefore(this.node,d);fb(this,a,this.paper);return this};F[p].blur=function(a){var d=this;if(+a!==0){var g=H("filter"),j=H("feGaussianBlur");d.attrs.blur=a;g.id="r"+(b._id++).toString(36);H(j,{stdDeviation:+a||1.5});g.appendChild(j);d.paper.defs.appendChild(g);d._blur=
g;H(d.node,{filter:"url(#"+g.id+")"})}else{if(d._blur){d._blur.parentNode.removeChild(d._blur);delete d._blur;delete d.attrs.blur}d.node.removeAttribute("filter")}};var jb=function(a,d,g,j){d=T(d);g=T(g);var l=H("circle");a.canvas&&a.canvas.appendChild(l);a=new F(l,a);a.attrs={cx:d,cy:g,r:j,fill:"none",stroke:"#000"};a.type="circle";H(l,a.attrs);return a},kb=function(a,d,g,j,l,k){d=T(d);g=T(g);var o=H("rect");a.canvas&&a.canvas.appendChild(o);a=new F(o,a);a.attrs={x:d,y:g,width:j,height:l,r:k||0,
rx:k||0,ry:k||0,fill:"none",stroke:"#000"};a.type="rect";H(o,a.attrs);return a},lb=function(a,d,g,j,l){d=T(d);g=T(g);var k=H("ellipse");a.canvas&&a.canvas.appendChild(k);a=new F(k,a);a.attrs={cx:d,cy:g,rx:j,ry:l,fill:"none",stroke:"#000"};a.type="ellipse";H(k,a.attrs);return a},mb=function(a,d,g,j,l,k){var o=H("image");H(o,{x:g,y:j,width:l,height:k,preserveAspectRatio:"none"});o.setAttributeNS(a.xlink,"href",d);a.canvas&&a.canvas.appendChild(o);a=new F(o,a);a.attrs={x:g,y:j,width:l,height:k,src:d};
a.type="image";return a},nb=function(a,d,g,j){var l=H("text");H(l,{x:d,y:g,"text-anchor":"middle"});a.canvas&&a.canvas.appendChild(l);a=new F(l,a);a.attrs={x:d,y:g,"text-anchor":"middle",text:j,font:Ba.font,stroke:"none",fill:"#000"};a.type="text";ka(a,a.attrs);return a},ob=function(a,d){this.width=a||this.width;this.height=d||this.height;this.canvas.setAttribute("width",this.width);this.canvas.setAttribute("height",this.height);return this},Oa=function(){var a=bb[L](0,arguments),d=a&&a.container,
g=a.x,j=a.y,l=a.width;a=a.height;if(!d)throw new Error("SVG container not found.");var k=H("svg");g=g||0;j=j||0;l=l||512;a=a||342;H(k,{xmlns:"http://www.w3.org/2000/svg",version:1.1,width:l,height:a});if(d==1){k.style.cssText="position:absolute;left:"+g+"px;top:"+j+"px";t.body.appendChild(k)}else d.firstChild?d.insertBefore(k,d.firstChild):d.appendChild(k);d=new A;d.width=l;d.height=a;d.canvas=k;Qa.call(d,d,b.fn);d.clear();return d};A[p].clear=function(){for(var a=this.canvas;a.firstChild;)a.removeChild(a.firstChild);
this.bottom=this.top=null;(this.desc=H("desc")).appendChild(t.createTextNode("Created with Rapha\u00ebl"));a.appendChild(this.desc);a.appendChild(this.defs=H("defs"))};A[p].remove=function(){this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas);for(var a in this)this[a]=gb(a)}}if(b.vml){var pb={M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},Gb=/([clmz]),?([^clmz]*)/gi,Hb=/-?[^,\s-]+/g,xa=1E3+D+1E3,ya={path:1,rect:1},Ib=function(a){var d=/[ahqstv]/ig,g=ua;(a+"").match(d)&&(g=Fa);
d=/[clmz]/g;if(g==ua&&!(a+"").match(d))return a=(a+"").replace(Gb,function(q,r,w){var x=[],E=ia.call(r)=="m",C=pb[r];w.replace(Hb,function(u){if(E&&x[z]==2){C+=x+pb[r=="m"?"l":"L"];x=[]}x[Q](T(u*10))});return C+x});d=g(a);var j;a=[];for(var l=0,k=d[z];l<k;l++){g=d[l];j=ia.call(d[l][0]);j=="z"&&(j="x");for(var o=1,n=g[z];o<n;o++)j+=T(g[o]*10)+(o!=n-1?",":"");a[Q](j)}return a[W](D)};b.toString=function(){return"Your browser doesn\u2019t support SVG. Falling down to VML.\nYou are running Rapha\u00ebl "+
this.version};ib=function(a,d){var g=ca("group");g.style.cssText="position:absolute;left:0;top:0;width:"+d.width+"px;height:"+d.height+"px";g.coordsize=d.coordsize;g.coordorigin=d.coordorigin;var j=ca("shape"),l=j.style;l.width=d.width+"px";l.height=d.height+"px";j.coordsize=xa;j.coordorigin=d.coordorigin;g.appendChild(j);j=new F(j,g,d);l={fill:"none",stroke:"#000"};a&&(l.path=a);j.isAbsolute=true;j.type="path";j.path=[];j.Path="";ka(j,l);d.canvas.appendChild(g);return j};ka=function(a,d){a.attrs=
a.attrs||{};var g=a.node,j=a.attrs,l=g.style,k;k=(d.x!=j.x||d.y!=j.y||d.width!=j.width||d.height!=j.height||d.r!=j.r)&&a.type=="rect";for(var o in d)if(d[s](o))j[o]=d[o];if(k){j.path=qb(j.x,j.y,j.width,j.height,j.r);a.X=j.x;a.Y=j.y;a.W=j.width;a.H=j.height}d.href&&(g.href=d.href);d.title&&(g.title=d.title);d.target&&(g.target=d.target);d.cursor&&(l.cursor=d.cursor);"blur"in d&&a.blur(d.blur);if(d.path&&a.type=="path"||k)g.path=Ib(j.path);d.rotation!=null&&a.rotate(d.rotation,true);if(d.translation){k=
(d.translation+"").split(m);Ja.call(a,k[0],k[1]);if(a._.rt.cx!=null){a._.rt.cx+=+k[0];a._.rt.cy+=+k[1];a.setBox(a.attrs,k[0],k[1])}}if(d.scale){k=(d.scale+"").split(m);a.scale(+k[0]||1,+k[1]||+k[0]||1,+k[2]||null,+k[3]||null)}if("clip-rect"in d){k=(d["clip-rect"]+"").split(m);if(k[z]==4){k[2]=+k[2]+ +k[0];k[3]=+k[3]+ +k[1];o=g.clipRect||t.createElement("div");var n=o.style,q=g.parentNode;n.clip=b.format("rect({1}px {2}px {3}px {0}px)",k);if(!g.clipRect){n.position="absolute";n.top=0;n.left=0;n.width=
a.paper.width+"px";n.height=a.paper.height+"px";q.parentNode.insertBefore(o,q);o.appendChild(q);g.clipRect=o}}if(!d["clip-rect"])g.clipRect&&(g.clipRect.style.clip="")}if(a.type=="image"&&d.src)g.src=d.src;if(a.type=="image"&&d.opacity){g.filterOpacity=" progid:DXImageTransform.Microsoft.Alpha(opacity="+d.opacity*100+")";l.filter=(g.filterMatrix||"")+(g.filterOpacity||"")}d.font&&(l.font=d.font);d["font-family"]&&(l.fontFamily='"'+d["font-family"].split(",")[0].replace(/^['"]+|['"]+$/g,"")+'"');d["font-size"]&&
(l.fontSize=d["font-size"]);d["font-weight"]&&(l.fontWeight=d["font-weight"]);d["font-style"]&&(l.fontStyle=d["font-style"]);if(d.opacity!=null||d["stroke-width"]!=null||d.fill!=null||d.stroke!=null||d["stroke-width"]!=null||d["stroke-opacity"]!=null||d["fill-opacity"]!=null||d["stroke-dasharray"]!=null||d["stroke-miterlimit"]!=null||d["stroke-linejoin"]!=null||d["stroke-linecap"]!=null){g=a.shape||g;k=g.getElementsByTagName("fill")&&g.getElementsByTagName("fill")[0];o=false;!k&&(o=k=ca("fill"));
if("fill-opacity"in d||"opacity"in d){l=((+j["fill-opacity"]+1||2)-1)*((+j.opacity+1||2)-1)*((+b.getRGB(d.fill).o+1||2)-1);l<0&&(l=0);l>1&&(l=1);k.opacity=l}d.fill&&(k.on=true);if(k.on==null||d.fill=="none")k.on=false;if(k.on&&d.fill)if(l=d.fill.match(Xa)){k.src=l[1];k.type="tile"}else{k.color=b.getRGB(d.fill).hex;k.src="";k.type="solid";if(b.getRGB(d.fill).error&&(a.type in{circle:1,ellipse:1}||(d.fill+"").charAt()!="r")&&wa(a,d.fill)){j.fill="none";j.gradient=d.fill}}o&&g.appendChild(k);k=g.getElementsByTagName("stroke")&&
g.getElementsByTagName("stroke")[0];o=false;!k&&(o=k=ca("stroke"));if(d.stroke&&d.stroke!="none"||d["stroke-width"]||d["stroke-opacity"]!=null||d["stroke-dasharray"]||d["stroke-miterlimit"]||d["stroke-linejoin"]||d["stroke-linecap"])k.on=true;(d.stroke=="none"||k.on==null||d.stroke==0||d["stroke-width"]==0)&&(k.on=false);l=b.getRGB(d.stroke);k.on&&d.stroke&&(k.color=l.hex);l=((+j["stroke-opacity"]+1||2)-1)*((+j.opacity+1||2)-1)*((+l.o+1||2)-1);n=(N(d["stroke-width"])||1)*0.75;l<0&&(l=0);l>1&&(l=1);
d["stroke-width"]==null&&(n=j["stroke-width"]);d["stroke-width"]&&(k.weight=n);n&&n<1&&(l*=n)&&(k.weight=1);k.opacity=l;d["stroke-linejoin"]&&(k.joinstyle=d["stroke-linejoin"]||"miter");k.miterlimit=d["stroke-miterlimit"]||8;d["stroke-linecap"]&&(k.endcap=d["stroke-linecap"]=="butt"?"flat":d["stroke-linecap"]=="square"?"square":"round");if(d["stroke-dasharray"]){l={"-":"shortdash",".":"shortdot","-.":"shortdashdot","-..":"shortdashdotdot",". ":"dot","- ":"dash","--":"longdash","- .":"dashdot","--.":"longdashdot",
"--..":"longdashdotdot"};k.dashstyle=l[s](d["stroke-dasharray"])?l[d["stroke-dasharray"]]:""}o&&g.appendChild(k)}if(a.type=="text"){l=a.paper.span.style;j.font&&(l.font=j.font);j["font-family"]&&(l.fontFamily=j["font-family"]);j["font-size"]&&(l.fontSize=j["font-size"]);j["font-weight"]&&(l.fontWeight=j["font-weight"]);j["font-style"]&&(l.fontStyle=j["font-style"]);a.node.string&&(a.paper.span.innerHTML=(a.node.string+"").replace(/</g,"&#60;").replace(/&/g,"&#38;").replace(/\n/g,"<br>"));a.W=j.w=
a.paper.span.offsetWidth;a.H=j.h=a.paper.span.offsetHeight;a.X=j.x;a.Y=j.y+T(a.H/2);switch(j["text-anchor"]){case "start":a.node.style["v-text-align"]="left";a.bbx=T(a.W/2);break;case "end":a.node.style["v-text-align"]="right";a.bbx=-T(a.W/2);break;default:a.node.style["v-text-align"]="center";break}}};wa=function(a,d){a.attrs=a.attrs||{};var g="linear",j=".5 .5";a.attrs.gradient=d;d=(d+"").replace(hb,function(q,r,w){g="radial";if(r&&w){r=N(r);w=N(w);P(r-0.5,2)+P(w-0.5,2)>0.25&&(w=I.sqrt(0.25-P(r-
0.5,2))*((w>0.5)*2-1)+0.5);j=r+D+w}return""});d=d.split(/\s*\-\s*/);if(g=="linear"){var l=d.shift();l=-N(l);if(isNaN(l))return null}var k=ab(d);if(!k)return null;a=a.shape||a.node;d=a.getElementsByTagName("fill")[0]||ca("fill");!d.parentNode&&a.appendChild(d);if(k[z]){d.on=true;d.method="none";d.color=k[0].color;d.color2=k[k[z]-1].color;a=[];for(var o=0,n=k[z];o<n;o++)k[o].offset&&a[Q](k[o].offset+D+k[o].color);d.colors&&(d.colors.value=a[z]?a[W]():"0% "+d.color);if(g=="radial"){d.type="gradientradial";
d.focus="100%";d.focussize=j;d.focusposition=j}else{d.type="gradient";d.angle=(270-l)%360}}return 1};F=function(a,d,g){this[0]=a;this.id=b._oid++;this.node=a;a.raphael=this;this.Y=this.X=0;this.attrs={};this.Group=d;this.paper=g;this._={tx:0,ty:0,rt:{deg:0},sx:1,sy:1};!g.bottom&&(g.bottom=this);(this.prev=g.top)&&(g.top.next=this);g.top=this;this.next=null};F[p].rotate=function(a,d,g){if(this.removed)return this;if(a==null){if(this._.rt.cx)return[this._.rt.deg,this._.rt.cx,this._.rt.cy][W](D);return this._.rt.deg}a=
(a+"").split(m);if(a[z]-1){d=N(a[1]);g=N(a[2])}a=N(a[0]);if(d!=null)this._.rt.deg=a;else this._.rt.deg+=a;g==null&&(d=null);this._.rt.cx=d;this._.rt.cy=g;this.setBox(this.attrs,d,g);this.Group.style.rotation=this._.rt.deg;return this};F[p].setBox=function(a,d,g){if(this.removed)return this;var j=this.Group.style,l=this.shape&&this.shape.style||this.node.style;a=a||{};for(var k in a)if(a[s](k))this.attrs[k]=a[k];d=d||this._.rt.cx;g=g||this._.rt.cy;var o=this.attrs,n;switch(this.type){case "circle":a=
o.cx-o.r;k=o.cy-o.r;n=o=o.r*2;break;case "ellipse":a=o.cx-o.rx;k=o.cy-o.ry;n=o.rx*2;o=o.ry*2;break;case "image":a=+o.x;k=+o.y;n=o.width||0;o=o.height||0;break;case "text":this.textpath.v=["m",T(o.x),", ",T(o.y-2),"l",T(o.x)+1,", ",T(o.y-2)][W]("");a=o.x-T(this.W/2);k=o.y-this.H/2;n=this.W;o=this.H;break;case "rect":case "path":if(this.attrs.path){o=Ga(this.attrs.path);a=o.x;k=o.y;n=o.width;o=o.height}else{k=a=0;n=this.paper.width;o=this.paper.height}break;default:k=a=0;n=this.paper.width;o=this.paper.height;
break}d=d==null?a+n/2:d;g=g==null?k+o/2:g;d=d-this.paper.width/2;g=g-this.paper.height/2;var q;j.left!=(q=d+"px")&&(j.left=q);j.top!=(q=g+"px")&&(j.top=q);this.X=ya[s](this.type)?-d:a;this.Y=ya[s](this.type)?-g:k;this.W=n;this.H=o;if(ya[s](this.type)){l.left!=(q=-d*10+"px")&&(l.left=q);l.top!=(q=-g*10+"px")&&(l.top=q)}else if(this.type=="text"){l.left!=(q=-d+"px")&&(l.left=q);l.top!=(q=-g+"px")&&(l.top=q)}else{j.width!=(q=this.paper.width+"px")&&(j.width=q);j.height!=(q=this.paper.height+"px")&&(j.height=
q);l.left!=(q=a-d+"px")&&(l.left=q);l.top!=(q=k-g+"px")&&(l.top=q);l.width!=(q=n+"px")&&(l.width=q);l.height!=(q=o+"px")&&(l.height=q)}};F[p].hide=function(){!this.removed&&(this.Group.style.display="none");return this};F[p].show=function(){!this.removed&&(this.Group.style.display="block");return this};F[p].getBBox=function(){if(this.removed)return this;if(ya[s](this.type))return Ga(this.attrs.path);return{x:this.X+(this.bbx||0),y:this.Y,width:this.W,height:this.H}};F[p].remove=function(){if(!this.removed){sa(this,
this.paper);this.node.parentNode.removeChild(this.node);this.Group.parentNode.removeChild(this.Group);this.shape&&this.shape.parentNode.removeChild(this.shape);for(var a in this)delete this[a];this.removed=true}};F[p].attr=function(a,d){if(this.removed)return this;if(a==null){a={};for(var g in this.attrs)if(this.attrs[s](g))a[g]=this.attrs[g];this._.rt.deg&&(a.rotation=this.rotate());(this._.sx!=1||this._.sy!=1)&&(a.scale=this.scale());a.gradient&&a.fill=="none"&&(a.fill=a.gradient)&&delete a.gradient;
return a}if(d==null&&b.is(a,"string")){if(a=="translation")return Ja.call(this);if(a=="rotation")return this.rotate();if(a=="scale")return this.scale();if(a=="fill"&&this.attrs.fill=="none"&&this.attrs.gradient)return this.attrs.gradient;return this.attrs[a]}if(this.attrs&&d==null&&b.is(a,fa)){var j={};g=0;for(d=a[z];g<d;g++)j[a[g]]=this.attr(a[g]);return j}if(d!=null){j={};j[a]=d}d==null&&b.is(a,"object")&&(j=a);if(j){if(j.text&&this.type=="text")this.node.string=j.text;ka(this,j);if(j.gradient&&
({circle:1,ellipse:1}[s](this.type)||(j.gradient+"").charAt()!="r"))wa(this,j.gradient);(!ya[s](this.type)||this._.rt.deg)&&this.setBox(this.attrs)}return this};F[p].toFront=function(){!this.removed&&this.Group.parentNode.appendChild(this.Group);this.paper.top!=this&&cb(this,this.paper);return this};F[p].toBack=function(){if(this.removed)return this;if(this.Group.parentNode.firstChild!=this.Group){this.Group.parentNode.insertBefore(this.Group,this.Group.parentNode.firstChild);db(this,this.paper)}return this};
F[p].insertAfter=function(a){if(this.removed)return this;a.Group.nextSibling?a.Group.parentNode.insertBefore(this.Group,a.Group.nextSibling):a.Group.parentNode.appendChild(this.Group);eb(this,a,this.paper);return this};F[p].insertBefore=function(a){if(this.removed)return this;a.Group.parentNode.insertBefore(this.Group,a.Group);fb(this,a,this.paper);return this};var Jb=/ progid:\S+Blur\([^\)]+\)/g;F[p].blur=function(a){var d=this.node.style,g=d.filter;g=g.replace(Jb,"");if(+a!==0){this.attrs.blur=
a;d.filter=g+" progid:DXImageTransform.Microsoft.Blur(pixelradius="+(+a||1.5)+")";d.margin=Raphael.format("-{0}px 0 0 -{0}px",Math.round(+a||1.5))}else{d.filter=g;d.margin=0;delete this.attrs.blur}};jb=function(a,d,g,j){var l=ca("group"),k=ca("oval");l.style.cssText="position:absolute;left:0;top:0;width:"+a.width+"px;height:"+a.height+"px";l.coordsize=xa;l.coordorigin=a.coordorigin;l.appendChild(k);k=new F(k,l,a);k.type="circle";ka(k,{stroke:"#000",fill:"none"});k.attrs.cx=d;k.attrs.cy=g;k.attrs.r=
j;k.setBox({x:d-j,y:g-j,width:j*2,height:j*2});a.canvas.appendChild(l);return k};function qb(a,d,g,j,l){return l?b.format("M{0},{1}l{2},0a{3},{3},0,0,1,{3},{3}l0,{5}a{3},{3},0,0,1,{4},{3}l{6},0a{3},{3},0,0,1,{4},{4}l0,{7}a{3},{3},0,0,1,{3},{4}z",a+l,d,g-l*2,l,-l,j-l*2,l*2-g,l*2-j):b.format("M{0},{1}l{2},0,0,{3},{4},0z",a,d,g,j,-g)}kb=function(a,d,g,j,l,k){var o=qb(d,g,j,l,k);a=a.path(o);var n=a.attrs;a.X=n.x=d;a.Y=n.y=g;a.W=n.width=j;a.H=n.height=l;n.r=k;n.path=o;a.type="rect";return a};lb=function(a,
d,g,j,l){var k=ca("group"),o=ca("oval");k.style.cssText="position:absolute;left:0;top:0;width:"+a.width+"px;height:"+a.height+"px";k.coordsize=xa;k.coordorigin=a.coordorigin;k.appendChild(o);o=new F(o,k,a);o.type="ellipse";ka(o,{stroke:"#000"});o.attrs.cx=d;o.attrs.cy=g;o.attrs.rx=j;o.attrs.ry=l;o.setBox({x:d-j,y:g-l,width:j*2,height:l*2});a.canvas.appendChild(k);return o};mb=function(a,d,g,j,l,k){var o=ca("group"),n=ca("image");o.style.cssText="position:absolute;left:0;top:0;width:"+a.width+"px;height:"+
a.height+"px";o.coordsize=xa;o.coordorigin=a.coordorigin;n.src=d;o.appendChild(n);n=new F(n,o,a);n.type="image";n.attrs.src=d;n.attrs.x=g;n.attrs.y=j;n.attrs.w=l;n.attrs.h=k;n.setBox({x:g,y:j,width:l,height:k});a.canvas.appendChild(o);return n};nb=function(a,d,g,j){var l=ca("group"),k=ca("shape"),o=k.style,n=ca("path"),q=ca("textpath");l.style.cssText="position:absolute;left:0;top:0;width:"+a.width+"px;height:"+a.height+"px";l.coordsize=xa;l.coordorigin=a.coordorigin;n.v=b.format("m{0},{1}l{2},{1}",
T(d*10),T(g*10),T(d*10)+1);n.textpathok=true;o.width=a.width;o.height=a.height;q.string=j+"";q.on=true;k.appendChild(q);k.appendChild(n);l.appendChild(k);o=new F(q,l,a);o.shape=k;o.textpath=n;o.type="text";o.attrs.text=j;o.attrs.x=d;o.attrs.y=g;o.attrs.w=1;o.attrs.h=1;ka(o,{font:Ba.font,stroke:"none",fill:"#000"});o.setBox();a.canvas.appendChild(l);return o};ob=function(a,d){var g=this.canvas.style;a==+a&&(a+="px");d==+d&&(d+="px");g.width=a;g.height=d;g.clip="rect(0 "+a+" "+d+" 0)";return this};
var ca;t.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)");try{!t.namespaces.rvml&&t.namespaces.add("rvml","urn:schemas-microsoft-com:vml");ca=function(a){return t.createElement("<rvml:"+a+' class="rvml">')}}catch(Rb){ca=function(a){return t.createElement("<"+a+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}Oa=function(){var a=bb[L](0,arguments),d=a.container,g=a.height,j=a.width,l=a.x;a=a.y;if(!d)throw new Error("VML container not found.");var k=new A,o=k.canvas=t.createElement("div"),
n=o.style;l=l||0;a=a||0;j=j||512;g=g||342;j==+j&&(j+="px");g==+g&&(g+="px");k.width=1E3;k.height=1E3;k.coordsize=1E4+D+1E4;k.coordorigin="0 0";k.span=t.createElement("span");k.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;";o.appendChild(k.span);n.cssText=b.format("width:{0};height:{1};display:inline-block;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden",j,g);if(d==1){t.body.appendChild(o);n.left=l+"px";n.top=a+"px";n.position=
"absolute"}else d.firstChild?d.insertBefore(o,d.firstChild):d.appendChild(o);Qa.call(k,k,b.fn);return k};A[p].clear=function(){this.canvas.innerHTML="";this.span=t.createElement("span");this.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;";this.canvas.appendChild(this.span);this.bottom=this.top=null};A[p].remove=function(){this.canvas.parentNode.removeChild(this.canvas);for(var a in this)this[a]=gb(a);return true}}A[p].safari=/^Apple|^Google/.test(B.navigator.vendor)&&
(!(B.navigator.userAgent.indexOf("Version/4.0")+1)||B.navigator.platform.slice(0,2)=="iP")?function(){var a=this.rect(-99,-99,this.width+99,this.height+99);B.setTimeout(function(){a.remove()})}:function(){};var Kb=function(){this.returnValue=false},Lb=function(){return this.originalEvent.preventDefault()},Mb=function(){this.cancelBubble=true},Nb=function(){return this.originalEvent.stopPropagation()},Ob=function(){if(t.addEventListener)return function(a,d,g,j){var l=v&&V[d]?V[d]:d,k=function(o){if(v&&
V[s](d))for(var n=0,q=o.targetTouches&&o.targetTouches.length;n<q;n++)if(o.targetTouches[n].target==a){q=o;o=o.targetTouches[n];o.originalEvent=q;o.preventDefault=Lb;o.stopPropagation=Nb;break}return g.call(j,o)};a.addEventListener(l,k,false);return function(){a.removeEventListener(l,k,false);return true}};else if(t.attachEvent)return function(a,d,g,j){var l=function(k){k=k||B.event;k.preventDefault=k.preventDefault||Kb;k.stopPropagation=k.stopPropagation||Mb;return g.call(j,k)};a.attachEvent("on"+
d,l);return function(){a.detachEvent("on"+d,l);return true}}}();for(ra=S[z];ra--;)(function(a){b[a]=F[p][a]=function(d){if(b.is(d,"function")){this.events=this.events||[];this.events.push({name:a,f:d,unbind:Ob(this.shape||this.node||t,a,d,this)})}return this};b["un"+a]=F[p]["un"+a]=function(d){for(var g=this.events,j=g[z];j--;)if(g[j].name==a&&g[j].f==d){g[j].unbind();g.splice(j,1);!g.length&&delete this.events;return this}return this}})(S[ra]);F[p].hover=function(a,d){return this.mouseover(a).mouseout(d)};
F[p].unhover=function(a,d){return this.unmouseover(a).unmouseout(d)};F[p].drag=function(a,d,g){this._drag={};var j=this.mousedown(function(o){(o.originalEvent?o.originalEvent:o).preventDefault();this._drag.x=o.clientX;this._drag.y=o.clientY;this._drag.id=o.identifier;d&&d.call(this,o.clientX,o.clientY);Raphael.mousemove(l).mouseup(k)}),l=function(o){var n=o.clientX,q=o.clientY;if(v)for(var r=o.touches.length,w;r--;){w=o.touches[r];if(w.identifier==j._drag.id){n=w.clientX;q=w.clientY;(o.originalEvent?
o.originalEvent:o).preventDefault();break}}else o.preventDefault();a&&a.call(j,n-j._drag.x,q-j._drag.y,n,q)},k=function(){j._drag={};Raphael.unmousemove(l).unmouseup(k);g&&g.call(j)};return this};A[p].circle=function(a,d,g){return jb(this,a||0,d||0,g||0)};A[p].rect=function(a,d,g,j,l){return kb(this,a||0,d||0,g||0,j||0,l||0)};A[p].ellipse=function(a,d,g,j){return lb(this,a||0,d||0,g||0,j||0)};A[p].path=function(a){a&&!b.is(a,"string")&&!b.is(a[0],fa)&&(a+="");return ib(b.format[L](b,arguments),this)};
A[p].image=function(a,d,g,j,l){return mb(this,a||"about:blank",d||0,g||0,j||0,l||0)};A[p].text=function(a,d,g){return nb(this,a||0,d||0,g||"")};A[p].set=function(a){arguments[z]>1&&(a=Array[p].splice.call(arguments,0,arguments[z]));return new ha(a)};A[p].setSize=ob;A[p].top=A[p].bottom=null;A[p].raphael=b;F[p].resetScale=function(){if(this.removed)return this;this._.sx=1;this._.sy=1;this.attrs.scale="1 1"};F[p].scale=function(a,d,g,j){if(this.removed)return this;if(a==null&&d==null)return{x:this._.sx,
y:this._.sy,toString:e};d=d||a;!+d&&(d=a);var l,k,o=this.attrs;if(a!=0){var n=this.getBBox(),q=n.x+n.width/2,r=n.y+n.height/2;l=a/this._.sx;k=d/this._.sy;g=+g||g==0?g:q;j=+j||j==0?j:r;n=~~(a/I.abs(a));var w=~~(d/I.abs(d)),x=this.node.style,E=g+(q-g)*l;r=j+(r-j)*k;switch(this.type){case "rect":case "image":var C=o.width*n*l,u=o.height*w*k;this.attr({height:u,r:o.r*ja(n*l,w*k),width:C,x:E-C/2,y:r-u/2});break;case "circle":case "ellipse":this.attr({rx:o.rx*n*l,ry:o.ry*w*k,r:o.r*ja(n*l,w*k),cx:E,cy:r});
break;case "text":this.attr({x:E,y:r});break;case "path":q=Ya(o.path);for(var G=true,$=0,O=q[z];$<O;$++){var K=q[$],X=Aa.call(K[0]);if(!(X=="M"&&G)){G=false;if(X=="A"){K[q[$][z]-2]*=l;K[q[$][z]-1]*=k;K[1]*=n*l;K[2]*=w*k;K[5]=+!(n+w?!+K[5]:+K[5])}else if(X=="H"){X=1;for(var ma=K[z];X<ma;X++)K[X]*=l}else if(X=="V"){X=1;for(ma=K[z];X<ma;X++)K[X]*=k}else{X=1;for(ma=K[z];X<ma;X++)K[X]*=X%2?l:k}}}k=Ga(q);l=E-k.x-k.width/2;k=r-k.y-k.height/2;q[0][1]+=l;q[0][2]+=k;this.attr({path:q});break}if(this.type in
{text:1,image:1}&&(n!=1||w!=1))if(this.transformations){this.transformations[2]="scale(".concat(n,",",w,")");this.node.setAttribute("transform",this.transformations[W](D));l=n==-1?-o.x-(C||0):o.x;k=w==-1?-o.y-(u||0):o.y;this.attr({x:l,y:k});o.fx=n-1;o.fy=w-1}else{this.node.filterMatrix=" progid:DXImageTransform.Microsoft"+".Matrix(M11=".concat(n,", M12=0, M21=0, M22=",w,", Dx=0, Dy=0, sizingmethod='auto expand', filtertype='bilinear')");x.filter=(this.node.filterMatrix||"")+(this.node.filterOpacity||
"")}else if(this.transformations){this.transformations[2]="";this.node.setAttribute("transform",this.transformations[W](D));o.fx=0;o.fy=0}else{this.node.filterMatrix="";x.filter=(this.node.filterMatrix||"")+(this.node.filterOpacity||"")}o.scale=[a,d,g,j][W](D);this._.sx=a;this._.sy=d}return this};F[p].clone=function(){if(this.removed)return null;var a=this.attr();delete a.scale;delete a.translation;return this.paper[this.type]().attr(a)};var rb=c(function(a,d,g,j,l,k,o,n,q){for(var r=0,w,x=0;x<1.001;x+=
0.0010){var E=b.findDotsAtSegment(a,d,g,j,l,k,o,n,x);x&&(r+=P(P(w.x-E.x,2)+P(w.y-E.y,2),0.5));if(r>=q)return E;w=E}});S=function(a,d){return function(g,j,l){g=Fa(g);for(var k,o,n,q,r="",w={},x=0,E=0,C=g.length;E<C;E++){n=g[E];if(n[0]=="M"){k=+n[1];o=+n[2]}else{q=Pb(k,o,n[1],n[2],n[3],n[4],n[5],n[6]);if(x+q>j){if(d&&!w.start){k=rb(k,o,n[1],n[2],n[3],n[4],n[5],n[6],j-x);r+=["C",k.start.x,k.start.y,k.m.x,k.m.y,k.x,k.y];if(l)return r;w.start=r;r=["M",k.x,k.y+"C",k.n.x,k.n.y,k.end.x,k.end.y,n[5],n[6]][W]();
x+=q;k=+n[5];o=+n[6];continue}if(!a&&!d){k=rb(k,o,n[1],n[2],n[3],n[4],n[5],n[6],j-x);return{x:k.x,y:k.y,alpha:k.alpha}}}x+=q;k=+n[5];o=+n[6]}r+=n}w.end=r;k=a?x:d?w:b.findDotsAtSegment(k,o,n[1],n[2],n[3],n[4],n[5],n[6],1);k.alpha&&(k={x:k.x,y:k.y,alpha:k.alpha});return k}};var Pb=c(function(a,d,g,j,l,k,o,n){for(var q={x:0,y:0},r=0,w=0;w<1.01;w+=0.01){var x=va(a,d,g,j,l,k,o,n,w);w&&(r+=P(P(q.x-x.x,2)+P(q.y-x.y,2),0.5));q=x}return r}),sb=S(1),Ka=S(),Sa=S(0,1);F[p].getTotalLength=function(){if(this.type==
"path"){if(this.node.getTotalLength)return this.node.getTotalLength();return sb(this.attrs.path)}};F[p].getPointAtLength=function(a){if(this.type=="path")return Ka(this.attrs.path,a)};F[p].getSubpath=function(a,d){if(this.type=="path"){if(I.abs(this.getTotalLength()-d)<1.0E-6)return Sa(this.attrs.path,a).end;d=Sa(this.attrs.path,d,1);return a?Sa(d,a).end:d}};b.easing_formulas={linear:function(a){return a},"<":function(a){return P(a,3)},">":function(a){return P(a-1,3)+1},"<>":function(a){a*=2;if(a<
1)return P(a,3)/2;a-=2;return(P(a,3)+2)/2},backIn:function(a){return a*a*(2.70158*a-1.70158)},backOut:function(a){a-=1;return a*a*(2.70158*a+1.70158)+1},elastic:function(a){if(a==0||a==1)return a;return P(2,-10*a)*I.sin((a-0.075)*2*I.PI/0.3)+1},bounce:function(a){if(a<1/2.75)a=7.5625*a*a;else if(a<2/2.75){a-=1.5/2.75;a=7.5625*a*a+0.75}else if(a<2.5/2.75){a-=2.25/2.75;a=7.5625*a*a+0.9375}else{a-=2.625/2.75;a=7.5625*a*a+0.984375}return a}};var da={length:0},tb=function(){var a=+new Date;for(var d in da)if(d!=
"length"&&da[s](d)){var g=da[d];if(g.stop||g.el.removed){delete da[d];da[z]--}else{var j=a-g.start,l=g.ms,k=g.easing,o=g.from,n=g.diff,q=g.to,r=g.t,w=g.prev||0,x=g.el,E=g.callback,C={},u;if(j<l){E=b.easing_formulas[k]?b.easing_formulas[k](j/l):j/l;for(var G in o)if(o[s](G)){switch(Pa[G]){case "along":u=E*l*n[G];q.back&&(u=q.len-u);k=Ka(q[G],u);x.translate(n.sx-n.x||0,n.sy-n.y||0);n.x=k.x;n.y=k.y;x.translate(k.x-n.sx,k.y-n.sy);q.rot&&x.rotate(n.r+k.alpha,k.x,k.y);break;case ba:u=+o[G]+E*l*n[G];break;
case "colour":u="rgb("+[Ta(T(o[G].r+E*l*n[G].r)),Ta(T(o[G].g+E*l*n[G].g)),Ta(T(o[G].b+E*l*n[G].b))][W](",")+")";break;case "path":u=[];k=0;for(var $=o[G][z];k<$;k++){u[k]=[o[G][k][0]];for(var O=1,K=o[G][k][z];O<K;O++)u[k][O]=+o[G][k][O]+E*l*n[G][k][O];u[k]=u[k][W](D)}u=u[W](D);break;case "csv":switch(G){case "translation":u=n[G][0]*(j-w);k=n[G][1]*(j-w);r.x+=u;r.y+=k;u=u+D+k;break;case "rotation":u=+o[G][0]+E*l*n[G][0];o[G][1]&&(u+=","+o[G][1]+","+o[G][2]);break;case "scale":u=[+o[G][0]+E*l*n[G][0],
+o[G][1]+E*l*n[G][1],2 in q[G]?q[G][2]:"",3 in q[G]?q[G][3]:""][W](D);break;case "clip-rect":u=[];for(k=4;k--;)u[k]=+o[G][k]+E*l*n[G][k];break}break}C[G]=u}x.attr(C);x._run&&x._run.call(x)}else{if(q.along){k=Ka(q.along,q.len*!q.back);x.translate(n.sx-(n.x||0)+k.x-n.sx,n.sy-(n.y||0)+k.y-n.sy);q.rot&&x.rotate(n.r+k.alpha,k.x,k.y)}(r.x||r.y)&&x.translate(-r.x,-r.y);q.scale&&(q.scale+="");x.attr(q);delete da[d];da[z]--;x.in_animation=null;b.is(E,"function")&&E.call(x)}g.prev=j}}b.svg&&x&&x.paper&&x.paper.safari();
da[z]&&B.setTimeout(tb)},Ta=function(a){return ga(ja(a,255),0)},Ja=function(a,d){if(a==null)return{x:this._.tx,y:this._.ty,toString:e};this._.tx+=+a;this._.ty+=+d;switch(this.type){case "circle":case "ellipse":this.attr({cx:+a+this.attrs.cx,cy:+d+this.attrs.cy});break;case "rect":case "image":case "text":this.attr({x:+a+this.attrs.x,y:+d+this.attrs.y});break;case "path":var g=Ya(this.attrs.path);g[0][1]+=+a;g[0][2]+=+d;this.attr({path:g});break}return this};F[p].animateWith=function(a,d,g,j,l){da[a.id]&&
(d.start=da[a.id].start);return this.animate(d,g,j,l)};F[p].animateAlong=f();F[p].animateAlongBack=f(1);F[p].onAnimation=function(a){this._run=a||0;return this};F[p].animate=function(a,d,g,j){if(b.is(g,"function")||!g)j=g||null;var l={},k={},o={};for(var n in a)if(a[s](n))if(Pa[s](n)){l[n]=this.attr(n);l[n]==null&&(l[n]=Ba[n]);k[n]=a[n];switch(Pa[n]){case "along":var q=sb(a[n]),r=Ka(a[n],q*!!a.back),w=this.getBBox();o[n]=q/d;o.tx=w.x;o.ty=w.y;o.sx=r.x;o.sy=r.y;k.rot=a.rot;k.back=a.back;k.len=q;a.rot&&
(o.r=N(this.rotate())||0);break;case ba:o[n]=(k[n]-l[n])/d;break;case "colour":l[n]=b.getRGB(l[n]);q=b.getRGB(k[n]);o[n]={r:(q.r-l[n].r)/d,g:(q.g-l[n].g)/d,b:(q.b-l[n].b)/d};break;case "path":q=Fa(l[n],k[n]);l[n]=q[0];r=q[1];o[n]=[];q=0;for(w=l[n][z];q<w;q++){o[n][q]=[0];for(var x=1,E=l[n][q][z];x<E;x++)o[n][q][x]=(r[q][x]-l[n][q][x])/d}break;case "csv":r=(a[n]+"").split(m);q=(l[n]+"").split(m);switch(n){case "translation":l[n]=[0,0];o[n]=[r[0]/d,r[1]/d];break;case "rotation":l[n]=q[1]==r[1]&&q[2]==
r[2]?q:[0,r[1],r[2]];o[n]=[(r[0]-l[n][0])/d,0,0];break;case "scale":a[n]=r;l[n]=(l[n]+"").split(m);o[n]=[(r[0]-l[n][0])/d,(r[1]-l[n][1])/d,0,0];break;case "clip-rect":l[n]=(l[n]+"").split(m);o[n]=[];for(q=4;q--;)o[n][q]=(r[q]-l[n][q])/d;break}k[n]=r}}this.stop();this.in_animation=1;da[this.id]={start:a.start||+new Date,ms:d,easing:g,from:l,diff:o,to:k,el:this,callback:j,t:{x:0,y:0}};++da[z]==1&&tb();return this};F[p].stop=function(){da[this.id]&&da[z]--;delete da[this.id];return this};F[p].translate=
function(a,d){return this.attr({translation:a+" "+d})};F[p].toString=function(){return"Rapha\u00ebl\u2019s object"};b.ae=da;var ha=function(a){this.items=[];this[z]=0;this.type="set";if(a)for(var d=0,g=a[z];d<g;d++)if(a[d]&&(a[d].constructor==F||a[d].constructor==ha)){this[this.items[z]]=this.items[this.items[z]]=a[d];this[z]++}};ha[p][Q]=function(){for(var a,d,g=0,j=arguments[z];g<j;g++)if((a=arguments[g])&&(a.constructor==F||a.constructor==ha)){d=this.items[z];this[d]=this.items[d]=a;this[z]++}return this};
ha[p].pop=function(){delete this[this[z]--];return this.items.pop()};for(var Ua in F[p])if(F[p][s](Ua))ha[p][Ua]=function(a){return function(){for(var d=0,g=this.items[z];d<g;d++)this.items[d][a][L](this.items[d],arguments);return this}}(Ua);ha[p].attr=function(a,d){if(a&&b.is(a,fa)&&b.is(a[0],"object")){d=0;for(var g=a[z];d<g;d++)this.items[d].attr(a[d])}else{g=0;for(var j=this.items[z];g<j;g++)this.items[g].attr(a,d)}return this};ha[p].animate=function(a,d,g,j){(b.is(g,"function")||!g)&&(j=g||null);
var l=this.items[z],k=l,o,n=this,q;j&&(q=function(){!--l&&j.call(n)});g=b.is(g,"string")?g:q;for(o=this.items[--k].animate(a,d,g,q);k--;)this.items[k].animateWith(o,a,d,g,q);return this};ha[p].insertAfter=function(a){for(var d=this.items[z];d--;)this.items[d].insertAfter(a);return this};ha[p].getBBox=function(){for(var a=[],d=[],g=[],j=[],l=this.items[z];l--;){var k=this.items[l].getBBox();a[Q](k.x);d[Q](k.y);g[Q](k.x+k.width);j[Q](k.y+k.height)}a=ja[L](0,a);d=ja[L](0,d);return{x:a,y:d,width:ga[L](0,
g)-a,height:ga[L](0,j)-d}};ha[p].clone=function(a){a=new ha;for(var d=0,g=this.items[z];d<g;d++)a[Q](this.items[d].clone());return a};b.registerFont=function(a){if(!a.face)return a;this.fonts=this.fonts||{};var d={w:a.w,face:{},glyphs:{}},g=a.face["font-family"];for(var j in a.face)if(a.face[s](j))d.face[j]=a.face[j];if(this.fonts[g])this.fonts[g][Q](d);else this.fonts[g]=[d];if(!a.svg){d.face["units-per-em"]=la(a.face["units-per-em"],10);for(var l in a.glyphs)if(a.glyphs[s](l)){g=a.glyphs[l];d.glyphs[l]=
{w:g.w,k:{},d:g.d&&"M"+g.d.replace(/[mlcxtrv]/g,function(o){return{l:"L",c:"C",x:"z",t:"m",r:"l",v:"c"}[o]||"M"})+"z"};if(g.k)for(var k in g.k)if(g[s](k))d.glyphs[l].k[k]=g.k[k]}}return a};A[p].getFont=function(a,d,g,j){j=j||"normal";g=g||"normal";d=+d||{normal:400,bold:700,lighter:300,bolder:800}[d]||400;if(b.fonts){var l=b.fonts[a];if(!l){a=new RegExp("(^|\\s)"+a.replace(/[^\w\d\s+!~.:_-]/g,"")+"(\\s|$)","i");for(var k in b.fonts)if(b.fonts[s](k))if(a.test(k)){l=b.fonts[k];break}}var o;if(l){k=
0;for(a=l[z];k<a;k++){o=l[k];if(o.face["font-weight"]==d&&(o.face["font-style"]==g||!o.face["font-style"])&&o.face["font-stretch"]==j)break}}return o}};A[p].print=function(a,d,g,j,l,k){k=k||"middle";var o=this.set(),n=(g+"").split(""),q=0;b.is(j,g)&&(j=this.getFont(j));if(j){g=(l||16)/j.face["units-per-em"];var r=j.face.bbox.split(m);l=+r[0];k=+r[1]+(k=="baseline"?r[3]-r[1]+ +j.face.descent:(r[3]-r[1])/2);r=0;for(var w=n[z];r<w;r++){var x=r&&j.glyphs[n[r-1]]||{},E=j.glyphs[n[r]];q+=r?(x.w||j.w)+(x.k&&
x.k[n[r]]||0):0;E&&E.d&&o[Q](this.path(E.d).attr({fill:"#000",stroke:"none",translation:[q,0]}))}o.scale(g,g,l,k).translate(a-l,d-k)}return o};var Qb=/\{(\d+)\}/g;b.format=function(a,d){var g=b.is(d,fa)?[0].concat(d):arguments;a&&b.is(a,"string")&&g[z]-1&&(a=a.replace(Qb,function(j,l){return g[++l]==null?"":g[l]}));return a||""};b.ninja=function(){y.was?(Raphael=y.is):delete Raphael;return b};b.el=F[p];return b}();uki.data={};uki.data.Observable={bind:function(b,c){var e=this;c.huid=c.huid||uki.guid++;
uki.each(b.split(" "),function(f,m){e._observersFor(m).push(c)})},unbind:function(b,c){var e=this;uki.each(b.split(" "),function(f,m){e._observers[m]=!c?[]:uki.grep(e._observersFor(m),function(h){return h!=c&&h.huid!=c.huid});e._observers[m]&&delete e._observers[m]})},trigger:function(b){var c=Array.prototype.slice.call(arguments,1);uki.each(this._observersFor(b,true),function(e,f){f.apply(this,c)},this)},_observersFor:function(b,c){if(c&&(!this._observers||!this._observers[b]))return[];if(!this._observers)this._observers=
{};this._observers[b]||(this._observers[b]=[]);return this._observers[b]}};uki.data.Model=uki.newClass(uki.data.Observable,function(){this._fields=[];this.init=function(b){this.update(b||{})};this.fields=function(){return this._fields};this.update=function(b){var c=[],e={};uki.each(b,function(f,m){var h=uki.isFunction(this[f])?"_"+f:f;if(this[h]!=m){e[f]=true;c.push(f);this[h]=m;this.trigger("change."+f,{model:this})}},this);c.length&&this.trigger("change",{changes:e,fields:c,model:this});return this}});
uki.data.model={_newProp:function(b){return uki.newProp("_"+b,function(c){var e={};e[b]=c;this.update(e)})},addFields:function(b,c){for(var e=0;e<c.length;e++)b[c[e]]=uki.data.model._newProp(c[e]);b._fields=c.concat(b._fields||[])},newLoader:function(b,c){return function(e){e=e||uki.F;if(this["loaded."+b])e.call(this,this[b]());else{this.bind("load."+b,e);if(!this["loading."+b]){this["loading."+b]=true;uki.ajax(uki.extend({url:uki.isFunction(c.url)?c.url.call(this):c.url,data:uki.isFunction(c.data)?
c.data.call(this):c.data?c.data:{id:this.id()},success:uki.proxy(function(f){this["loading."+b]=false;this["loaded."+b]=true;c.setter?c.setter.call(this,f):(this["_"+b]=f);this.trigger("load."+b,f);this.unbind("load."+b)},this)},c.ajaxOptions||{}))}}}}};hackfest_uki.layout={};hackfest_uki.layout.main=function(){return uki({view:"Box",rect:"1000 1000",anchors:"top left right bottom",childViews:[{view:"Box",rect:"1000 1000",anchors:"top left right bottom",id:"content"},{view:"Box",rect:"0 300 50 185",
anchors:"left top",background:"yellow",id:"menu",childViews:[{view:"Button",rect:"5 5 40 40",anchors:"left top",text:"Dash"},{view:"Button",rect:"5 50 40 40",anchors:"left top",text:"Team"},{view:"Button",rect:"5 95 40 40",anchors:"left top",text:"Event"},{view:"Button",rect:"5 140 40 40",anchors:"left top",text:"Fight"}]}]})};hackfest_uki.controller={};hackfest_uki.controller.main=function(){function b(){uki.map(t,function(B){B.visible(false)})}var c=hackfest_uki.layout.main(),e=hackfest_uki.layout.dashboard(),
f=hackfest_uki.layout.team(),m=hackfest_uki.layout.event(),h=hackfest_uki.layout.fight(),p=hackfest_uki.layout.login(),s=uki("#content",c);uki("#menu",c);var t=[e,f,m,h];c.append(p);uki.map(t,function(B){s.append(B)});c.attachTo(window,"1000 1000");b();p.visible(true);e.visible(true);uki("Button[text^=Dash]").click(function(){b();e.visible(true);s.layout()});uki("Button[text=Team]").click(function(){b();f.visible(true);s.layout()});uki("Button[text=Event]").click(function(){b();m.visible(true);s.layout()});
uki("Button[text=Fight]").click(function(){p.visible(true);c.layout()})};hackfest_uki.layout.dashboard=function(){return uki([{view:"Box",rect:"0 0 500 500",anchors:"top left",background:"#333",childViews:[{view:"Box",rect:"500 500",anchors:"top left right bottom",id:"clock"}]},{view:"Box",rect:"500 0 500 500",anchors:"top right",background:"yellow",childViews:[{view:"Box",rect:"500 500",anchors:"top left right bottom",id:"chart"}]},{view:"Box",rect:"0 500 500 500",anchors:"left bottom",background:"black",
childViews:[{view:"Box",rect:"500 500",anchors:"top left right bottom",id:"ball"}]},{view:"Box",rect:"500 500 500 500",anchors:"right bottom",background:"white",childViews:[{view:"Button",rect:"100 22",anchors:"top left",text:"foo"}]}])};hackfest_uki.layout.team=function(){return uki({view:"VSplitPane",rect:"0 0 1000 1000",anchors:"top left right bottom",vertical:true,topMin:232,handlePosition:232,topChildViews:[{view:"HSplitPane",rect:"0 0 1000 232",anchors:"top left right bottom",handlePosition:220,
leftMin:220,rightMin:520,leftChildViews:[{view:"Label",rect:"10 0 100 22",anchors:"top left right ",text:"Team Information"},{view:"TextField",rect:"10 32 100 22",anchors:"top left width",placeholder:"Name"},{view:"TextField",rect:"112 32 100 22",anchors:"top right width",placeholder:"Color"},{view:"PasswordTextField",rect:"10 57 202 22",anchors:"top left right",placeholder:"Team Password"},{view:"PasswordTextField",rect:"10 82 202 22",anchors:"top left right",placeholder:"Team Password Confirmation"},
{view:"Button",rect:"10 107 202 22",anchors:"top left right",id:"team_submit",text:"Create Team"},{view:"ScrollPane",rect:"60 132 152 100",anchors:"top left right bottom",childViews:[{view:"List",rect:"152 100",anchors:"top left right bottom"}]}],rightChildViews:[{view:"Label",rect:"10 0 100 22",anchors:"top left right",text:"Register Servers"},{view:"TextField",rect:"10 32 755 22",anchors:"top left right",placeholder:"Address"},{view:"PasswordTextField",rect:"10 57 755 22",anchors:"top left right",
placeholder:"Password"},{view:"PasswordTextField",rect:"10 82 755 22",anchors:"top left right",placeholder:"Password Confirmation"},{view:"Button",rect:"10 107 755 22",anchors:"top left right",id:"team_submit",text:"Register Server"},{view:"ScrollPane",rect:"10 132 755 100",anchors:"top left right bottom",childViews:[{view:"List",rect:"755 100",anchors:"top left right bottom"}]}]}],bottomChildViews:[{view:"Box",rect:"60 40 930 768",anchors:"top left right bottom",childViews:[{view:"Label",rect:"320 0 200 22",
anchors:"top left",text:"Team Details"},{view:"Label",rect:"0 32 200 22",anchors:"top left",text:"Members"},{view:"Table",rect:"0 57 930 200",anchors:"top left right",columns:[{view:"table.NumberColumn",label:"Address",width:80},{view:"table.CustomColumn",label:"Name",width:260},{view:"table.NumberColumn",label:"Score",width:100},{view:"table.NumberColumn",label:"Attack #",width:100},{view:"table.NumberColumn",label:"Defence #",width:100},{view:"table.NumberColumn",label:"Uptime",width:100}]},{view:"Label",
rect:"0 282 200 22",anchors:"top left",text:"Servers"},{view:"Table",rect:"0 307 930 200",anchors:"top left right",columns:[{view:"table.NumberColumn",label:"Address",width:80},{view:"table.CustomColumn",label:"Name",width:260},{view:"table.NumberColumn",label:"Service #",width:100},{view:"table.NumberColumn",label:"Attack #",width:100},{view:"table.NumberColumn",label:"Defence #",width:100},{view:"table.NumberColumn",label:"Uptime",width:100}]}]}]})};hackfest_uki.layout.event=function(){return uki({view:"Table",
rect:"0 57 1000 800",anchors:"top left right",columns:[{view:"table.NumberColumn",label:"ID",width:80},{view:"table.CustomColumn",label:"Attacker",width:260},{view:"table.NumberColumn",label:"Defener",width:200},{view:"table.NumberColumn",label:"Type of Attack",width:200},{view:"table.NumberColumn",label:"Service",width:200},{view:"table.NumberColumn",label:"Uptime",width:200},{view:"table.CustomColumn",label:"Time of Attack",width:200}]})};hackfest_uki.layout.fight=function(){return uki({view:"Button",
rect:"300 30 100 42",anchors:"",text:"Fight"})};hackfest_uki.layout.login=function(){return uki({view:"Box",rect:"1000 1000",anchors:"top left right bottom",id:"login_screen",background:"#333",childViews:[{view:"Button",rect:"100 20 100 22",anchors:"",text:"Login"}]})};hackfest_uki.controller.login=function(){var b=uki("#login_screen");uki("Button[text=Login]").click(function(){b.visible(false)})};uki.theme.airport.imagePath="i/";if(!window.TESTING){hackfest_uki.controller.main();hackfest_uki.controller.login()}})();
