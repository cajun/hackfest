(function(){storm={};var Z=this,L=document,oa=navigator.userAgent,va="uki"+ +new Date,W=Math.max,ha=Math.min,Na=Math.floor,Ba=Math.ceil;Z.uki=Z.uki||function(a,c){if(typeof a=="string"){var e=a.match(/^#((?:[\w\u00c0-\uFFFF_-]|\\.)+)$/),f=e&&uki._ids[e[1]];if(e&&!c)return new uki.Collection(f?[f]:[]);return uki.find(a,c)}if(a.length===undefined)a=[a];if(a.length>0&&uki.isFunction(a[0].typeName))return new uki.Collection(a);return uki.build(a)};uki.version="0.2.2";uki.guid=1;uki.F=function(){return false};
uki._ids={};uki.registerId=function(a){uki._ids[uki.attr(a,"id")]=a};uki.unregisterId=function(a){uki._ids[uki.attr(a,"id")]=undefined};var Xa=Object.prototype.toString,Ya=String.prototype.trim,Oa=Array.prototype.slice,wb=/^\s+|\s+$/g,Pa={attr:function(a,c,e){if(e!==undefined){if(a[c]&&a[c].apply)a[c](e);else a[c]=e;return a}else return a[c]&&a[c].apply?a[c]():a[c]},proxy:function(a,c){var e=Oa.call(arguments,2),f=function(){return a.apply(c,e.concat(Oa.call(arguments,0)))};f.huid=a.huid=a.huid||
uki.guid++;return f},isFunction:function(a){return Xa.call(a)==="[object Function]"},isArray:function(a){return Xa.call(a)==="[object Array]"},trim:function(a){a=a||"";return Ya?Ya.call(a):a.replace(wb,"")},escapeHTML:function(a){var c={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"};return(a+"").replace(/[&<>\"\']/g,function(e){return c[e]})},each:function(a,c,e){var f,l=0,h=a.length;if(h===undefined)for(f in a){if(!(!f||a[f]===undefined||!a.hasOwnProperty(f)))if(c.call(e||a[f],f,a[f])===
false)break}else for(f=a[0];l<h&&c.call(e||f,l,f)!==false;f=a[++l]);return a},inArray:function(a,c){for(var e=0,f=c.length;e<f;e++)if(c[e]===a)return e;return-1},unique:function(a){if(a.length&&(typeof a[0]=="object"||typeof a[0]=="function")){var c=[],e;for(e=0;e<a.length;e++){a[e].__uki_marked||(c[c.length]=a[e]);a[e].__uki_marked=true}for(e=0;e<c.length;e++)delete c[e].__uki_marked;return c}else{c=[];var f={};e=0;for(var l=a.length;e<l;e++){var h=a[e];if(!f[h]){f[h]=true;c.push(a[e])}}return c}},
grep:function(a,c){for(var e=[],f=0,l=a.length;f<l;f++)c(a[f],f)&&e.push(a[f]);return e},map:function(a,c,e){for(var f=[],l=uki.isFunction(c)?c:function(w){return uki.attr(w,c)},h=0,p=a.length;h<p;h++){var u=l.call(e||a[h],a[h],h);if(u!=null)f[f.length]=u}return f},reduce:function(a,c,e,f){for(var l=0,h=c.length;l<h;l++)a=e.call(f||c[l],a,c[l],l);return a},extend:function(){for(var a=arguments[0]||{},c=1,e=arguments.length,f;c<e;c++)if((f=arguments[c])!=null)for(var l in f){var h=f[l];if(h!==undefined)a[l]=
h}return a},newClass:function(){var a=function(){this.init.apply(this,arguments)},c,e;e=0;var f;c=[];var l,h;if(arguments.length>1)if(arguments[0].prototype){c=function(){};c.prototype=arguments[0].prototype;a.prototype=new c;e=1;c=[c.prototype]}for(e=e;e<arguments.length;e++){l=f=arguments[e];if(this.isFunction(f))f=f.apply(f,c);c.push(f);for(h in l){f=l[h];!l.hasOwnProperty(h)||f===undefined||(a.prototype[h]=f)}}if(!a.prototype.init)a.prototype.init=function(){};return a},binarySearch:function(a,
c){for(var e=0,f=c.length,l;e<f;){l=e+f>>1;c[l]<a?(e=l+1):(f=l)}return e},newProp:function(a,c){return function(e){if(e===undefined)return this[a];if(c)c.call(this,e);else this[a]=e;return this}},addProps:function(a,c){uki.each(c,function(){a[this]=uki.newProp("_"+this)})},toArray:function(a){return Oa.call(a,0)},delegateProp:function(a,c,e){var f="_"+c;a[c]=function(l){if(l===undefined){if(this[e])return uki.attr(this[e],c,l);return this[f]}if(this[e])uki.attr(this[e],c,l);else this[f]=l;return this}}};
Pa.extend(uki,Pa);delete Pa;uki.geometry={};var aa=uki.geometry.Point=function(a,c){this.x=a*1||0;this.y=c*1||0};aa.prototype={toString:function(){return this.x+" "+this.y},clone:function(){return new aa(this.x,this.y)},eq:function(a){return this.x==a.x&&this.y==a.y},offset:function(a,c){if(typeof a=="object"){c=a.y;a=a.x}this.x+=a;this.y+=c;return this},constructor:aa};aa.fromString=function(a){a=a.split(/\s+/);return new aa(a[0],a[1])};var X=uki.geometry.Size=function(a,c){this.width=a*1||0;this.height=
c*1||0};X.prototype={toString:function(){return this.width+" "+this.height},clone:function(){return new X(this.width,this.height)},eq:function(a){return this.width==a.width&&this.height==a.height},empty:function(){return this.width<=0||this.height<=0},constructor:X};X.fromString=function(a){a=a.split(/\s+/);return new X(a[0],a[1])};X.create=function(a,c){if(a===undefined)return null;if(a.width!==undefined)return a;if(/\S+\s+\S+/.test(a+""))return X.fromString(a,c);return new X(a,c)};var O=uki.geometry.Rect=
function(a,c,e,f){if(e!==undefined){this.x=a*1||0;this.y=c*1||0;this.width=e*1||0;this.height=f*1||0}else if(a===undefined||a.x===undefined){this.y=this.x=0;this.width=a*1||0;this.height=c*1||0}else{this.x=a?a.x*1:0;this.y=a?a.y*1:0;this.width=c?c.width*1:0;this.height=c?c.height*1:0}};O.prototype={toString:function(){return[this.x,this.y,this.width,this.height].join(" ")},toCoordsString:function(){return[this.x,this.y,this.maxX(),this.maxY()].join(" ")},clone:function(){return new O(this.x,this.y,
this.width,this.height)},minX:function(){return this.x},maxX:function(){return this.x+this.width},midX:function(){return this.x+this.width/2},minY:function(){return this.y},midY:function(){return this.y+this.height/2},maxY:function(){return this.y+this.height},normalize:function(){this.x=this.y=0;return this},empty:X.prototype.empty,eq:function(a){return a&&this.x==a.x&&this.y==a.y&&this.height==a.height&&this.width==a.width},inset:function(a,c){this.x+=a;this.y+=c;this.width-=a*2;this.height-=c*
2;return this},offset:aa.prototype.offset,intersection:function(a){var c=new aa(W(this.x,a.x),W(this.y,a.y));a=new X(ha(this.maxX(),a.maxX())-c.x,ha(this.maxY(),a.maxY())-c.y);return a.empty()?new O:new O(c,a)},union:function(a){return O.fromCoords(ha(this.x,a.x),ha(this.y,a.y),W(this.maxX(),a.maxX()),W(this.maxY(),a.maxY()))},containsPoint:function(a){return a.x>=this.minX()&&a.x<=this.maxX()&&a.y>=this.minY()&&a.y<=this.maxY()},containsRect:function(a){return this.eq(this.union(a))},constructor:O};
O.prototype.left=O.prototype.minX;O.prototype.top=O.prototype.minY;O.fromCoords=function(a,c,e,f){if(e===undefined)return new O(a.x,a.y,c.x-a.x,c.y-a.y);return new O(a,c,e-a,f-c)};O.fromCoordsString=function(a){a=a.split(/\s+/);return O.fromCoords(a[0],a[1],a[2],a[3])};O.fromString=function(a){a=a.split(/\s+/);if(a.length>2)return new O(a[0],a[1],a[2],a[3]);return new O(a[0],a[1])};O.create=function(a,c,e,f){if(a===undefined)return null;if(a.x!==undefined)return a;if(/\S+\s+\S+/.test(a+""))return O.fromString(a,
c);if(e===undefined)return new O(a,c);return new O(a,c,e,f)};var ca=uki.geometry.Inset=function(a,c,e,f){this.top=a*1||0;this.right=c*1||0;this.bottom=e===undefined?this.top*1:e*1;this.left=f===undefined?this.right*1:f*1};ca.prototype={toString:function(){return[this.top,this.right,this.bottom,this.left].join(" ")},clone:function(){return new ca(this.top,this.right,this.bottom,this.left)},width:function(){return this.left+this.right},height:function(){return this.top+this.bottom},negative:function(){return this.top<
0||this.left<0||this.right<0||this.bottom<0},empty:function(){return!this.top&&!this.left&&!this.right&&!this.bottom}};ca.fromString=function(a){a=a.split(/\s+/);if(a.length<3)a[2]=a[0];if(a.length<4)a[3]=a[1];return new ca(a[0],a[1],a[2],a[3])};ca.create=function(a,c,e,f){if(a===undefined)return null;if(a.top!==undefined)return a;if(/\S+\s+\S+/.test(a+""))return ca.fromString(a,c);if(e===undefined)return new ca(a,c);return new ca(a,c,e,f)};uki.dom={createElement:function(a,c,e){a=L.createElement(a);
if(c)a.style.cssText=c;if(e)a.innerHTML=e;a[va]=uki.guid++;return a},probe:function(a,c){var e=L.body;e.appendChild(a);c=c(a);e.removeChild(a);return c},layout:function(a,c,e){e=e||{};if(e.left!=c.left)a.left=c.left+"px";if(e.top!=c.top)a.top=c.top+"px";if(e.right!=c.right)a.right=c.right+"px";if(e.bottom!=c.bottom)a.bottom=c.bottom+"px";if(e.width!=c.width)a.width=W(c.width,0)+"px";if(e.height!=c.height)a.height=W(c.height,0)+"px";return c},computedStyle:function(a){if(L&&L.defaultView&&L.defaultView.getComputedStyle)return L.defaultView.getComputedStyle(a,
null);else if(a.currentStyle)return a.currentStyle},contains:function(a,c){try{if(a.contains)return a.contains(c);if(a.compareDocumentPosition)return!!(a.compareDocumentPosition(c)&16)}catch(e){}for(;c&&c!=a;)try{c=c.parentNode}catch(f){c=null}return a==c},createStylesheet:function(a){var c=L.createElement("style");L.getElementsByTagName("head")[0].appendChild(c);if(c.styleSheet)c.styleSheet.cssText=a;else c.appendChild(document.createTextNode(a));return c}};uki.each(["createElement"],function(a,
c){uki[c]=uki.dom[c]});uki.dom.special={};uki.dom.Event=function(a){a=a||{};this.domEvent=a.domEvent||a;for(var c=uki.dom.props.length,e;c;){e=uki.dom.props[--c];this[e]=a[e]}};uki.dom.Event.prototype=new (function(){function a(){return true}this.preventDefault=function(){var c=this.domEvent;c.preventDefault&&c.preventDefault();c.returnValue=false;this.isDefaultPrevented=a};this.stopPropagation=function(){var c=this.domEvent;c.stopPropagation&&c.stopPropagation();c.cancelBubble=true;this.isPropagationStopped=
a};this.isDefaultPrevented=this.isPropagationStopped=uki.F});uki.extend(uki.dom,{bound:{},handlers:{},props:"type altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode metaKey newValue originalTarget pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which dragOffset dataTransfer".split(" "),events:"blur focus load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error draggesturestart draggestureend draggesture dragstart dragend drag drop dragenter dragleave dragover".split(" "),
bind:function(a,c,e){if(a.setInterval&&a!=window)a=window;e.huid=e.huid||uki.guid++;var f=a[va]=a[va]||uki.guid++,l=uki.dom.handlers[f]=uki.dom.handlers[f]||function(){uki.dom.handler.apply(arguments.callee.elem,arguments)},h,p;l.elem=a;uki.dom.bound[f]||(uki.dom.bound[f]={});c=c.split(" ");for(h=0;h<c.length;h++){p=c[h];if(!uki.dom.bound[f][p]){uki.dom.bound[f][p]=[];if(!uki.dom.special[p]||uki.dom.special[p].setup.call(a)===false)a.addEventListener?a.addEventListener(p,l,false):a.attachEvent("on"+
p,l)}uki.dom.bound[f][p].push(e)}e=l=a=null},unbind:function(a,c,e){var f=a[va],l=e&&e.huid,h,p;if(c)c=c.split(" ");else{c=[];uki.each(uki.dom.bound[f]||[],function(w){c.push(w)})}for(h=0;h<c.length;h++){p=c[h];if(!(!f||!uki.dom.bound[f]||!uki.dom.bound[f][p])){uki.dom.bound[f][p]=e?uki.grep(uki.dom.bound[f][p],function(w){return w.huid!==l}):[];if(uki.dom.bound[f][p].length==0){var u=uki.dom.handlers[f];if(!uki.dom.special[p]||uki.dom.special[p].teardown.call(a)===false)a.removeEventListener?a.removeEventListener(p,
u,false):a.detachEvent("on"+p,u);uki.dom.bound[f][p]=null}}}},handler:function(a){a=a||Z.event;var c=a.type,e=this[va],f=uki.dom.bound[e];if(!a.domEvent){a=new uki.dom.Event(a);a=uki.dom.fix(a)}if(!(!e||!f||!f[c])){e=0;for(f=f[c];e<f.length;e++)f[e].call(this,a)}},fix:function(a){if(!a.target)a.target=a.srcElement||L;if(a.target.nodeType==3)a.target=a.target.parentNode;if(!a.relatedTarget&&a.fromElement)a.relatedTarget=a.fromElement==a.target?a.toElement:a.fromElement;if(a.pageX==null&&a.clientX!=
null){var c=L.documentElement,e=L.body;a.pageX=a.clientX+(c&&c.scrollLeft||e&&e.scrollLeft||0)-(c.clientLeft||0);a.pageY=a.clientY+(c&&c.scrollTop||e&&e.scrollTop||0)-(c.clientTop||0)}if(!a.which&&(a.charCode||a.charCode===0?a.charCode:a.keyCode))a.which=a.charCode||a.keyCode;if(!a.metaKey&&a.ctrlKey)try{a.metaKey=a.ctrlKey}catch(f){}if(!a.which&&a.button)a.which=a.button&1?1:a.button&2?3:a.button&4?2:0;return a},preventDefaultHandler:function(a){a&&a.preventDefault();return false}});uki.each({mouseover:"mouseenter",
mouseout:"mouseleave"},function(a,c){var e=function(f){if(!uki.dom.contains(this,f.relatedTarget)){f.type=c;uki.dom.handler.apply(this,arguments)}};uki.dom.special[c]={setup:function(){uki.dom.bind(this,a,e)},teardown:function(){uki.dom.unbind(this,a,e)}}});Z.attachEvent&&Z.attachEvent("onunload",function(){uki.each(uki.dom.bound,function(a,c){uki.each(c,function(e){try{uki.dom.handlers[a].elem.detachEvent("on"+e,uki.dom.handlers[a])}catch(f){}})})});(function(){function a(D){if(!h.draggable){h.draggable=
D;uki.dom.bind(L,"mousemove scroll",f);uki.dom.bind(L,w,l);uki.dom.bind(L,"selectstart mousedown",uki.dom.preventDefaultHandler)}}function c(){h.draggable=null;uki.dom.unbind(L,"mousemove scroll",f);uki.dom.unbind(L,w,l);uki.dom.unbind(L,"selectstart mousedown",uki.dom.preventDefaultHandler)}function e(D){D=new uki.dom.Event(D);D.type="draggesturestart";uki.dom.handler.apply(this,arguments);if(!D.isDefaultPrevented()){a(this);h.position=new aa(-D.pageX,-D.pageY)}}function f(D){D=new uki.dom.Event(D);
D.type="draggesture";D.dragOffset=(new aa(D.pageX,D.pageY)).offset(h.position);uki.dom.handler.apply(h.draggable,arguments);D.isDefaultPrevented()&&c(h.draggable)}function l(D){D=new uki.dom.Event(D);D.type="draggestureend";D.dragOffset=(new aa(D.pageX,D.pageY)).offset(h.position);uki.dom.handler.apply(h.draggable,arguments);c(h.draggable)}var h=uki.dom.dnd={draggable:null,nativeDnD:false,position:null};try{if(typeof L.createEvent("MouseEvent").dataTransfer=="object"||L.createEvent("DragEvent").initDragEvent)h.nativeDnD=
!oa.match(/Chrome\/4/)}catch(p){}var u={setup:function(){if(this.__draggesturebound)this.__draggesturebound++;else{this.__draggesturebound=1;uki.dom.bind(this,"mousedown",e);if(!h.nativeDnD&&typeof this.ondragstart=="object")this.ondragstart=function(){event.returnValue=false}}},teardown:function(){this.__draggesturebound--;this.__draggesturebound||uki.dom.unbind(this,"mousedown",e)}};uki.extend(uki.dom.special,{draggesturestart:u,draggestureend:u,draggesture:u});var w="mouseup "+(h.nativeDnD?" dragend":
"")})();(function(){function a(t){if(uki.isFunction(t.dom)){if(t.parent().length)return t.dom();var s=uki.createElement("div","width:1px;height:1px;position:absolute;left:-999em;top:0");L.body.appendChild(s);t.attachTo(s);return s}return t}function c(t){t=new uki.dom.Event(t);var s=t.dataTransfer;t.dataTransfer=new uki.dom.DataTransferWrapper(s);uki.dom.handler.apply(this,arguments);s.effectAllowed=t.dataTransfer.effectAllowed;s.dropEffect=t.dataTransfer.dropEffect}function e(t){uki.dom.bind(t,"draggestureend",
u)}function f(t){if(w.dataTransfer){w.dataTransfer.cleanup();w.dragOver=w.dataTransfer=w.target=null;uki.dom.unbind(t,"draggestureend",u)}}function l(t){if(!(!w.dataTransfer||t.domEvent.__dragEntered||!D)){t=new uki.dom.Event(t);t.domEvent.__dragEntered=true;if(w.dragOver!=this){w.dragOver=this;t.type="dragenter";uki.dom.handler.apply(this,arguments)}}}function h(t){if(D){if(!t.domEvent.__dragEntered&&w.dragOver){t=new uki.dom.Event(t);t.type="dragleave";uki.dom.handler.apply(w.dragOver,arguments);
w.dragOver=null}}else{if(w.dataTransfer){t.type="drag";t.target=w.target}else if(t.dragOffset.x>w.dragDelta||t.dragOffset.y>w.dragDelta){var s=t.target,P=this.parentNode;try{for(;s&&s!=P&&!s.getAttribute("draggable");)s=s.parentNode}catch(Q){s=null}if(s&&s.getAttribute("draggable")){w.target=t.target=s;t.type="dragstart";w.dataTransfer=t.dataTransfer=new uki.dom.DataTransfer(t.domEvent.dataTransfer);e(this)}else return}else return;t=new uki.dom.Event(t);uki.dom.handler.apply(this,arguments);t.isDefaultPrevented()?
f(this):p(t)}}function p(t){var s=w.dataTransfer._dragImage.style,P=t.domEvent.type;t.stopPropagation();t.preventDefault();s.left="-999em";s=L.elementFromPoint(t.pageX,t.pageY);w.dataTransfer.update(t);try{var Q;D=true;try{if(L.createEventObject){Q=L.createEventObject();for(var S=C.length,z;S;){z=uki.dom.props[--S];Q[z]=t.domEvent[z]}s.fireEvent("on"+P,Q)}else{Q=L.createEvent("MouseEvents");Q.initMouseEvent(P,true,true,L.defaultView,t.detail,t.screenX,t.screenY,t.clientX,t.clientY,t.ctrlKey,t.altKey,
t.shiftKey,t.metaKey,t.button,null);s.dispatchEvent(Q)}}catch(Y){}D=false}catch(G){}}function u(t){if(!D)if(w.dataTransfer){t.type="dragend";t.target=w.target;t.dataTransfer=w.dataTransfer;uki.dom.handler.apply(this,arguments);p(t);f(this)}}var w=uki.dom.dnd,D=false;uki.extend(w,{dragDelta:5,initNativeDnD:function(){var t=uki.createElement("div","position: absolute;left:-999em;");L.body.appendChild(t);w.dragImageContainer=t;w.initNativeDnD=uki.F;return true},dragImageContainer:null,dataTransfer:null,
target:null,dragOver:null});var B=["dropEffect","effectAllowed","types","files"];uki.dom.DataTransferWrapper=uki.newClass(new (function(){this.init=function(t){this.dataTransfer=t;for(var s=B.length-1;s>=0;s--)this[B[s]]=t[B[s]]};this.setData=function(t,s){return this.dataTransfer.setData(t,s)};this.clearData=function(t){return this.dataTransfer.clearData(t)};this.getData=function(t){return this.dataTransfer.getData(t)};this.setDragImage=function(t,s,P){w.initNativeDnD();t=a(t);var Q=t.cloneNode(true);
t=Q.style;t.left=t.right=t.top=t.bottom="";t.position="static";w.dragImageContainer.appendChild(Q);setTimeout(function(){w.dragImageContainer.removeChild(Q)},1);return this.dataTransfer.setDragImage(Q,s,P)}}));uki.dom.DataTransfer=uki.newClass(new (function(){this.init=function(){uki.extend(this,{dropEffect:"none",effectAllowed:"none",types:[],files:[],dragImage:new Image,imagePosition:new aa,data:{}})};this.setData=function(t,s){this.data[t]=s;uki.inArray(t,this.types)==-1&&this.types.push(t)};this.clearData=
function(t){if(t){delete this.data[t];this.types=uki.grep(this.types,function(s){return s!=t})}else{this.data={};this.types=[]}};this.getData=function(t){return this.data[t]};this.setDragImage=function(t,s,P){this._dragImage=this._initDragImage(t);this._imagePosition=new aa(s||0,P||0)};this.update=function(t){if(this._dragImage){this._dragImage.style.left=t.pageX-this._imagePosition.x+"px";this._dragImage.style.top=t.pageY-this._imagePosition.y+"px"}};this.cleanup=function(){this._dragImage&&this._dragImage.parentNode.removeChild(this._dragImage);
this._dragImage=undefined};this._initDragImage=function(t){t=a(t);t=t.cloneNode(true);var s=t.style;s.left=s.right=s.top=s.bottom="";s.position="absolute";s.left="-999em";s.zIndex="9999";L.body.appendChild(t);return t}}));var v={setup:function(){if(this.__w3cdragbound)this.__w3cdragbound++;else{this.__w3cdragbound=1;uki.dom.bind(this,"draggesture",h)}},teardown:function(){this.__w3cdragbound--;this.__draggesturebound||uki.dom.unbind(this,"draggesture",h)}};if(w.nativeDnD)uki.extend(uki.dom.special,
{dragstart:{setup:function(){this.addEventListener("dragstart",c,false)},teardown:function(){this.removeEventListener("dragstart",c,false)}}});else{uki.extend(uki.dom.special,{dragstart:v,drag:v,dragend:v});uki.each({dragover:"mousemove",drop:"mouseup"},function(t,s){var P=function(Q){if(w.dataTransfer&&D){Q=new uki.dom.Event(Q);Q.type=t;Q.dataTransfer=w.dataTransfer;if(t=="dragover")w.__canDrop=false;else{f(this);if(!w.__canDrop)return}uki.dom.handler.apply(this,arguments);if(Q.isDefaultPrevented())w.__canDrop=
true}};uki.dom.special[t]={setup:function(){uki.dom.bind(this,s,P)},teardown:function(){uki.dom.unbind(this,s,P)}}});uki.dom.special.dragenter={setup:function(){uki.dom.bind(this,"mousemove",l)},teardown:function(){uki.dom.unbind(this,"mousemove",l)}};uki.dom.special.dragleave={setup:function(){},teardown:function(){}}}var C="detail screenX screenY clientX clientY ctrlKey altKey shiftKey metaKey button".split(" ")})();(function(){var a;a=L.documentElement.getBoundingClientRect?(uki.dom.offset=function(c){if(!c||
c==Z)return new aa;if(c===c.ownerDocument.body)return a.bodyOffset(c);a.boxModel===undefined&&a.initializeBoxModel();var e=c.getBoundingClientRect(),f=c.ownerDocument;c=f.body;f=f.documentElement;return new aa(e.left+(a.pageXOffset||a.boxModel&&f.scrollLeft||c.scrollLeft)-(f.clientLeft||c.clientLeft||0),e.top+(a.pageYOffset||a.boxModel&&f.scrollTop||c.scrollTop)-(f.clientTop||c.clientTop||0))}):(uki.dom.offset=function(c){if(!c||c==Z)return new aa;if(c===c.ownerDocument.body)return a.bodyOffset(c);
a.initialized||a.initialize();var e=c.offsetParent,f=c.ownerDocument,l,h=f.documentElement,p=f.body;f=f.defaultView;l=f.getComputedStyle(c,null);for(var u=c.offsetTop,w=c.offsetLeft;(c=c.parentNode)&&c!==p&&c!==h;){l=f.getComputedStyle(c,null);u-=c.scrollTop;w-=c.scrollLeft;if(c===e){u+=c.offsetTop;w+=c.offsetLeft;if(a.doesNotAddBorder&&!(a.doesAddBorderForTableAndCells&&/^t(able|d|h)$/i.test(c.tagName))){u+=parseInt(l.borderTopWidth,10)||0;w+=parseInt(l.borderLeftWidth,10)||0}e=c.offsetParent}if(a.subtractsBorderForOverflowNotVisible&&
l.overflow!=="visible"){u+=parseInt(l.borderTopWidth,10)||0;w+=parseInt(l.borderLeftWidth,10)||0}l=l}if(l.position==="relative"||l.position==="static"){u+=p.offsetTop;w+=p.offsetLeft}if(l.position==="fixed"){u+=W(h.scrollTop,p.scrollTop);w+=W(h.scrollLeft,p.scrollLeft)}return new aa(w,u)});uki.extend(a,{initialize:function(){if(!this.initialized){var c=L.body,e=L.createElement("div"),f,l,h,p=c.style.marginTop;f={position:"absolute",top:0,left:0,margin:0,border:0,width:"1px",height:"1px",visibility:"hidden"};
for(l in f)e.style[l]=f[l];e.innerHTML='<div style="position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;"><div></div></div><table style="position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;" cellpadding="0" cellspacing="0"><tr><td></td></tr></table>';c.insertBefore(e,c.firstChild);f=e.firstChild;l=f.firstChild;h=f.nextSibling.firstChild.firstChild;this.doesNotAddBorder=l.offsetTop!==5;this.doesAddBorderForTableAndCells=
h.offsetTop===5;f.style.overflow="hidden";f.style.position="relative";this.subtractsBorderForOverflowNotVisible=l.offsetTop===-5;c.style.marginTop="1px";this.doesNotIncludeMarginInBodyOffset=c.offsetTop===0;c.style.marginTop=p;c.removeChild(e);this.boxModel===undefined&&this.initializeBoxModel();this.initialized=true}},initializeBoxModel:function(){if(this.boxModel===undefined){var c=L.createElement("div");c.style.width=c.style.paddingLeft="1px";L.body.appendChild(c);this.boxModel=c.offsetWidth===
2;L.body.removeChild(c).style.display="none"}},bodyOffset:function(c){a.initialized||a.initialize();var e=c.offsetTop,f=c.offsetLeft;if(uki.dom.doesNotIncludeMarginInBodyOffset){e+=parseInt(uki.dom.elem.currentStyle(c).marginTop,10)||0;f+=parseInt(uki.dom.elem.currentStyle(c).marginLeft,10)||0}return new aa(f,e)}})})();uki.initNativeLayout=function(){uki.supportNativeLayout===undefined&&uki.dom.probe(uki.createElement("div","position:absolute;width:100px;height:100px;left:-999em;",'<div style="position:absolute;left:0;right:0"></div>'),
function(a){uki.supportNativeLayout=a.childNodes[0].offsetWidth==100&&!Z.opera})};uki.view={declare:function(){var a=uki.toArray(arguments),c=a.shift();a=uki.newClass.apply(uki,a);var e=c.split("."),f=Z,l,h;a.prototype.typeName=function(){return c};for(l=0;l<e.length-1;l++){h=e[l];f[h]||(f[h]={});f=f[h]}return f[e[e.length-1]]=a}};uki.view.Observable={bind:function(a,c){c.huid=c.huid||uki.guid++;uki.each(a.split(" "),function(e,f){this._bound(f)||this._bindToDom(f);this._observersFor(f).push(c)},
this);return this},unbind:function(a,c){uki.each(a.split(" "),function(e,f){this._observers[f]=!c?[]:uki.grep(this._observersFor(f,true),function(l){return l!=c&&l.huid!=c.huid});this._observers[f].length==0&&this._unbindFromDom(f)},this);return this},trigger:function(a){var c=Array.prototype.slice.call(arguments,1);uki.each(this._observersFor(a,true),function(e,f){f.apply(this,c)},this);return this},_unbindFromDom:function(a){this._domHander&&this._eventTargets[a]&&uki.dom.unbind(this._eventTargets[a],
a,this._domHander)},_bindToDom:function(a,c){if(c||this.dom){this._domHander=this._domHander||uki.proxy(function(e){e.source=this;this.trigger(e.type,e)},this);this._eventTargets=this._eventTargets||{};this._eventTargets[a]=c||this.dom();uki.dom.bind(this._eventTargets[a],a,this._domHander);return true}},_bound:function(a){return this._observers&&this._observers[a]},_observersFor:function(a,c){if(c&&(!this._observers||!this._observers[a]))return[];if(!this._observers)this._observers={};this._observers[a]||
(this._observers[a]=[]);return this._observers[a]}};(function(){function a(){return L.compatMode=="CSS1Compat"&&L.documentElement||L.body}var c=uki.Attachment=uki.newClass(uki.view.Observable,{init:function(e,f,l){uki.initNativeLayout();this._dom=e=e||Z;this._view=f;this._rect=O.create(l)||this.rect();uki.dom.offset.initialize();f.parent(this);this.domForChild().appendChild(f.dom());if(e!=Z&&e.tagName!="BODY"){f=e.runtimeStyle||e.ownerDocument.defaultView.getComputedStyle(e,null);if(!f.position||
f.position=="static")e.style.position="relative"}c.register(this);this.layout()},domForChild:function(){return this._dom===Z?L.body:this._dom},rectForChild:function(){return this.rect()},scroll:function(){},scrollTop:function(){return this._dom.scrollTop||0},scrollLeft:function(){return this._dom.scrollLeft||0},parent:function(){return null},layout:function(){var e=this._rect,f=this._rect=this.rect();this._view.parentResized(e,f);this._view._needsLayout&&this._view.layout();this.trigger("layout",
{source:this,rect:f})},dom:function(){return this._dom},view:function(){return this._view},rect:function(){var e=this._dom===Z||this._dom===L.body?W(a().clientWidth,this._dom.offsetWidth||0):this._dom.offsetWidth,f=this._dom===Z||this._dom===L.body?W(a().clientHeight,this._dom.offsetHeight||0):this._dom.offsetHeight;return new O(e,f)}});c.instances=[];c.register=function(e){if(c.instances.length==0){var f=false;uki.dom.bind(Z,"resize",function(){if(!f){f=true;setTimeout(function(){f=false;uki.each(c.instances,
function(){this.layout()})},1)}})}c.instances.push(e)};c.childViews=function(){return uki.map(c.instances,"view")};uki.top=function(){return[c]}})();uki.Collection=function(a){this.length=0;Array.prototype.push.apply(this,a)};uki.fn=uki.Collection.prototype=new (function(){var a=this;this.each=function(c){uki.each(this,c);return this};this.grep=function(c){return new uki.Collection(uki.grep(this,c))};this.attr=function(c,e){if(e!==undefined){for(var f=0;f<this.length;f++)uki.attr(this[f],c,e);return this}else return this[0]?
uki.attr(this[0],c):""};this.find=function(c){return uki.find(c,this)};this.attachTo=function(c,e){this.each(function(){new uki.Attachment(c,this,e)});return this};this.append=function(c){if(!this[0])return this;c=c.length!==undefined?c:[c];for(var e=0;e<c.length;e++)this[0].appendChild(c[e]);return this};this.appendTo=function(c){c=uki(c)[0];this.each(function(){c.appendChild(this)});return this};uki.Collection.addAttrs=function(c){uki.each(c,function(e,f){a[f]=function(l){return this.attr(f,l)}})};
uki.Collection.addAttrs("dom html text background value rect checked anchors childViews typeName id name visible disabled focusable style draggable textSelectable width height minX maxX minY maxY left top x y".split(" "));uki.each([["parent","parent"],["next","nextView"],["prev","prevView"]],function(c,e){a[e[0]]=function(){return new uki.Collection(uki.unique(uki.map(this,e[1])))}});uki.each("bind unbind trigger layout appendChild removeChild insertBefore addRow removeRow resizeToContents toggle".split(" "),
function(c,e){a[e]=function(){for(var f=0;f<this.length;f++)this[f][e].apply(this[f],arguments);return this}});uki.each(uki.dom.events,function(c,e){a[e]=function(f){if(f)this.bind(e,f);else for(f=0;f<this.length;f++)this[f][e]?this[f][e]():this[f].trigger(e);return this}})});(function(){function a(f){return uki.map(f,function(l){return c(l)})}function c(f){if(uki.isFunction(f.typeName))return f;var l=f.view||f.type,h;if(uki.isFunction(l))h=new l(f.rect);else if(typeof l==="string"){for(var p=0,u=
uki.viewNamespaces;p<u.length;p++){for(var w=(u[p]+l).split("."),D=Z,B=0;D&&B<w.length;B++)D=D[w[B]];if(D){h=new D(f.rect);break}}if(!D)throw"No view of type "+l+" found";}else h=l;e(h,f);return h}function e(f,l){uki.each(l,function(h,p){h=="view"||h=="type"||h=="rect"||uki.attr(f,h,p)});return f}uki.build=function(f){if(f.length===undefined)f=[f];return new uki.Collection(a(f))};uki.viewNamespaces=["uki.view.",""];uki.build.copyAttrs=e})();(function(){function a(B){return c(uki.map(B,function(v){return[v].concat(a(l(v,
"childViews")))}))}function c(B){return uki.reduce([],B,e)}function e(B,v){return B.concat(v)}var f,l=uki.attr,h=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^[\]]*\]|['"][^'"]*['"]|[^[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?/g,p=[{name:"ID",regexp:/#((?:[\w\u00c0-\uFFFF_-]|\\.)+)/},{name:"ATTR",regexp:/\[\s*((?:[\w\u00c0-\uFFFF_-]|\\.)+)\s*(?:(\S?=)\s*(['"]*)(.*?)\3|)\s*\]/},{name:"TYPE",regexp:/^((?:[\w\u00c0-\uFFFF\*_\.-]|\\.)+)/},{name:"POS",regexp:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^-]|$)/}],
u={first:function(B){return B===0},last:function(B,v,C){return B===C.length-1},even:function(B){return B%2===0},odd:function(B){return B%2===1},lt:function(B,v){return B<v[2]-0},gt:function(B,v){return B>v[2]-0},nth:function(B,v){return v[2]-0==B},eq:function(B,v){return v[2]-0==B}},w={TYPE:function(B,v){v=v[1];if(v=="*")return true;return(B=l(B,"typeName"))&&B.length>=v.length&&("."+B).indexOf("."+v)==B.length-v.length},ATTR:function(B,v){B=l(B,v[1]);var C=B+"",t=v[2];v=v[4];return B==null?t==="!=":
t==="="?C===v:t==="*="?C.indexOf(v)>=0:t==="~="?(" "+C+" ").indexOf(v)>=0:!v?C&&B!==false:t==="!="?C!=v:t==="^="?C.indexOf(v)===0:t==="$="?C.substr(C.length-v.length)===v:false},ID:function(B,v){return w.ATTR(B,["","id","=","",v[1]])},POS:function(B,v,C,t){return(B=u[v[1]])?B(C,v,t):false}},D={"+":function(B){return uki.unique(uki.map(B,"nextView"))},">":function(B){return uki.unique(c(uki.map(B,"childViews")))},"":function(B){return uki.unique(a(c(uki.map(B,"childViews"))))},"~":function(){}};f=
uki.Selector={find:function(B,v,C){v=v||uki.top();if(v.length===undefined)v=[v];var t=f.tokenize(B);B=t[0];t=t[1];for(var s=v,P;B.length>0;){P=D[B[0]]?D[B.shift()]:D[""];s=P(s);if(B.length==0)break;s=f.reduce(B.shift(),s)}if(t)s=s.concat(f.find(t,v,true));return C?s:new uki.Collection(uki.unique(s))},reduce:function(B,v){if(!v||!v.length)return[];for(var C,t;B!="";){t=false;uki.each(p,function(s,P){if(C=B.match(P.regexp)){t=true;v=uki.grep(v,function(Q,S){return w[P.name](Q,C,S,v)});B=B.replace(P.regexp,
"");return false}});if(!t)break}return v},tokenize:function(B){var v=[],C,t;for(h.lastIndex=0;(C=h.exec(B))!==null;){v.push(C[1]);if(C[2]){t=RegExp.rightContext;break}}return[v,t]}};uki.find=f.find})();uki.image=function(a,c,e){var f=new Image;f.src=uki.imageSrc(a,c,e);return f};uki.imageSrc=function(a,c,e){if(uki.image.dataUrlSupported&&c)return c;if(e&&uki.image.needAlphaFix)return e;return a};uki.imageHTML=function(a,c,e,f){if(uki.image.needAlphaFix&&e)a=e;else if(uki.image.dataUrlSupported)a=
c;return"<img"+(f||"")+' src="'+a+'" />'};uki.image.load=function(a,c){var e=a.length;uki.each(a,function(f,l){if(!l||l.width)--e||c();else{f=function(){l.onload=l.onerror=l.onabort=null;--e||c()};l.onload=f;l.onerror=f;l.onabort=f}})};uki.image.dataUrlSupported=L.createElement("canvas").toDataURL||/MSIE (8)/.test(oa);uki.image.needAlphaFix=/MSIE 6/.test(oa);uki.image.needAlphaFix&&L.execCommand("BackgroundImageCache",false,true);(function(){var a=/^\s*null\s*$/,c=/theme\s*\(\s*([^)]*\s*)\)/,e=/rows\s*\(\s*([^)]*\s*)\)/,
f=/cssBox\s*\(\s*([^)]*\s*)\)/,l=uki.background=function(h){if(typeof h==="string"){var p;if(h.match(a))return new l.Null;if(p=h.match(c))return uki.theme.background(p[1]);if(p=h.match(e))return new l.Rows(p[1].split(",")[0],p[1].split(/\s*,\s*/).slice(1));if(p=h.match(f))return new l.CssBox(p[1]);return new l.Css(h)}return h}})();uki.background.Base=uki.background.Null=uki.newClass({init:uki.F,attachTo:uki.F,detach:uki.F});uki.background.Sliced9=uki.newClass(new (function(){function a(h,p,u,w,D){w=
u[3]?e(u,w):"";u[3]||(p+=c(u,D));return'<div class="'+h+'" style="position:absolute;overflow:hidden;'+p+'">'+w+"</div>"}function c(h,p){return";background: url("+uki.imageSrc(h[0],h[1],h[2])+") "+p}function e(h,p){return uki.imageHTML(h[0],h[1],h[2],' ondragstart="return false;" galleryimg="no" style="-webkit-user-drag:none;-webkit-user-select:none;-moz-user-select:none;position:absolute;'+p+'"')}var f=uki.dom,l={};this.init=function(h,p,u){this._settings=uki.extend({},h);this._inset=ca.create(p);
this._size=null;this._inited=false;u=u||{};this._fixedSize=X.create(u.fixedSize)||new X;this._bgInset=ca.create(u.inset)||new ca;this._zIndex=u.zIndex||-1;this._container=this._getContainer();this._container.style.zIndex=this._zIndex};this._getContainer=function(){var h=this._getKey();if(!l[h])return l[h]=this._createContainer();return l[h].cloneNode(true)};this._createContainer=function(){var h=this._inset,p=this._bgInset,u=this._settings,w=h.left+h.right,D=h.top+h.bottom;p=["left:"+p.left+"px",
"right:"+p.right+"px","top:"+p.top+"px","bottom:"+p.bottom+"px"].join(";");var B=[];if(h.top&&h.left)B[B.length]=a("tl",["left:0;top:0","width:"+h.left+"px","height:"+h.top+"px"].join(";"),u.c,["left:0;top:0","width:"+w+"px","height:"+D+"px"].join(";"),"top left");if(h.top)B[B.length]=a("t",["left:"+h.left+"px","top:0","height:"+h.top+"px","right:"+h.right+"px"].join(";"),u.h,["left:0;top:0;width:100%","height:"+D+"px"].join(";"),"repeat-x top");if(h.top&&h.right)B[B.length]=a("tr",["right:0;top:0",
"width:"+h.right+"px","height:"+h.top+"px"].join(";"),u.c,["left:-"+h.left+"px","top:0","width:"+w+"px","height:"+D+"px"].join(";"),"top right");if(h.left)B[B.length]=a("l",["left:0","top:"+h.top+"px","width:"+h.left+"px","bottom:"+h.bottom+"px"].join(";"),u.v,["left:0;top:0;height:100%","width:"+w+"px"].join(";"),"repeat-y left");if(u.m)B[B.length]=a("m",["left:"+h.left+"px","top:"+h.top+"px","right:"+h.right+"px","bottom:"+h.bottom+"px"].join(";"),u.m,"left:0;top:0;height:100%;width:100%","");if(h.right)B[B.length]=
a("r",["right:0","top:"+h.top+"px","width:"+h.right+"px","bottom:"+h.bottom+"px"].join(";"),u.v,["left:-"+h.left+"px","top:0;height:100%","width:"+w+"px"].join(";"),"repeat-y right");if(h.bottom&&h.left)B[B.length]=a("bl",["left:0;bottom:0","width:"+h.left+"px","height:"+h.bottom+"px"].join(";"),u.c,["left:0","top:-"+h.top+"px","width:"+w+"px","height:"+D+"px"].join(";"),"left -"+h.top+"px");if(h.bottom)B[B.length]=a("b",["left:"+h.left+"px","bottom:0","height:"+h.bottom+"px","right:"+h.right+"px"].join(";"),
u.h,["left:0","top:-"+h.top+"px","width:100%","height:"+D+"px"].join(";"),"repeat-x 0 -"+h.top+"px");if(h.bottom&&h.right)B[B.length]=a("br",["right:0;bottom:0","width:"+h.right+"px","height:"+h.bottom+"px"].join(";"),u.c,["left:-"+h.left+"px","top:-"+h.top+"px","width:"+w+"px","height:"+D+"px"].join(";"),"right -"+h.top+"px");return uki.createElement("div","position:absolute;overflow:hidden;"+p,B.join(""))};this._getKey=function(){return uki.map(["v","h","m","c"],function(h){return this._settings[h]&&
this._settings[h][0]||""},this).concat([this._inset,this._bgInset,this._fixedSize]).join(",")};this.attachTo=function(h){this._comp=h;this._container.style.visibility="visible";this._comp.dom().appendChild(this._container);if(!uki.supportNativeLayout){this._layoutHandler=this._layoutHandler||uki.proxy(function(p){if(!(this._size&&this._size.eq(p.rect))){this._size=p.rect;this.layout()}},this);this._comp.bind("layout",this._layoutHandler);this.layout()}};this.detach=function(){if(this._comp){this._container.style.visibility=
"hidden";uki.supportNativeLayout||this._comp.unbind("layout",this._layoutHandler);this._size=this._comp=null;this._attached=this._inited=false}};this.layout=function(){var h=this._comp.rect(),p=this._parts,u=this._inset,w=this._bgInset,D=this._fixedSize,B=Na(D.width||h.width-w.left-w.right);h=Na(D.height||h.height-w.top-w.bottom);w=u.left+u.right;u=u.top+u.bottom;if(!p){p={};uki.each(this._container.childNodes,function(){if(this.className)p[this.className]=this});this._parts=p}p.t&&f.layout(p.t.style,
{width:B-w});p.b&&f.layout(p.b.style,{width:B-w});p.l&&f.layout(p.l.style,{height:h-u});p.r&&f.layout(p.r.style,{height:h-u});p.m&&f.layout(p.m.style,{height:h-u,width:B-w});f.layout(this._container.style,{width:B,height:h})}}));uki.background.Css=uki.newClass(new (function(){this.init=function(a){this._options=typeof a=="string"?{background:a}:a};this.attachTo=function(a){this._comp=a;this._originalValues={};uki.each(this._options,function(c,e){this._originalValues[c]=a.style(c);a.style(c,e)},this)};
this.detach=function(){this._comp&&uki.each(this._options,function(a){this._comp.style(a,this._originalValues[a])},this)}}));uki.background.CssBox=uki.newClass(new (function(){function a(e){c[e]||uki.dom.probe(uki.createElement("div",e+";position:absolute;overflow:hidden;left:-999em;width:10px;height:10px;"),function(f){c[e]=new ca(f.offsetHeight-10,f.offsetWidth-10)});return c[e]}var c={};this.init=function(e,f){this._options=e;f=f||{};this._inset=inset=ca.create(f.inset)||new ca;this._insetWidth=
a(e).left+inset.left+inset.right;this._insetHeight=a(e).top+inset.top+inset.bottom;this._container=uki.createElement("div",e+";position:absolute;overflow:hidden;z-index:"+(f.zIndex||"-1")+";left:"+inset.left+"px;top:"+inset.top+"px;right:"+inset.right+"px;bottom:"+inset.bottom+"px",f.innerHTML);this._attached=false};this.attachTo=function(e){this._comp=e;this._comp.dom().appendChild(this._container);if(!uki.supportNativeLayout){this._layoutHandler=this._layoutHandler||uki.proxy(function(f){this.layout(f.rect)},
this);this._comp.bind("layout",this._layoutHandler);this.layout(this._comp.rect())}};this.layout=function(e){this._prevLayout=uki.dom.layout(this._container.style,{width:e.width-this._insetWidth,height:e.height-this._insetHeight},this._prevLayout)};this.detach=function(){if(this._comp){this._comp.dom().removeChild(this._container);uki.supportNativeLayout||this._comp.unbind("layout",this._layoutHandler);this._attached=false}}}));uki.background.Rows=uki.newClass(new (function(){function a(f,l){var h=
f+" "+l.join(" "),p=[],u=[],w,D=l.length;if(!c[h]){for(w=0;w<D;w++)p[w]=['<div style="height:',f,"px;width:100%;overflow:hidden;",l[w]?"background:"+l[w]:"",'"></div>'].join("");for(w=0;w<e;w++)u[w]=p[w%D];c[h]=u.join("")}return c[h]}var c=[],e=100;this.init=function(f,l){this._height=f||20;this._colors=uki.isArray(l)?l:l.split(" ");this._packSize=Ba(e/this._colors.length)*this._colors.length;this._renderedHeight=0;this._visibleExt=200;if(this._colors.length==1)this._colors=this._colors.concat(["#FFF"])};
this.attachTo=function(f){this._comp&&this.detach();this._comp=f;if(!this._container)this._container=uki.createElement("div","position:absolute;left:0;top:0;width:100%;z-index:-1");this._layoutHandler=this._layoutHandler||uki.proxy(function(l){this.layout(l.rect,l.visibleRect)},this);this._comp.dom().appendChild(this._container);this._comp.bind("layout",this._layoutHandler)};this.layout=function(f,l){for(f=l?l.height+this._visibleExt*2:f.maxY();this._renderedHeight<f;){var h=e*this._height,p=uki.createElement("div",
"height:"+h+"px;overflow:hidden;width:100%;",a(this._height,this._colors));this._renderedHeight+=h;this._container.appendChild(p)}if(l)this._container.style.top=Ba((l.y-this._visibleExt)/this._height/this._colors.length)*this._height*this._colors.length+"px"};this.detach=function(){if(this._comp){this._comp.dom().removeChild(this._container);this._comp.unbind("layout",this._layoutHandler);this._comp=null}}}));uki.background.Multi=uki.newClass({init:function(){this._bgs=Array.prototype.slice.call(arguments,
0)},attachTo:function(a){for(var c=0;c<this._bgs.length;c++)this._bgs[c].attachTo(a)},detach:function(){for(var a=0;a<this._bgs.length;a++)this._bgs[a].detach()}});uki.theme={themes:[],register:function(a){uki.theme.themes.push(a)},background:function(a,c){return uki.theme._namedResource(a,"background",c)||new uki.background.Null},image:function(a,c){return uki.theme._namedResource(a,"image",c)||new Image},imageSrc:function(a,c){return uki.theme._namedResource(a,"imageSrc",c)||""},style:function(a,
c){return uki.theme._namedResource(a,"style",c)||""},dom:function(a,c){return uki.theme._namedResource(a,"dom",c)||uki.createElement("div")},template:function(a,c){return uki.theme._namedResource(a,"template",c)||""},_namedResource:function(a,c,e){for(var f=uki.theme.themes.length-1;f>=0;f--){var l=uki.theme.themes[f][c](a,e);if(l)return l}return null}};uki.theme.Base={images:[],imageSrcs:[],backgrounds:[],doms:[],styles:[],templates:[],background:function(a,c){return this.backgrounds[a]&&this.backgrounds[a](c)},
image:function(a,c){if(this.images[a])return this.images[a](c);return this.imageSrcs[a]&&uki.image.apply(uki,this.imageSrcs[a](c))},imageSrc:function(a,c){if(this.imageSrcs[a])return uki.imageSrc.apply(uki,this.imageSrcs[a](c));return this.images[a]&&this.images[a](c).src},dom:function(a,c){return this.doms[a]&&this.doms[a](c)},style:function(a,c){return this.styles[a]&&this.styles[a](c)},template:function(a,c){return this.templates[a]&&this.templates[a](c)}};uki.theme.Template=function(a){a=a.split("${");
var c,e,f;this.parts=[a[0]];this.names=[];c=1;for(e=a.length;c<e;c++){f=a[c].split("}");this.names.push(f.shift());this.parts.push("");this.parts.push(f.join("}"))}};uki.theme.Template.prototype.render=function(a){for(var c=0,e=this.names,f=e.length;c<f;c++)this.parts[c*2+1]=a[e[c]]||"";return this.parts.join("")};uki.view.utils=new (function(){function a(c){return c.visibleRect?c.visibleRect():c.rect().clone()}this.visibleRect=function(c,e){var f=[],l,h=c;do{f[f.length]=h;h=h.parent()}while(h&&h!=
e);if(e&&e!=c)f[f.length]=e;for(c=f.length-1;c>=0;c--){h=f[c];e=a(h);l=l?l.intersection(e):e;l.x-=h.rect().x;l.y-=h.rect().y}return l};this.top=function(c){for(;c.parent();)c=c.parent();return c};this.offset=function(c,e){for(var f=new aa,l;c&&c!=e;){l=c.rect();f.x+=l.x;f.y+=l.y;if(c.scrollTop){f.x-=c.scrollLeft();f.y-=c.scrollTop()}c=c.parent()}return f};this.scrollableParent=function(c){do{if(uki.isFunction(c.scrollTop))return c;c=c.parent()}while(c);return null}});uki.extend(uki.view,uki.view.utils);
uki.view.Styleable=new (function(){this.style=function(c,e){if(typeof c=="string")return this._style(c,e);uki.each(c,function(f,l){this._style(f,l)},this);return this};this._style=function(c,e){if(e===undefined)return this._dom.style[c];this._dom.style[c]=e;return this};var a=uki.createElement("div").style;uki.each(["userSelect","MozUserSelect","WebkitUserSelect"],function(c,e){if(typeof a[e]=="string")this._textSelectProp=e},this);this.textSelectable=function(c){if(c===undefined)return this._textSelectable;
this._textSelectable=c;if(this._textSelectProp)this._dom.style[this._textSelectProp]=c?"":this._textSelectProp=="MozUserSelect"?"-moz-none":"none";else uki.dom[c?"unbind":"bind"](this.dom(),"selectstart",uki.dom.preventDefaultHandler);this._dom.style.cursor=c?"":"default";return this};this.draggable=function(c){if(c===undefined)return this._dom.getAttribute("draggable");this._dom.setAttribute("draggable",true);this._dom.style.WebkitUserDrag="element";return this}});uki.view.Focusable=new (function(){this._focusOnClick=
this._focusable=true;this.focusOnClick=uki.newProp("_focusOnClick");this.focusable=uki.newProp("_focusable",function(a){(this._focusable=a)&&this._initFocusable();this._updateFocusable()});this.disabled=uki.newProp("_disabled",function(a){var c=a!==!!this._disabled;(this._disabled=a)&&this.blur();this._updateFocusable();c&&this._updateBg&&this._updateBg()});this._updateFocusable=function(){if(!(this._preCreatedFocusTarget||!this._focusTarget))this._focusTarget.style.display=this._focusable&&!this._disabled?
"block":"none"};this._initFocusable=function(a){if(!(!a&&!this._focusable||this._focusTarget)){this._preCreatedFocusTarget=this._focusTarget=a;if(!a){this._focusTarget=uki.createElement("input","position:absolute;left:-9999px;top:0;width:1px;height:1px;");this.dom().appendChild(this._focusTarget)}this._hasFocus=false;this._firstFocus=true;uki.dom.bind(this._focusTarget,"focus",uki.proxy(function(c){this._hasFocus||this._focus(c)},this));uki.dom.bind(this._focusTarget,"blur",uki.proxy(function(){if(this._hasFocus){this._hasFocus=
false;setTimeout(uki.proxy(function(){this._hasFocus||this._blur()},this),1)}},this));a||this.bind("mousedown",function(){this._focusOnClick&&this.focus()});this._updateFocusable()}};this._focus=function(){this._hasFocus=true;this._firstFocus=false};this._blur=function(){this._hasFocus=false};this.focus=function(){if(this._focusable&&!this._disabled){this._hasFocus||this._focus();var a=this._focusTarget;setTimeout(function(){try{a.focus()}catch(c){}a=null},1)}return this};this.blur=function(){try{this._focusTarget.blur()}catch(a){}return this};
this.hasFocus=function(){return this._hasFocus};this._bindToDom=function(a){if(!this._focusTarget||"keyup keydown keypress focus blur".indexOf(a)==-1)return false;return uki.view.Observable._bindToDom.call(this,a,this._focusTarget)}});var qa=16,ra=32;uki.view.declare("uki.view.Base",uki.view.Observable,uki.view.Styleable,function(){function a(e){if(!e)return 0;var f=0;if(e.indexOf("width")>-1)f|=qa;if(e.indexOf("height")>-1)f|=ra;return f}var c=1;this.defaultCss="position:absolute;z-index:100;-moz-user-focus:none;";
this.init=function(e){this._parentRect=this._rect=O.create(e);this._setup();uki.initNativeLayout();this._createDom()};this._setup=function(){uki.extend(this,{_anchors:0,_parent:null,_visible:true,_needsLayout:true,_textSelectable:false,_styleH:"left",_styleV:"top",_firstLayout:true});this.defaultCss+=uki.theme.style("base")};this.dom=function(){return this._dom};this.id=function(e){if(e===undefined)return this._dom.id;this._dom.id&&uki.unregisterId(this);this._dom.id=e;uki.registerId(this);return this};
uki.delegateProp(this,"className","_dom");this.visible=function(e){if(e===undefined)return this._dom.style.display!="none";this._dom.style.display=e?"block":"none";return this};this.background=function(e){if(e===undefined&&!this._background&&this.defaultBackground)this._background=this.defaultBackground();if(e===undefined)return this._background;e=uki.background(e);if(e==this._background)return this;this._background&&this._background.detach(this);e.attachTo(this);this._background=e;return this};this.defaultBackground=
function(){return this._defaultBackground&&uki.background(this._defaultBackground)};this.parent=function(e){if(e===undefined)return this._parent;this._parent=e;return this};this.childViews=function(){return[]};this.prevView=function(){if(!this.parent())return null;return this.parent().childViews()[this._viewIndex-1]||null};this.nextView=function(){if(!this.parent())return null;return this.parent().childViews()[this._viewIndex+1]||null};this.rect=function(e){if(e===undefined)return this._rect;this._parentRect=
e=O.create(e);this._rect=this._normalizeRect(e);this._needsLayout=this._needsLayout||c++;return this};this.anchors=uki.newProp("_anchors",function(e){if(e.indexOf){var f=0;if(e.indexOf("right")>-1)f|=2;if(e.indexOf("bottom")>-1)f|=4;if(e.indexOf("top")>-1)f|=1;if(e.indexOf("left")>-1)f|=8;if(e.indexOf("width")>-1||f&8&&f&2)f|=qa;if(e.indexOf("height")>-1||f&4&&f&1)f|=ra;e=f}this._anchors=e;this._styleH=e&8?"left":"right";this._styleV=e&1?"top":"bottom"});this.rectForChild=function(){return this.rect()};
this.layout=function(){this._layoutDom(this._rect);this._needsLayout=false;this.trigger("layout",{rect:this._rect,source:this});this._firstLayout=false};uki.each(["min","max"],function(e,f){e=f+"Size";var l="_"+e;this[e]=function(h){if(h===undefined)return this[l]||new X;this[l]=X.create(h);this.rect(this._parentRect);this._dom.style[f+"Width"]=this[l].width?this[l].width+"px":"";this._dom.style[f+"Height"]=this[l].height?this[l].height+"px":"";return this}},this);this.parentResized=function(e,f){var l=
this._parentRect.clone(),h=(f.width-e.width)/((this._anchors&8^8?1:0)+(this._anchors&qa?1:0)+(this._anchors&2^2?1:0));e=(f.height-e.height)/((this._anchors&1^1?1:0)+(this._anchors&ra?1:0)+(this._anchors&4^4?1:0));if(this._anchors&8^8)l.x+=h;if(this._anchors&qa)l.width+=h;if(this._anchors&1^1)l.y+=e;if(this._anchors&ra)l.height+=e;this.rect(l)};this.resizeToContents=function(e){e=a(e);if(0==e)return this;this.rect();this._rect=this._parentRect=this._calcRectOnContentResize(e);this._needsLayout=true;
return this};this.contentsSize=function(){return this.rect()};this._normalizeRect=function(e){if(this._minSize)e=new O(e.x,e.y,W(this._minSize.width,e.width),W(this._minSize.height,e.height));if(this._maxSize)e=new O(e.x,e.y,ha(this._maxSize.width,e.width),ha(this._maxSize.height,e.height));return e};this._initBackgrounds=function(){this.background()&&this.background().attachTo(this)};this._calcRectOnContentResize=function(e){var f=this.contentsSize(e),l=this.rect();if(f.eq(l))return l;var h=this.rect().clone(),
p=f.width-l.width;f=f.height-l.height;if(e&qa){if(this._anchors&8^8&&this._anchors&2^2)h.x-=p/2;else if(this._anchors&8^8)h.x-=p;h.width+=p}if(e&ra){if(this._anchors&1^1&&this._anchors&4^4)h.y-=f/2;else if(this._anchors&1^1)h.y-=f;h.height+=f}return h};uki.each(["width","height","minX","maxX","minY","maxY","x","y","left","top"],function(e,f){this[f]=function(l){if(l===undefined)return uki.attr(this.rect(),f);uki.attr(this.rect(),f,l);return this}},this);this._createDom=function(){this._dom=uki.createElement("div",
this.defaultCss)};this._layoutDom=function(e){var f={},l=uki.supportNativeLayout,h=this.parent().rectForChild(this);if(l&&this._anchors&8&&this._anchors&2){f.left=e.x;f.right=h.width-e.x-e.width}else{f.width=e.width;f[this._styleH]=this._styleH=="left"?e.x:h.width-e.x-e.width}if(l&&this._anchors&1&&this._anchors&4){f.top=e.y;f.bottom=h.height-e.y-e.height}else{f.height=e.height;f[this._styleV]=this._styleV=="top"?e.y:h.height-e.y-e.height}this._lastLayout=uki.dom.layout(this._dom.style,f,this._lastLayout);
this._firstLayout&&this._initBackgrounds();return true};this._bindToDom=function(e){if("resize layout".indexOf(e)>-1)return true;return uki.view.Observable._bindToDom.call(this,e)}});uki.view.declare("uki.view.Container",uki.view.Base,function(a){function c(e,f){var l=0,h;for(h=e._childViews.length-1;h>=0;h--)if(e._childViews[h].visible())l=W(l,e._childViews[h].rect()[f]());return l}this._setup=function(){this._childViews=[];a._setup.call(this)};this.contentsWidth=function(){return c(this,"maxX")};
this.contentsHeight=function(){return c(this,"maxY")};this.contentsSize=function(){return new X(this.contentsWidth(),this.contentsHeight())};this.childViews=function(e){if(e===undefined)return this._childViews;uki.each(this._childViews,function(f,l){this.removeChild(l)},this);uki.each(uki.build(e),function(f,l){this.appendChild(l)},this);return this};this.removeChild=function(e){e.parent(null);this.domForChild(e).removeChild(e.dom());var f,l;f=e._viewIndex+1;for(l=this._childViews.length;f<l;f++)this._childViews[f]._viewIndex--;
this._childViews=uki.grep(this._childViews,function(h){return h!=e})};this.appendChild=function(e){e._viewIndex=this._childViews.length;this._childViews.push(e);e.parent(this);this.domForChild(e).appendChild(e.dom())};this.insertBefore=function(e,f){var l,h;l=e._viewIndex=f._viewIndex;for(h=this._childViews.length;l<h;l++)this._childViews[l]._viewIndex++;this._childViews.splice(f._viewIndex-1,0,e);e.parent(this);this.domForChild(e).insertBefore(e.dom(),f.dom())};this.domForChild=function(){return this._dom};
this._layoutDom=function(e){a._layoutDom.call(this,e);this._layoutChildViews(e)};this._layoutChildViews=function(){for(var e=0,f=this.childViews();e<f.length;e++)f[e]._needsLayout&&f[e].visible()&&f[e].layout(this._rect)};this.rect=function(e){if(e===undefined)return this._rect;this._parentRect=e=O.create(e);var f=this._rect;if(!this._resizeSelf(e))return this;this._needsLayout=true;if(f.width!=e.width||f.height!=e.height)this._resizeChildViews(f);this.trigger("resize",{oldRect:f,newRect:this._rect,
source:this});return this};this._resizeSelf=function(e){this._rect=this._normalizeRect(e);return true};this._resizeChildViews=function(e){for(var f=0,l=this.childViews();f<l.length;f++)l[f].parentResized(e,this._rect)}});uki.view.declare("uki.view.Box",uki.view.Container,{});uki.view.declare("uki.view.Image",uki.view.Base,function(){this.typeName=function(){return"uki.view.Image"};uki.delegateProp(this,"src","_dom");this._createDom=function(){this._dom=uki.createElement("img",this.defaultCss)}});
uki.view.declare("uki.view.Label",uki.view.Base,function(a){this._setup=function(){a._setup.call(this);uki.extend(this,{_scrollable:false,_textSelectable:false,_inset:new ca});this.defaultCss+=uki.theme.style("label")};this._style=function(c,e){if(e!==undefined&&"font fontFamily fontWeight fontSize textDecoration textOverflow textAlign overflow color".indexOf(c)!=-1)this._label.style[c]=e;return a._style.call(this,c,e)};this.textSelectable=function(c){if(c!==undefined&&!this._textSelectProp)this._label.unselectable=
c?"":"on";return a.textSelectable.call(this,c)};this.contentsSize=function(c){var e=this._createLabelClone(c),f=this.inset(),l;uki.dom.probe(e,function(){l=new X(e.offsetWidth+f.width(),e.offsetHeight+f.height())});return l};this.text=function(c){return c===undefined?this.html():this.html(uki.escapeHTML(c))};this.html=function(c){if(c===undefined)return this._label.innerHTML;this._label.innerHTML=c;return this};this.inset=uki.newProp("_inset",function(c){this._inset=ca.create(c)});this.scrollable=
uki.newProp("_scrollable",function(c){this._scrollable=c;this._label.style.overflow=c?"auto":"hidden"});this.multiline=uki.newProp("_multiline",function(c){this._multiline=c;this._label.style.whiteSpace=c?"":"nowrap"});this._createLabelClone=function(c){var e=this._label.cloneNode(true),f=this.inset(),l=this.rect();if(c&qa)e.style.width=e.style.right="";else if(uki.supportNativeLayout){e.style.right="";e.style.width=l.width-f.width()+"px"}if(c&ra)e.style.height=e.style.bottom="";else if(uki.supportNativeLayout){e.style.bottom=
"";e.style.height=l.height-f.height()+"px"}e.style.paddingTop=0;e.style.visibility="hidden";return e};this._createDom=function(){a._createDom.call(this);this._label=uki.createElement("div",this.defaultCss+"white-space:nowrap;");this._dom.appendChild(this._label);this.textSelectable(this.textSelectable())};this._layoutDom=function(){a._layoutDom.apply(this,arguments);var c=this._inset;if(!this.multiline()){parseInt(this.style("fontSize"),10);this._label.style.lineHeight=this._rect.height-c.top-c.bottom+
"px"}c=uki.supportNativeLayout?{left:c.left,top:c.top,right:c.right,bottom:c.bottom}:{left:c.left,top:c.top,width:this._rect.width-c.width(),height:this._rect.height-c.height()};this._lastLabelLayout=uki.dom.layout(this._label.style,c,this._lastLabelLayout)}});uki.view.declare("uki.view.Button",uki.view.Label,uki.view.Focusable,function(a,c){this._backgroundPrefix="button-";this._setup=function(){a._setup.call(this);uki.extend(this,{_inset:new ca(0,4)});this.defaultCss+="cursor:default;-moz-user-select:none;-webkit-user-select:none;"+
uki.theme.style("button")};uki.addProps(this,["backgroundPrefix"]);uki.each(["normal","hover","down","focus","disabled"],function(e,f){var l=f+"-background";this[l]=function(h){if(h)this["_"+l]=h;return this["_"+l]=this["_"+l]||uki.theme.background(this._backgroundPrefix+f,{height:this.rect().height,view:this})}},this);this._createLabelClone=function(e){return a._createLabelClone.call(this,e)};this._layoutDom=function(e){a._layoutDom.call(this,e);if(this._firstLayout){this["hover-background"]();this["down-background"]();
this._backgroundByName(this._backgroundName||"normal")}};this._updateBg=function(){this._backgroundByName(this._disabled?"disabled":this._down?"down":this._over?"hover":"normal")};this._createDom=function(){this._dom=uki.createElement("div",this.defaultCss);this._label=uki.createElement("div",this.defaultCss);this._dom.appendChild(this._label);this._dom.appendChild(uki.createElement("div","left:0;top:0;width:100%;height:100%;position:absolute;background:url("+uki.theme.imageSrc("x")+");"));this.textSelectable(this.textSelectable());
this._initFocusable();uki.dom.bind(document,"mouseup",uki.proxy(this._mouseup,this));this.bind("mousedown",this._mousedown);this.bind("mouseenter",this._mouseenter);this.bind("mouseleave",this._mouseleave);this.bind("keyup",this._keyup);this.bind("keydown",this._keydown)};this._mouseup=function(){if(this._down){this._down=false;this._updateBg()}};this._mousedown=function(){this._down=true;this._updateBg()};this._mouseenter=function(){this._over=true;this._updateBg()};this._mouseleave=function(){this._over=
false;this._updateBg()};this._focus=function(e){this["focus-background"]().attachTo(this);c._focus.call(this,e)};this._keydown=function(e){if((e.which==32||e.which==13)&&!this._down)this._mousedown()};this._keyup=function(e){if((e.which==32||e.which==13)&&this._down){this._mouseup();this.trigger("click",{domEvent:e,source:this})}e.which==27&&this._down&&this._mouseup()};this._blur=function(e){this["focus-background"]().detach();c._blur.call(this,e)};this._backgroundByName=function(e){var f=this[e+
"-background"]();if(this._background!=f){this._background&&this._background.detach();f.attachTo(this);this._background=f;this._backgroundName=e}};this._bindToDom=function(e){return uki.view.Focusable._bindToDom.call(this,e)||uki.view.Label.prototype._bindToDom.call(this,e)}});uki.view.declare("uki.view.Checkbox",uki.view.Button,function(a){this._backgroundPrefix="checkbox-";uki.each(["checked-normal","checked-hover","checked-disabled"],function(c,e){var f=e+"-background";this[f]=function(l){if(l)this["_"+
f]=l;return this["_"+f]=this["_"+f]||uki.theme.background(this._backgroundPrefix+e,{height:this.rect().height,view:this})}},this);this._setup=function(){a._setup.call(this);this._focusable=false};this._updateBg=function(){var c=this._disabled?"disabled":this._over?"hover":"normal";if(this._checked)c="checked-"+c;this._backgroundByName(c)};this.value=this.checked=uki.newProp("_checked",function(c){var e=this._checked!=!!c;this._checked=!!c;this._updateBg();e&&this.trigger("change",{checked:this._checked,
source:this})});this._mouseup=function(){if(this._down){this._down=false;this._disabled||this.checked(!this.checked())}}});(function(){var a=uki.view.declare("uki.view.Radio",uki.view.Checkbox,function(){this._backgroundPrefix="radio-";this.group=uki.newProp("_group",function(c){a.unregisterGroup(this);this._group=c;a.registerGroup(this);a.clearGroup(this)});this.value=this.checked=uki.newProp("_checked",function(c){var e=this._checked!=!!c;this._checked=!!c;c&&a.clearGroup(this);this._updateBg();
e&&this.trigger("change",{checked:this._checked,source:this})});this._mouseup=function(){if(this._down){this._down=false;!this._checked&&!this._disabled&&this.checked(!this._checked)}}});a.groups={};a.registerGroup=function(c){var e=c.group();if(a.groups[e])a.groups[e].push(c);else a.groups[e]=[c]};a.unregisterGroup=function(c){var e=c.group();if(a.groups[e])a.groups[e]=uki.grep(a.groups[e],function(f){return f!=c})};a.clearGroup=function(c){uki.each(a.groups[c.group()]||[],function(e,f){f!=c&&f.checked()&&
f.checked(false)})}})();uki.view.declare("uki.view.TextField",uki.view.Base,uki.view.Focusable,function(a,c){function e(h){if(!l[h]){var p=uki.createElement("input",a.defaultCss+"border:none;padding:0;border:0;overflow:hidden;font-size:"+h+";left:-999em;top:0");uki.dom.probe(p,function(u){l[h]=u.offsetHeight})}return l[h]}function f(h){return typeof h.placeholder=="string"}var l={};this._setup=function(){a._setup.apply(this,arguments);uki.extend(this,{_value:"",_multiline:false,_placeholder:"",_backgroundPrefix:"",
_tagName:"input",_type:"text"});this.defaultCss+="margin:0;border:none;outline:none;padding:0;left:2px;top:0;z-index:100;resize:none;background: url("+uki.theme.imageSrc("x")+");"+uki.theme.style("input")};this._updateBg=function(){this._input.style.color=this._disabled?"#999":"#000"};this.value=function(h){if(h===undefined)return this._input.value;this._input.value=h;this._updatePlaceholderVis();return this};this.placeholder=uki.newProp("_placeholder",function(h){this._placeholder=h;if(!this._multiline&&
f(this._input))this._input.placeholder=h;else if(this._placeholderDom)this._placeholderDom.innerHTML=h;else{this._placeholderDom=uki.createElement("div",this.defaultCss+"z-input:103;color:#999;cursor:text;-moz-user-select:none;",h);if(!this._multiline)this._placeholderDom.style.whiteSpace="nowrap";this._dom.appendChild(this._placeholderDom);this._updatePlaceholderVis();uki.each(["fontSize","fontFamily","fontWeight"],function(p,u){this._placeholderDom.style[u]=this.style(u)},this);uki.dom.bind(this._placeholderDom,
"mousedown",uki.proxy(function(p){this.focus();p.preventDefault()},this))}});this._style=function(h,p){if(p===undefined)return this._input.style[h];this._input.style[h]=p;if(this._placeholderDom)this._placeholderDom.style[h]=p;return this};uki.addProps(this,["backgroundPrefix"]);this.defaultBackground=function(){return uki.theme.background(this._backgroundPrefix+"input")};this._createDom=function(){this._dom=uki.createElement("div",a.defaultCss+";cursor:text;overflow:visible");this._input=uki.createElement(this._tagName,
this.defaultCss+(this._multiline?"":";overflow:hidden;"));this._input.value=this._value;if(this._type)this._input.type=this._type;this._dom.appendChild(this._input);this._input.value=this.value();this._initFocusable(this._input);this.bind("mousedown",function(h){h.target!=this._input&&this.focus()})};this._layoutDom=function(){a._layoutDom.apply(this,arguments);uki.dom.layout(this._input.style,{width:this._rect.width-4});var h;if(this._multiline){this._input.style.height=this._rect.height-4+"px";
this._input.style.top="2px";h="2px 0"}else{h=(this._rect.height-e(this.style("fontSize")))/2;h=Ba(h)+"px 0 "+Na(h)+"px 0";this._input.style.margin=h}if(this._placeholderDom)this._placeholderDom.style.margin=h};this._updatePlaceholderVis=function(){if(this._placeholderDom)this._placeholderDom.style.display=this.value()?"none":"block"};this._focus=function(h){this._focusBackground=this._focusBackground||uki.theme.background(this._backgroundPrefix+"input-focus");this._focusBackground.attachTo(this);
if(this._placeholderDom)this._placeholderDom.style.display="none";c._focus.call(this,h)};this._blur=function(h){this._focusBackground.detach();this._updatePlaceholderVis();c._blur.call(this,h)};this._bindToDom=function(h){return c._bindToDom.call(this,h)||a._bindToDom.call(this,h)}});uki.view.declare("uki.view.MultilineTextField",uki.view.TextField,function(a){this._setup=function(){a._setup.call(this);this._tagName="textarea";this._type="";this._multiline=true}});uki.view.declare("uki.view.PasswordTextField",
uki.view.TextField,function(a){this._setup=function(){a._setup.call(this);this._type="password"}});(function(){function a(){c||uki.dom.probe(uki.createElement("div","position:absolute;left:-99em;width:100px;height:100px;overflow:scroll;",'<div style="position:absolute;left:0;width:100%;"></div>'),function(f){c=f.offsetWidth-f.clientWidth;e=f.firstChild.offsetWidth==100});return c}var c,e;uki.view.declare("uki.view.ScrollPane",uki.view.Container,function(f){this.typeName=function(){return"uki.view.ScrollPane"};
this._setup=function(){f._setup.call(this);uki.extend(this,{_clientRect:this.rect().clone(),_rectForChild:this.rect().clone(),_scrollableV:true,_scrollableH:false,_scrollV:false,_scrollH:false,_sbV:false,_sbH:false})};uki.addProps(this,["scrollableV","scrollableH","scrollH","scrollV"]);this.rectForChild=function(){return this._rectForChild};this.clientRect=function(){return this._clientRect};this.scroll=function(l,h){l&&this.scrollTop(this.scrollLeft()+h);h&&this.scrollTop(this.scrollTop()+h)};uki.each(["scrollTop",
"scrollLeft"],function(l,h){this[h]=function(p){if(p==undefined)return this._dom[h];this._dom[h]=p;this.trigger("scroll",{source:this});return this}},this);this.visibleRect=function(){var l=this._clientRect.clone();l.x=this.rect().x+this.scrollLeft();l.y=this.rect().y+this.scrollTop();return l};this.rect=function(l){if(l===undefined)return this._rect;l=O.create(l);var h=this._rect;this._parentRect=l;if(!this._resizeSelf(l))return this;this._updateClientRects();this._needsLayout=true;this.trigger("resize",
{oldRect:h,newRect:this._rect,source:this});return this};this._createDom=function(){f._createDom.call(this);if(oa.indexOf("Gecko/")>-1)this._dom.tabIndex="-1"};this._recalcClientRects=function(){a();var l=this.contentsWidth(),h=this.contentsHeight();l=this._scrollableH?l>this._rect.width:false;h=this._scrollableV?h>this._rect.height:false;this._sbH=l||this._scrollH;this._sbV=h||this._scrollV;this._clientRect=new O(this._rect.width+(h?-1:0)*c,this._rect.height+(l?-1:0)*c);this._rectForChild=new O(this._rect.width+
(h&&!e?-1:0)*c,this._rect.height+(l&&!e?-1:0)*c)};this._updateClientRects=function(){var l=this._clientRect;this._recalcClientRects();if(l.width!=this._clientRect.width||l.height!=this._clientRect.height)this._resizeChildViews(l)};this._resizeChildViews=function(l){for(var h=0,p=this.childViews();h<p.length;h++)p[h].parentResized(l,this._clientRect)};this._layoutChildViews=function(){for(var l=0,h=this.childViews();l<h.length;l++)h[l]._needsLayout&&h[l].visible()&&h[l].layout()};this._layoutDom=function(l){this._updateClientRects();
if(this._layoutScrollH!==this._sbH){this._dom.style.overflowX=this._sbH?"scroll":"hidden";this._layoutScrollH=this._sbH}if(this._layoutScrollV!==this._sbV){this._dom.style.overflowY=this._sbV?"scroll":"hidden";this._layoutScrollV=this._sbV}f._layoutDom.call(this,l)}});uki.view.ScrollPane.initScrollWidth=a})();uki.view.list={};uki.view.declare("uki.view.List",uki.view.Base,uki.view.Focusable,function(a,c){function e(h,p){for(var u=new Array(p-h),w=0;h<=p;h++,w++)u[w]=h;return u}function f(h,p,u){for(var w=
p=uki.binarySearch(p,h);h[p]<=u;)p++;p>w&&h.splice(w,p-w)}this._throttle=42;this._visibleRectExt=300;this._defaultBackground="theme(list)";this._setup=function(){a._setup.call(this);uki.extend(this,{_rowHeight:30,_render:new uki.view.list.Render,_data:[],_lastClickIndex:-1,_selectedIndexes:[]})};this.defaultBackground=function(){return uki.theme.background("list",this._rowHeight)};uki.addProps(this,["render","packSize","visibleRectExt","throttle","contentDraggable","lastClickIndex","multiselect",
"lastClickIndex"]);this.rowHeight=uki.newProp("_rowHeight",function(h){this._rowHeight=h;this.minSize(new X(this.minSize().width,this._rowHeight*this._data.length));this._background&&this._background.detach();this._background=null;this.background()&&this.background().attachTo(this);this._relayoutParent()});this.data=function(h){if(h===undefined)return this._data;this.clearSelection();this._data=h;this._packs[0].itemFrom=this._packs[0].itemTo=this._packs[1].itemFrom=this._packs[1].itemTo=0;this.minSize(new X(this.minSize().width,
this._rowHeight*this._data.length));this.trigger("selection",{source:this});this._relayoutParent();return this};this.relayout=function(){this._packs[0].itemFrom=this._packs[0].itemTo=this._packs[1].itemFrom=this._packs[1].itemTo=0;this.layout()};this.contentsSize=function(){return new X(this.rect().width,this._rowHeight*this._data.length)};this.addRow=function(h,p){this._data.splice(h,0,p);p=this._itemAt(h);var u=L.createElement("div");u.innerHTML=this._rowTemplate.render({height:this._rowHeight,
text:this._render.render(this._data[h],this._rowRect(h),h)});p?p.parentNode.insertBefore(u.firstChild,p):this._dom.childNodes[0].appendChild(u.firstChild);if(h<=this._packs[0].itemTo){this._packs[0].itemTo++;this._packs[1].itemFrom++;this._packs[1].itemTo++;this._packs[1].dom.style.top=this._packs[1].itemFrom*this._rowHeight+"px"}else this._packs[1].itemTo++;for(h=uki.binarySearch(h,this.selectedIndexes());h<this._selectedIndexes.length;h++)this._selectedIndexes[h]++;this.minSize(new X(this.minSize().width,
this._rowHeight*this._data.length));this._relayoutParent();return this};this.removeRow=function(h){this._data.splice(h,1);this.data(this._data);return this};this.redrawRow=function(h){var p=this._itemAt(h);if(p)p.innerHTML=this._render.render(this._data[h],this._rowRect(h),h);return this};this.selectedIndex=function(h){if(h===undefined)return this._selectedIndexes.length?this._selectedIndexes[0]:-1;this.selectedIndexes([h]);this._scrollToPosition(h);return this};this.selectedIndexes=function(h){if(h===
undefined)return this._selectedIndexes;this.clearSelection(true);this._selectedIndexes=h;for(h=0;h<this._selectedIndexes.length;h++)this._setSelected(this._selectedIndexes[h],true);this.trigger("selection",{source:this});return this};this.selectedRow=function(){return this._data[this.selectedIndex()]};this.selectedRows=function(){return uki.map(this.selectedIndexes(),function(h){return this._data[h]},this)};this.clearSelection=function(h){for(var p=0;p<this._selectedIndexes.length;p++)this._setSelected(this._selectedIndexes[p],
false);this._selectedIndexes=[];if(!h)this._lastClickIndex=-1};this.isSelected=function(h){return this._selectedIndexes[uki.binarySearch(h,this._selectedIndexes)]==h};this.layout=function(){this._layoutDom(this._rect);this._needsLayout=false;this.trigger("layout",{rect:this._rect,source:this,visibleRect:this._visibleRect});this._firstLayout=false};this._rowRect=function(h){return new O(0,h*this._rowHeight,this.rect().width,this._rowHeight)};this._toggleSelection=function(h){var p=[].concat(this._selectedIndexes),
u=uki.binarySearch(h,p);p[u]==h?p.splice(u,1):p.splice(u,0,h);this.selectedIndexes(p)};var l=false;this._scrollableParentScroll=function(){if(!l)if(this._throttle){if(!this._throttleStarted){this._throttleStarted=true;setTimeout(uki.proxy(function(){this._throttleStarted=false;this.layout()},this),this._throttle)}}else this.layout()};this._relayoutParent=function(){if(this._scrollableParent){for(var h=this;h&&h!=this._scrollableParent;){h._needsLayout=true;h=h.parent()}h.layout()}};this.keyPressEvent=
function(){return Z.opera||/mozilla/i.test(oa)&&!/(compatible|webkit)/i.test(oa)?"keypress":"keydown"};this._bindSelectionEvents=function(){this.bind("mousedown",this._mousedown);this.bind("mouseup",this._mouseup);this.bind(this.keyPressEvent(),this._keypress)};this._mouseup=function(h){if(this._multiselect){var p=uki.dom.offset(this._dom);h=(h.pageY-p.y)/this._rowHeight<<0;this._selectionInProcess&&this._lastClickIndex==h&&this.isSelected(h)&&this.selectedIndexes([h]);this._selectionInProcess=false}};
this._mousedown=function(h){var p=uki.dom.offset(this._dom);p=(h.pageY-p.y)/this._rowHeight<<0;var u=this._selectedIndexes;if(this._multiselect){this._selectionInProcess=false;if(h.shiftKey&&u.length>0)if(this.isSelected(p)){u=[].concat(u);f(u,Math.min(p+1,this._lastClickIndex),Math.max(p-1,this._lastClickIndex));this.selectedIndexes(u)}else this.selectedIndexes(e(Math.min(p,u[0]),Math.max(p,u[u.length-1])));else if(h.metaKey)this._toggleSelection(p);else if(this.isSelected(p))this._selectionInProcess=
true;else this.selectedIndexes([p])}else this.selectedIndexes([p]);this._lastClickIndex=p};this._keypress=function(h){var p=-1;if(h.which==38||h.keyCode==38){p=Math.max(0,this._lastClickIndex-1);h.preventDefault()}else if(h.which==40||h.keyCode==40){p=Math.min(this._data.length-1,this._lastClickIndex+1);h.preventDefault()}else if(this._multiselect&&(h.which==97||h.which==65)&&h.metaKey){h.preventDefault();this.selectedIndexes(e(0,this._data.length-1))}if(p>-1&&p!=this._lastClickIndex){if(h.shiftKey&&
this._multiselect){this.isSelected(p)?this._toggleSelection(this._lastClickIndex):this._toggleSelection(p);this._scrollToPosition(p)}else this.selectedIndex(p);this._lastClickIndex=p}};this._createDom=function(){this._dom=uki.createElement("div",this.defaultCss+"overflow:hidden");var h=uki.createElement("div","position:absolute;left:0;top:0px;width:100%;overflow:hidden");this._packs=[{dom:h,itemTo:0,itemFrom:0},{dom:h.cloneNode(false),itemTo:0,itemFrom:0}];this._dom.appendChild(this._packs[0].dom);
this._dom.appendChild(this._packs[1].dom);this._initFocusable();this._bindSelectionEvents()};this._setSelected=function(h,p){var u=this._itemAt(h);u&&this._render.setSelected(u,this._data[h],p,this.hasFocus())};this._scrollToPosition=function(h){if(this._visibleRect){var p;p=(h+1)*this._rowHeight;h=h*this._rowHeight;l=true;if(p>=this._visibleRect.maxY())this._scrollableParent.scroll(0,p-this._visibleRect.maxY());else h<this._visibleRect.y&&this._scrollableParent.scroll(0,h-this._visibleRect.y);l=
false;this.layout()}};this._itemAt=function(h){if(h<this._packs[1].itemTo&&h>=this._packs[1].itemFrom)return this._packs[1].dom.childNodes[h-this._packs[1].itemFrom];else if(h<this._packs[0].itemTo&&h>=this._packs[0].itemFrom)return this._packs[0].dom.childNodes[h-this._packs[0].itemFrom];return null};this._rowTemplate=new uki.theme.Template('<div style="width:100%;height:${height}px;overflow:hidden;">${text}</div>');this._renderPack=function(h,p,u){var w=[];for(i=p;i<u;i++)w[w.length]=this._rowTemplate.render({height:this._rowHeight,
text:this._render.render(this._data[i],this._rowRect(i),i)});h.dom.innerHTML=w.join("");h.itemFrom=p;h.itemTo=u;h.dom.style.top=p*this._rowHeight+"px";this._restorePackSelection(h,p,u)};this._restorePackSelection=function(h){var p=this._selectedIndexes;if(p[0]<=h.itemFrom&&p[p.length-1]>=h.itemFrom||p[0]<=h.itemTo&&p[p.length-1]>=h.itemTo||p[0]>=h.itemFrom&&p[p.length-1]<=h.itemTo){var u=uki.binarySearch(h.itemFrom,p);for(u=Math.max(u,0);p[u]!==null&&p[u]<h.itemTo;){var w=p[u]-h.itemFrom;this._render.setSelected(h.dom.childNodes[w],
this._data[w],true,this.hasFocus());u++}}};this._swapPacks=function(){var h=this._packs[0];this._packs[0]=this._packs[1];this._packs[1]=h};this._layoutDom=function(h){if(!this._scrollableParent){this._scrollableParent=uki.view.scrollableParent(this);this._scrollableParent.bind("scroll",uki.proxy(this._scrollableParentScroll,this))}var p=this._rowHeight*this._data.length;this._visibleRect=uki.view.visibleRect(this,this._scrollableParent);if(this._focusTarget)this._focusTarget.style.top=this._visibleRect.y+
"px";var u=Ba((this._visibleRect.height+this._visibleRectExt*2)/this._rowHeight),w=W(0,this._visibleRect.y-this._visibleRectExt),D=ha(p,this._visibleRect.maxY()+this._visibleRectExt),B=this._packs[0].itemFrom*this._rowHeight,v=this._packs[1].itemTo*this._rowHeight;p=true;a._layoutDom.call(this,h);if(D<=B||w>=v||D>v&&this._packs[1].itemFrom*this._rowHeight>this._visibleRect.y&&this._packs[1].itemTo>this._packs[1].itemFrom||w<B&&this._packs[0].itemTo*this._rowHeight<this._visibleRect.maxY()){h=w-this._visibleRectExt/
2;h=W(0,Math.round(h/this._rowHeight));u=ha(this._data.length,h+u);this._renderPack(this._packs[0],h,u);this._renderPack(this._packs[1],u,u)}else if(D>v&&this._packs[1].itemTo>this._packs[1].itemFrom){h=this._packs[1].itemTo;u=ha(this._data.length,this._packs[1].itemTo+u);this._renderPack(this._packs[0],h,u);this._swapPacks()}else if(D>v){h=this._packs[0].itemTo;u=ha(this._data.length,this._packs[1].itemTo+u);this._renderPack(this._packs[1],h,u)}else if(w<B){h=W(this._packs[0].itemFrom-u,0);u=this._packs[0].itemFrom;
this._renderPack(this._packs[1],h,u);this._swapPacks()}else p=false;if(p&&/MSIE 6|7/.test(oa))this.dom().className+=""};this._bindToDom=function(h){return c._bindToDom.call(this,h)||a._bindToDom.call(this,h)};this._focus=function(h){c._focus.call(this,h);this._selectedIndexes.length==0&&this._data.length>0?this.selectedIndexes([0]):this.selectedIndexes(this.selectedIndexes())};this._blur=function(h){c._blur.call(this,h);this.selectedIndexes(this.selectedIndexes())}});uki.Collection.addAttrs(["data",
"selectedIndex","selectedIndexes","selectedRows"]);uki.view.declare("uki.view.ScrollableList",uki.view.ScrollPane,function(a){this._createDom=function(){a._createDom.call(this);this._list=uki({view:"List",rect:this.rect().clone().normalize(),anchors:"left top right bottom"})[0];this.appendChild(this._list)};uki.each("data rowHeight render packSize visibleRectExt throttle focusable selectedIndexes selectedIndex selectedIndexes selectedRows multiselect contentDraggable draggable textSelectable".split(" "),
function(c,e){uki.delegateProp(this,e,"_list")},this)});uki.view.list.Render=uki.newClass({init:function(){},render:function(a,c){return'<div style="line-height: '+c.height+'px; font-size: 12px; padding: 0 4px;">'+a+"</div>"},setSelected:function(a,c,e,f){a.style.backgroundColor=e&&f?"#3875D7":e?"#CCC":"";a.style.color=e&&f?"#FFF":"#000"}});uki.view.table={};uki.view.declare("uki.view.Table",uki.view.Container,function(a){var c="rowHeight data packSize visibleRectExt render selectedIndex selectedIndexes selectedRows selectedRow focus blur hasFocus lastClickIndex focusable textSelectable multiselect".split(" ");
this._headerHeight=this._rowHeight=17;this._listImpl="uki.view.List";uki.each(c,function(e,f){uki.delegateProp(this,f,"_list")},this);this._setup=function(){a._setup.call(this);this._columns=[];this.defaultCss+="overflow:hidden;"};this._style=function(e,f){this._header.style(e,f);return a._style.call(this,e,f)};this.list=function(){return this._list};this.header=function(){return this._header};this.columns=uki.newProp("_columns",function(e){for(var f=0;f<this._columns.length;f++)this._columns[f].unbind();
this._columns=uki.build(e);for(f=this._totalWidth=0;f<this._columns.length;f++){this._columns[f].position(f);this._columns[f].bind("beforeResize",uki.proxy(function(){this._updateTotalWidth();this._scrollPane.layout()},this))}this._updateTotalWidth();this._header.columns(this._columns)});this.redrawCell=function(e,f){var l=this._list._itemAt(e);if(l){var h=L.createElement("div");h.innerHTML=this.columns()[f].render(this.data()[e],new O(0,e*this.rowHeight(),this.list().width(),this.rowHeight()),e);
l.replaceChild(h.firstChild,l.childNodes[f])}return this};uki.each(["redrawRow","addRow","removeRow"],function(e,f){this[f]=function(){this.list()[f].apply(this.list(),arguments);return this}},this);this.redrawColumn=function(e){for(var f=this._list._packs[1].itemTo,l=this._list._packs[0].itemFrom;l<f;l++)this.redrawCell(l,e);return this};this._updateTotalWidth=function(){for(var e=this._totalWidth=0;e<this._columns.length;e++){this._columns[e].position(e);this._totalWidth+=this._columns[e].width()}this._list.minSize(new X(this._totalWidth,
this._list.minSize().height));this._header.minSize(new X(this._totalWidth,0))};this._createDom=function(){a._createDom.call(this);var e=new O(0,this._headerHeight,this.rect().width,this.rect().height-this._headerHeight),f=e.clone().normalize(),l=new O(0,0,this.rect().width,this._headerHeight),h={view:this._listImpl,rect:f,anchors:"left top bottom right",render:new uki.view.table.Render(this),className:"table-list"};e={view:"ScrollPane",rect:e,anchors:"left top right bottom",scrollableH:true,childViews:[h],
className:"table-scroll-pane"};l={view:"table.Header",rect:l,anchors:"top left right",className:"table-header"};uki.each(c,function(p,u){if(this["_"+u]!==undefined)h[u]=this["_"+u]},this);this._scrollPane=uki.build(e)[0];this._list=this._scrollPane.childViews()[0];this._header=uki.build(l)[0];this._scrollPane.resizeToContents();this.appendChild(this._header);this.appendChild(this._scrollPane);this._scrollPane.bind("scroll",uki.proxy(function(){this._header.dom().style.left=-this._scrollPane.scrollLeft()+
"px"},this))}});uki.Collection.addAttrs(["columns"]);uki.view.table.Render=uki.newClass(uki.view.list.Render,new (function(){this.init=function(a){this._table=a};this.render=function(a,c,e){var f=this._table.columns();return uki.map(f,function(l,h){return f[h].render(a,c,e)}).join("")}}));uki.view.table.Column=uki.newClass(uki.view.Observable,new (function(){this._width=100;this._maxWidth=this._minWidth=this._position=this._offset=0;this._css="float:left;white-space:nowrap;text-overflow:ellipsis;";
this._inset=new ca(3,5);this.init=function(){};uki.addProps(this,["position","css","formatter","label","resizable","maxWidth","minWidth","maxWidth","key"]);this.template=function(a){if(a===undefined)return this._template=this._template||uki.theme.template("table-cell");this._template=a;return this};this.headerTemplate=function(a){if(a===undefined)return this._headerTemplate=this._headerTemplate||uki.theme.template("table-header-cell");this._headerTemplate=a;return this};this.width=uki.newProp("_width",
function(a){var c={oldWidth:this._width,source:this};this._width=this._normailizeWidth(a);c.newWidth=this._width;this.trigger("beforeResize",c);if(this._stylesheet&&c.newWidth!=c.oldWidth)(this._stylesheet.styleSheet?this._stylesheet.styleSheet.rules:this._stylesheet.sheet.cssRules)[0].style.width=this._clientWidth()+"px";this.trigger("resize",c)});this._bindToDom=uki.F;this._normailizeWidth=function(a){if(this._maxWidth)a=ha(this._maxWidth,a);if(this._minWidth)a=W(this._minWidth,a);return a};this.inset=
uki.newProp("_inset",function(a){this._inset=ca.create(a)});this.render=function(a,c,e){this._prerenderedTemplate||this._prerenderTemplate(c);c=this._key?uki.attr(a,this._key):a[this._position];this._prerenderedTemplate[1]=this._formatter?this._formatter(c,a,e):c;return this._prerenderedTemplate.join("")};this.appendResizer=function(a,c){c=uki.theme.dom("resizer",c);a.appendChild(c);return c};this.renderHeader=function(a){this._className||this._initStylesheet();return this.headerTemplate().render({data:'<div style="overflow:hidden;text-overflow:ellipsis;*width:100%;height:100%;">'+
this.label()+"</div>",style:"*overflow-y:hidden;"+this._cellStyle(uki.dom.offset.boxModel?a-1:a),className:this._className})};this._prerenderTemplate=function(a){this._className||this._initStylesheet();this._prerenderedTemplate=this.template().render({data:"\u0001\u0001",style:"overflow:hidden;"+this._cellStyle(a.height),className:this._className}).split("\u0001")};this._cellPadding=function(){var a=this._inset;return["padding:",a.top,"px ",a.right,"px ",a.bottom,"px ",a.left,"px;"].join("")};this._cellStyle=
function(a){a="height:"+(a-(uki.dom.offset.boxModel?this._inset.height():0))+"px;";return this._css+this._cellPadding()+";"+a};this._clientWidth=function(){return this._width-(uki.dom.offset.boxModel?this._inset.width()+1:0)};this._initStylesheet=function(){if(!this._className){uki.dom.offset.initializeBoxModel();this._className="uki-table-column-"+uki.guid++;var a="."+this._className+" {width:"+this._clientWidth()+"px;}";this._stylesheet=uki.dom.createStylesheet(a)}}}));uki.view.table.NumberColumn=
uki.newClass(uki.view.table.Column,new function(){this._css=uki.view.table.Column.prototype._css+"text-align:right;"});uki.view.table.CustomColumn=uki.view.table.Column;uki.view.table.Header=uki.newClass(uki.view.Label,function(a){this._setup=function(){a._setup.call(this);this._multiline=true;this._resizers=[]};this.typeName=function(){return"uki.view.table.Header"};this.columns=uki.newProp("_columns",function(c){this._columns=c;this.html(this._createColumns());this._createResizers()});this.redrawColumn=
function(c){this._resizers[c]&&uki.dom.unbind(this._resizers[c]);var e=L.createElement("div");e.innerHTML=this._columns[c].renderHeader(this.rect().height);this._label.replaceChild(e.firstChild,this._label.childNodes[c]);this._columns[c].resizable()&&this._createResizers(c)};this._createColumns=function(){for(var c=[],e=0,f=this._columns,l=f.length;e<l;e++)c[c.length]=f[e].renderHeader(this.rect().height);return c.join("")};this._createResizer=function(c){var e=this._columns[c];if(e.resizable()){e=
e.appendResizer(this._label.childNodes[c],this.rect().height);this._bindResizerDrag(e,c);this._resizers[c]=e}};this._createResizers=function(){uki.each(this._columns,this._createResizer,this)};this._bindResizerDrag=function(c,e){uki.dom.bind(c,"draggesture",uki.proxy(function(f){var l=uki.dom.offset(this.dom());f=f.pageX-l.x;l=0;var h,p=this._columns[e];for(h=0;h<e;h++)l+=this._columns[h].width();p.width(f-l)},this))}});uki.view.declare("uki.view.Slider",uki.view.Base,uki.view.Focusable,function(a,
c){this._setup=function(){a._setup.call(this);uki.extend(this,{_min:0,_max:1,_value:0,_values:null,_keyStep:0.01})};uki.addProps(this,["min","max","values","keyStep"]);this.values=uki.newProp("_values",function(e){this._values=e;this._min=e[0];this._max=e[e.length-1]});this.value=uki.newProp("_value",function(e){this._value=W(this._min,ha(this._max,e));this._position=this._val2pos(this._value);this._moveHandle();this.trigger("change",{source:this,value:this._value})});this._pos2val=function(e,f){if(this._values){e=
Math.round(1*e/this._rect.width*(this._values.length-1));if(f)this._cachedIndex=e;return this._values[e]}return e/this._rect.width*(this._max-this._min)};this._val2pos=function(e){if(this._values)return(this._cachedIndex!==undefined?this._cachedIndex:uki.binarySearch(e,this._values))/(this._values.length-1)*this._rect.width;return e/(this._max-this._min)*this._rect.width};this._createDom=function(){this._dom=uki.createElement("div",this.defaultCss+"height:18px;-moz-user-select:none;-webkit-user-select:none;overflow:visible;");
this._handle=uki.createElement("div",this.defaultCss+"overflow:hidden;cursor:default;background:url("+uki.theme.image("x").src+")");this._bg=uki.theme.image("slider-handle");this._focusBg=uki.theme.image("slider-focus");this._focusBg.style.cssText+=this._bg.style.cssText+=this.defaultCss+"top:0;left:0;z-index:-1;position:absolute;";this._handle.appendChild(this._bg);uki.theme.background("slider-bar").attachTo(this);this._initFocusable();uki.image.load([this._bg,this._focusBg],uki.proxy(this._afterHandleLoad,
this))};this._afterHandleLoad=function(){this._focusBg.style.cssText+=";z-index:10;margin-left:-"+this._focusBg.width/2+"px;margin-top:-"+(this._focusBg.height-this._bg.height/2+1)/2+"px;";this._handle.style.cssText+=";margin-left:-"+this._bg.width/2+"px;width:"+this._bg.width+"px;height:"+this._bg.height/2+"px;";this._dom.appendChild(this._handle);uki.each(["mouseenter","mouseleave","draggesturestart","draggesture","draggestureend"],function(e,f){uki.dom.bind(this._handle,f,uki.proxy(this["_"+f],
this))},this);this.bind("click",this._click);this.bind(uki.view.List.prototype.keyPressEvent(),this._keypress)};this._mouseenter=function(){this._over=true;this._bg.style.top=-this._bg.height/2+"px"};this._mouseleave=function(){this._over=false;this._bg.style.top=this._dragging?-this._bg.height/2+"px":0};this._click=function(e){this.value(this._pos2val(e.pageX-uki.dom.offset(this._dom).x,true));this._cachedIndex=undefined};this._keypress=function(e){if(e.which==39||e.keyCode==39)this.value(this.value()+
this._keyStep*(this._max-this._min));else if(e.which==37||e.keyCode==37)this.value(this.value()-this._keyStep*(this._max-this._min))};this._moveHandle=function(){this._focusBg.style.left=this._handle.style.left=this._position+"px"};this._draggesturestart=function(){this._dragging=true;this._initialPosition=new aa(parseInt(this._handle.style.left,10),parseInt(this._handle.style.top,10));return true};this._draggesture=function(e){this.value(this._pos2val(W(0,ha(this._rect.width,this._initialPosition.x+
e.dragOffset.x)),true));this._cachedIndex=undefined};this._draggestureend=function(){this._dragging=false;this._initialPosition=null;if(!this._over)this._bg.style.top=0;this.value(this._pos2val(this._position,true));this._cachedIndex=undefined};this._focus=function(e){this._dom.appendChild(this._focusBg);this._focusBg.style.left=this._handle.style.left;c._focus.call(this,e)};this._blur=function(e){this._dom.removeChild(this._focusBg);c._blur.call(this,e)};this._layoutDom=function(e){e=e.clone();e.height=
18;a._layoutDom.call(this,e);this._position=this._val2pos(this._value);this._moveHandle();return true};this._bindToDom=function(e){if(e=="change")return true;return uki.view.Focusable._bindToDom.call(this,e)||a._bindToDom.call(this,e)}});uki.view.declare("uki.view.HSplitPane",uki.view.Container,function(a){this._setup=function(){a._setup.call(this);this._originalRect=this._rect;uki.extend(this,{_vertical:false,_handlePosition:200,_autogrowLeft:false,_autogrowRight:true,_handleWidth:7,_leftMin:100,
_rightMin:100,_panes:[]})};this.handlePosition=uki.newProp("_handlePosition",function(c){this._handlePosition=this._normalizePosition(c);this.trigger("handleMove",{source:this,handlePosition:this._handlePosition,dragValue:c});this._resizeChildViews()});this.handleWidth=uki.newProp("_handleWidth",function(c){if(this._handleWidth!=c){this._handleWidth=c;c=this._createHandle();this._dom.insertBefore(c,this._handle);this._removeHandle();this._handle=c;this._resizeChildViews()}});this._normalizePosition=
function(c){var e=this._vertical?"height":"width";return W(this._leftMin,ha(this._rect[e]-this._rightMin-this._handleWidth,W(0,ha(this._rect?this._rect[e]:1E3,c*1))))};uki.addProps(this,["leftMin","rightMin","autogrowLeft","autogrowRight"]);this.topMin=this.leftMin;this.bottomMin=this.rightMin;this._removeHandle=function(){this._dom.removeChild(this._handle)};this._createHandle=function(){var c;if(this._vertical){c=uki.theme.dom("splitPane-vertical",{handleWidth:this._handleWidth});c.style.top=this._handlePosition+
"px"}else{c=uki.theme.dom("splitPane-horizontal",{handleWidth:this._handleWidth});c.style.left=this._handlePosition+"px"}uki.each(["draggesturestart","draggesture","draggestureend"],function(e,f){uki.dom.bind(c,f,uki.proxy(this["_"+f],this))},this);return c};this._createDom=function(){this._dom=uki.createElement("div",this.defaultCss);for(var c=0,e;c<2;c++){e={view:"Container"};e.anchors=c==1?"left top bottom right":this._vertical?"left top right":"left top bottom";e.rect=c==0?this._leftRect():this._rightRect();
this._panes[c]=uki.build(e)[0];this.appendChild(this._panes[c])}this._dom.appendChild(this._handle=this._createHandle())};this._normalizeRect=function(c){c=a._normalizeRect.call(this,c);c=c.clone();if(this._vertical)c.height=W(c.height,this._leftMin+this._rightMin);else c.width=W(c.width,this._leftMin+this._rightMin);return c};this._resizeSelf=function(c){var e=this._rect,f=this._vertical?"height":"width";if(!a._resizeSelf.call(this,c))return false;if(this._autogrowLeft){e=c[f]-e[f];this._handlePosition=
this._normalizePosition(this._handlePosition+(this._autogrowRight?e/2:e))}if(this._vertical){if(c.height-this._handlePosition<this._rightMin)this._handlePosition=W(this._leftMin,c.height-this._rightMin)}else if(c.width-this._handlePosition<this._rightMin)this._handlePosition=W(this._leftMin,c.width-this._rightMin);return true};this._draggesturestart=function(c){var e=uki.dom.offset(this.dom());this._posWithinHandle=c[this._vertical?"pageY":"pageX"]-e[this._vertical?"y":"x"]-this._handlePosition;return true};
this._draggesture=function(c){var e=uki.dom.offset(this.dom());this.handlePosition(c[this._vertical?"pageY":"pageX"]-e[this._vertical?"y":"x"]-this._posWithinHandle);this.layout()};this._draggestureend=function(){};this.topPane=this.leftPane=function(c){return this._paneAt(0,c)};this.bottomPane=this.rightPane=function(c){return this._paneAt(1,c)};this.topChildViews=this.leftChildViews=function(c){return this._childViewsAt(0,c)};this.bottomChildViews=this.rightChildViews=function(c){return this._childViewsAt(1,
c)};this._childViewsAt=function(c,e){if(e===undefined)return this._panes[c].childViews();this._panes[c].childViews(e);return this};this._paneAt=function(c,e){if(e===undefined)return this._panes[c];uki.build.copyAttrs(this._panes[c],e);return this};this._leftRect=function(){return this._vertical?new O(this._rect.width,this._handlePosition):new O(this._handlePosition,this._rect.height)};this._rightRect=function(){return this._vertical?new O(0,this._handlePosition+this._handleWidth,this._rect.width,
this._rect.height-this._handleWidth-this._handlePosition):new O(this._handlePosition+this._handleWidth,0,this._rect.width-this._handleWidth-this._handlePosition,this._rect.height)};this._resizeChildViews=function(){this._panes[0].rect(this._leftRect());this._panes[1].rect(this._rightRect())};this._layoutDom=function(c){a._layoutDom.call(this,c);this._handle.style[this._vertical?"top":"left"]=this._handlePosition+"px"};this._bindToDom=function(c){if(c=="handleMove")return true;return a._bindToDom.call(this,
c)}});uki.view.declare("uki.view.VSplitPane",uki.view.HSplitPane,function(a){this._setup=function(){a._setup.call(this);this._vertical=true}});uki.Collection.addAttrs(["handlePosition"]);uki.view.declare("uki.view.Popup",uki.view.Container,function(a){this._setup=function(){a._setup.call(this);uki.extend(this,{_offset:2,_relativeTo:null,_horizontal:false,_flipOnResize:true,_defaultBackground:"theme(popup-normal)"})};this._createDom=function(){a._createDom.call(this);this.hideOnClick(true)};uki.addProps(this,
["offset","relativeTo","horizontal","flipOnResize"]);this.hideOnClick=function(c){if(c===undefined)return this._clickHandler;if(c!=!!this._clickHandler)if(c){this._clickHandler=this._clickHandler||uki.proxy(function(e){uki.dom.contains(this._relativeTo.dom(),e.target)||uki.dom.contains(this.dom(),e.target)||this.hide()},this);uki.dom.bind(L.body,"mousedown",this._clickHandler);uki.dom.bind(Z,"resize",this._clickHandler)}else{uki.dom.unbind(L.body,"mousedown",this._clickHandler);uki.dom.unbind(Z,"resize",
this._clickHandler);this._clickHandler=false}return this};this.toggle=function(){this.parent()&&this.visible()?this.hide():this.show()};this.show=function(){this.visible(true);if(this.parent()){this.rect(this._recalculateRect());this.layout(this._rect)}else new uki.Attachment(Z,this);this.trigger("toggle",{source:this})};this.hide=function(){this.visible(false);this.trigger("toggle",{source:this})};this.parentResized=function(){this.rect(this._recalculateRect())};this._resizeSelf=function(c){this._rect=
this._normalizeRect(c);return true};this._layoutDom=function(c){return a._layoutDom.call(this,c)};this._recalculateRect=function(){if(!this.visible())return this._rect;var c=uki.dom.offset(this._relativeTo.dom()),e=this._relativeTo.rect(),f=this.rect().clone(),l=uki.view.top(this);l.rect();l=uki.dom.offset(l.dom());var h=new aa,p=this._horizontal?this._offset:0,u=this._horizontal?0:this._offset;c.offset(-l.x,-l.y);h.x=this._anchors&2?c.x+e.width-(this._horizontal?0:f.width)+p:c.x-(this._horizontal?
f.width:0)-p;h.y=this._anchors&4?c.y+(this._horizontal?e.height:0)-f.height-u:c.y+(this._horizontal?0:e.height)+u;return new O(h.x,h.y,f.width,f.height)}});uki.each(["show","hide","toggle"],function(a,c){uki.fn[c]=function(){this.each(function(){this[c]()})}});uki.view.declare("uki.view.VFlow",uki.view.Container,function(a){this.contentsSize=function(){var c=uki.reduce(0,this._childViews,function(e,f){return e+(f.visible()?f.rect().height:0)});return new X(this.contentsWidth(),c)};this.hidePartlyVisible=
uki.newProp("_hidePartlyVisible");this.resizeToContents=function(c){this._resizeChildViews(this._rect);return a.resizeToContents.call(this,c)};uki.each(["appendChild","removeChild","insertBefore"],function(c,e){this[e]=function(f,l){this._contentChanged=true;return a[e].call(this,f,l)}},this);this.layout=function(){this._contentChanged&&this._resizeChildViews(this._rect);return a.layout.call(this)};this._resizeChildViews=function(c){this._contentChanged=false;for(var e=0,f,l=0,h=this.childViews();l<
h.length;l++){f=h[l];f.parentResized(c,this._rect);f.rect().y=e;this._hidePartlyVisible&&f.visible(f._rect.height+e<=this._rect.height);if(f.visible())e+=f._rect.height}}});uki.view.declare("uki.view.HFlow",uki.view.VFlow,function(){this.contentsSize=function(){var a=uki.reduce(0,this._childViews,function(c,e){return c+(e.visible()?e.rect().width:0)});return new X(a,this.contentsHeight())};this._resizeChildViews=function(a){for(var c=0,e,f=0,l=this.childViews();f<l.length;f++){e=l[f];e.parentResized(a,
this._rect);e.rect().x=c;this._hidePartlyVisible&&e.visible(e._rect.width+c<=this._rect.width);if(e.visible())c+=e._rect.width}}});uki.view.toolbar={};uki.view.declare("uki.view.Toolbar",uki.view.Container,function(a){this.typeName=function(){return"uki.view.Toolbar"};this._moreWidth=30;this._setup=function(){a._setup.call(this);this._buttons=[];this._widths=[]};this.buttons=uki.newProp("_buttons",function(c){this._buttons=c;this._flow.childViews(uki.build(uki.map(this._buttons,this._createButton,
this)).resizeToContents("width"));this._totalWidth=uki.reduce(0,this._flow.childViews(),function(e,f){return e+f.rect().width})});uki.moreWidth=uki.newProp("_moreWidth",function(c){this._moreWidth=c;this._updateMoreVisible()});this._createDom=function(){a._createDom.call(this);var c=this.rect(),e=c.clone().normalize();c={view:"Button",rect:new O(c.width-this._moreWidth,0,this._moreWidth,c.height),anchors:"right top",className:"toolbar-button",visible:false,backgroundPrefix:"toolbar-more-",text:">>",
focusable:false};var f={view:"Popup",rect:"0 0",anchors:"right top",className:"toolbar-popup",background:"theme(toolbar-popup)",childViews:{view:"VFlow",rect:"0 5 0 0",anchors:"right top left bottom"}};this._flow=uki.build({view:"HFlow",rect:e,anchors:"left top right",className:"toolbar-flow",hidePartlyVisible:true})[0];this._more=uki.build(c)[0];this.appendChild(this._flow);this.appendChild(this._more);f.relativeTo=this._more;this._popup=uki.build(f)[0];this._more.bind("click",uki.proxy(this._showMissingButtons,
this))};this._showMissingButtons=function(){for(var c=this._flow.rect().width,e=0,f=[],l=0,h=this._flow.childViews(),p=h.length;l<p;l++){e+=h[l].rect().width;e>c&&f.push(l)}c=uki.map(f,function(u){var w={html:h[u].html(),backgroundPrefix:"toolbar-popup-button-"};uki.each(["fontSize","fontWeight","color","textAlign","inset"],function(D,B){w[B]=uki.attr(h[u],B)});return this._createButton(w)},this);uki("VFlow",this._popup).childViews(c).resizeToContents("width height");this._popup.resizeToContents("width height").height(this._popup.height()+
5).toggle()};this._updateMoreVisible=function(){var c=this._rect;if(this._more.visible()!=c.width<this._totalWidth){this._more.visible(c.width<this._totalWidth);var e=this._flow.rect();e.width+=(c.width<this._totalWidth?-1:1)*this._moreWidth;this._flow.rect(e)}};this.rect=function(c){var e=a.rect.call(this,c);c&&this._updateMoreVisible();return e};this._createButton=function(c){var e=this.rect().clone().normalize();e.width=100;return uki.extend({view:"Button",rect:e,focusable:false,align:"left",anchors:"left top",
backgroundPrefix:"toolbar-button-",autosizeToContents:"width",focusable:false},c)}});(function(){function a(l){return uki.theme.airport.imagePath+l}function c(l){var h=uki.theme.imageSrc("checkbox");return new uki.background.CssBox("",{innerHTML:'<div style="position:absolute;left:50%;top:50%;width:18px;height:18px;overflow:hidden;margin:-9px 0 0 -9px; background: url('+h+") 0 -"+l+'px"></div>'})}function e(l){var h=uki.theme.imageSrc("radio");return new uki.background.CssBox("",{innerHTML:'<div style="position:absolute;left:50%;top:50%;width:18px;height:18px;overflow:hidden;margin:-9px 0 0 -9px; background: url('+
h+") 0 -"+l+'px"></div>'})}function f(){return{c:[a("shadow/large-c.png"),"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC4AAAAuCAYAAABXuSs3AAACzklEQVRo3t2a63KiUBCEPYCX1U2Ixvd/Qm/kYjRBWd2aTjW950CS3fyYtaprULl8p2kGAcMg/QqR6SDTsXk/8moi041Mx+bt3WAKVDVIDOQj0ArcROCbFHzoAGbYTICzLwygC/jc8T62bGccFDKLKLUXeH2625sIpCo2mBa8bkiBWbkpo5oaQMrxFPCJ6ikxkNYAQg90Tiqk5h0DiDmeAoZqqTqIFrxuSB0uSENTQVUHkHJdnVbgN6qYrmkQ6n7U6VygRwY6Eg1pHiyDdcQcx0YZGLCvInxWyx44q+Nwi6Hh8Ng0kTqieTQ2QcCbSDzeCPB40UHqUfYAlvu9Lu0aDD0i0B+iiQnup1wfdLgNdw+mFxEG8CrwZziuB6JCT00zqQyfcn3Q4TZD7y96lrqPwL9HJkiLKygecPcK+tN0Y3VG348lMlnC8bNE5EjuXmGfLnq0+mSf4fujuh6kM8DtCUHfmG6pMry63uc4u83QDwaO+kjwB3U9SD45InD61lSS4PzU4GNxUXCNyYvFAU5XpAcTnOfI/AFeiNuIxhX0TgT3pxKXoge8lpjsyeWdqKLosOs1wIcEzgck3L6Czk0Le1/ad7O/BH826MpgNxdtTTtynQ/UFngh4DNym6HvbfqO4oKcfwYc+UZMdga7FviKss7gdbB45NJNAA637wl8QXFBzsfSz7vAccLZ00EJt9dU4TofpOgup0AbLKSbICYAZiEu3NM/6zh6NmKyFm0oLtxdWo5z/8ZJpiTwpYDPxfGvgsPxrUCvCLyik9J7P1dw7igAB+zStDDw8h+BVwa+MeAVDQDg3FmS4NxR5gTN9TvA1wS9opxrZ+kFL6mbLEnfDb6iqGzJ8f8f3F1UXB6cLtuhyxOQy1O+2x9Zbn/Wur2QcHvp5vZi2e3tCbc3hNzegnN709P1bWaXN/bdPkpx/fDK9eNCtw9oXT8Sd/MnhF+iLpLibpmRrgAAAABJRU5ErkJggg==",
a("shadow/large-c.gif")],v:[a("shadow/large-v.png"),"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC4AAAAECAYAAADxjg1nAAAAWklEQVQYGdXBWwpAQAAAwLEeSUqy9z/hSkpSnh9OsTMFGlSo0aJDjwEjJkREREwYMaBHhxY1KpQIKPxePLhx4cSBHRtWLJiRkJAwY8GKDTsOnLiCTAWZCjL1AeihFg5/1kytAAAAAElFTkSuQmCC",a("shadow/large-v.gif")],h:[a("shadow/large-h.png"),"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAuCAYAAAAPxrguAAAAe0lEQVQoz5XSWwtAQBCG4XEMOST+/y8kOYScKRe8WzZbc7FPX7PNtLaIuPI49l0vUBIewT/LuO/7BRETMRMpExkh/w9KD+WVhBASAu20jnZjFsEkGAQh7ISNsBIWwkwYCT2hI9SEilASiv+g9KgEH6ZhomVi0E47fW7sAEmnGr/QVlzBAAAAAElFTkSuQmCC",
a("shadow/large-h.gif")],m:[a("shadow/large-m.png"),"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAYAAACp8Z5+AAAAEUlEQVQIHWNgYGD4i4ZJFQAAAkoP0RsgosoAAAAASUVORK5CYII=",a("shadow/large-m.gif"),true]}}uki.theme.airport=uki.extend({},uki.theme.Base,{imagePath:"/src/uki-theme/airport/i/",backgrounds:{"button-normal":function(){return new uki.background.Sliced9({c:[a("button/normal-c.png"),"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAGCAYAAADgzO9IAAAAS0lEQVQIW2NgAILy8vL/yJgBJrh+/fr/MABigyVBxN9//1EwXGLGrDn/j5++9P/G7Qf/t+/YBZEA6k5LTU39j4xBYmB7QAxkDBIDALKrX9FN99pwAAAAAElFTkSuQmCC",
a("button/normal-c.gif")],v:[a("button/normal-v.png"),"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAATCAYAAACz13xgAAAAT0lEQVQYlZXPMQ6AQAhE0b9m78zZFca1sdEwxZLQ8MIQiIh1XuvTEbEmQOnmXxNAVT2UB5komY1MA5KNys3jHlyUtv+wNzhGDwMDzfyFRh7wcj5EWWRJUgAAAABJRU5ErkJggg==",false,true],h:[a("button/normal-h.png"),"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAH8AAAAGCAYAAADqkEEaAAAAMklEQVRIie3DUQ0AIAxDwZodFmaVhB+MjIeQ9pJTd5OeRdjSPEjP2ueSnlVVpGcBKz1/kUWrDOOOWIQAAAAASUVORK5CYII=",a("button/normal-h.gif")],m:[a("button/normal-m.png"),
"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAH8AAAATCAYAAAC5i9IyAAAAXklEQVQYGe3BgRHDMAACsXeP/fdtDUkHAUnf3/syleQ8TCfFZjrJNtNJdphOSsx00r1mOikJ00nJZTrJDtNJdphOci7TSXGYTkrMdJIdppP4HKaTDofpJA5TSnCYTn/FLC2twbqbSQAAAABJRU5ErkJggg==",null,true]},"3 3 3 3",{inset:"0 0 -1 0"})},"button-hover":function(){return new uki.background.Sliced9({c:[a("button/hover-c.png"),"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAGCAYAAADgzO9IAAAAS0lEQVQIW2NgAILy8vL/yJgBJrh+/fr/MABigyVBxN9//1EwXGL+wqX/b9579v/Ji3f/9+w9AJEA6m5ITU39j4xBYmB7QAxkDBIDAN/zYPRpDtd1AAAAAElFTkSuQmCC",
a("button/hover-c.gif")],v:[a("button/hover-v.png"),"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAATCAYAAACz13xgAAAAT0lEQVQY062PMQ7AIAwDj8Kf83gw7tKlhQxItZTp5EtCRLh3vyYi3AA0J980gJmBoayh31S290DS4Q4pUzlTjdOr0j9KLXvAanrAWuAiyQ2Hqz+Eaxa7lwAAAABJRU5ErkJggg==",false,true],h:[a("button/hover-h.png"),"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAH8AAAAGCAYAAADqkEEaAAAAM0lEQVRIS+3DsREAIAwDMS+bGdIyLAUVG4RnEFt3UneTnkXY0jxIz9rnkp5VVaRnASs9f4uJy0upJnsYAAAAAElFTkSuQmCC",a("button/hover-h.gif")],m:[a("button/hover-m.png"),
"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAH8AAAATCAYAAAC5i9IyAAAAXElEQVQYGe3BgRHAMAABQLnaf+EEHYR/3ptgKlE2phNtYzrxyZhOtIzpRNuYTnwyphOTYDpREqYTbWM6UQqmExVhOtHPmE5MgunEJ2M68XwH04kIphRxMKWIqfUDGFEu5jKnhiUAAAAASUVORK5CYII=",null,true]},"3 3 3 3",{inset:"0 0 -1 0"})},"button-down":function(){return new uki.background.Sliced9({c:[a("button/down-c.png"),"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAGCAYAAADgzO9IAAAAR0lEQVQIW2NgAIKGhob/yJgBJlhQUPg/JTUDjEFssCSIyC8o+l9b1wjGIDZcoq9v4v9tO/aDMYiNYhyGHSDw////NGQMEgMAouBOxXrB3FIAAAAASUVORK5CYII=",
a("button/down-c.gif")],v:[a("button/down-v.png"),"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAATCAYAAACz13xgAAAAkUlEQVQYV42Nuw4CMQwEHT9ojvvnNPTQ8LfIeH3BmKuwNMomI294zulz3vz+eCbIeGOK2a4b7fueIGNSmF1IRBPkEqxMYpIgl1A2UllE/m5IbCyQS4hEjS4iN6FHXYDcBCokkV7FrYp7lcXFVA+6oME0xkiQS3weS9YGj19q48QfVbQ+zY+b4BMlXu7kcfrKmDdNVhnN3VjMVQAAAABJRU5ErkJggg==",false,true],h:[a("button/down-h.png"),"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAH8AAAAGCAYAAADqkEEaAAAARklEQVQYGe3BsQ2AQAwDQNvD0oCYIQ0UbIVExVDxDxLfsaqMGIn7cVoSYpbuBq/7sSTELN0Nvt9vgohZDINVZcRItL0hRloovBiO+VNuegAAAABJRU5ErkJggg==",
a("button/down-h.gif")],m:[a("button/down-m.png"),"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAH8AAAATCAYAAAC5i9IyAAAAa0lEQVQYGe3BsREDQQwDseWJF/n7n3lH7lQuhAT8fn8rUWF2wc/zQRKVZXexfalMnjtUJnsulckzQ2XyeKhM9lwqk2eGyuTxUJl8bSqTpUNlsiQqkzmiMllUKkuiMhkdKpMPlcoLSKKy7C5/du0Mt289U6QAAAAASUVORK5CYII=",null,true]},"3 3 3 3",{inset:"0 0 -1 0"})},"button-focus":function(){if(uki.image.needAlphaFix)return new uki.background.CssBox("filter:progid:DXImageTransform.Microsoft.Blur(pixelradius=3);background:#7594D2;",
{inset:"-5 -5 -4 -5",zIndex:-2});return new uki.background.Sliced9({c:[a("button/focusRing-c.png"),"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAAtUlEQVQokWNgQABGBof9LNqhq9hkQo9xgjCIDRIDy6GA0FXMKp7b2NX9jvCqJB4S1Y47IgfCIDZYDCgHUgM3GSSgkLBfQCfxoKxO3Ak93fijdiAMYoPEQHJgTWCbgFaCTAFJ6MafMNZNPOGvl3AiC4RBbJAYSA6kBuw8kDtBVoNNBis+WQWzGsQGiYHkwE4F+QnsOaB7QU4AmcqABsA2AeVAakBqSddAspNI9jTpwUpGxJGUNADqMZr1BXNgDAAAAABJRU5ErkJggg=="],v:[a("button/focusRing-v.png"),"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAUCAYAAAC58NwRAAAAf0lEQVQoU2MQj93JrZlwQlUn/qS3TsLJegY0ABIDyYHUgNQyqPsd4dWJPa6pl3giRDfxeB+6BpAYSA6kBqSWQSl0N79m7FEdvcSTkUA8DV0DSAwkB1IDUgvWoBN3Qk83/ni0buKJGegaQGIgOZCaUQ2jGgZeA0nJm+QMRGoWBQCeEP1BW4HCpgAAAABJRU5ErkJggg=="],
h:[a("button/focusRing-h.png"),"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAAMCAYAAAD79EROAAAAOUlEQVRIx2NQCt3NP1Qwg3rkCb2hghl0o45HDxXMoJNwYsZQwQyjYBQMNTCkMtiQKrqGVKUwlKpbALcNHad+5qhBAAAAAElFTkSuQmCC"]},"6 6 6 6",{inset:"-4 -4 -4 -4",zIndex:2})},"button-disabled":function(){return new uki.background.Multi(uki.theme.background("button-normal"),new uki.background.Css({color:"#999"}))},"checkbox-normal":function(){return c(18)},"checkbox-hover":function(){return c(54)},"checkbox-disabled":function(){return c(90)},
"checkbox-checked-normal":function(){return c(0)},"checkbox-checked-hover":function(){return c(36)},"checkbox-checked-disabled":function(){return c(72)},"checkbox-focus":function(){var l=uki.theme.imageSrc("checkbox-focus");return new uki.background.CssBox("",{innerHTML:'<div style="position:absolute;left:50%;top:50%;width:24px;height:24px;overflow:hidden;margin:-12px 0 0 -12px; background: url('+l+') 0 0"></div>',zIndex:-2})},"radio-normal":function(){return e(18)},"radio-hover":function(){return e(54)},
"radio-disabled":function(){return e(90)},"radio-checked-normal":function(){return e(0)},"radio-checked-hover":function(){return e(36)},"radio-checked-disabled":function(){return e(72)},"radio-focus":function(){var l=uki.theme.imageSrc("radio-focus");return new uki.background.CssBox("",{innerHTML:'<div style="position:absolute;left:50%;top:50%;width:24px;height:24px;overflow:hidden;margin:-12px 0 0 -12px; background: url('+l+') 0 0"></div>',zIndex:-2})},"toolbar-button-normal":function(){return new uki.background.Css("#CCC")},
"toolbar-button-hover":function(){return new uki.background.Css("#E0E0E0")},"toolbar-button-down":function(){return new uki.background.Css("#AAA")},"toolbar-button-focus":function(){return new uki.background.Css("#CCC")},"toolbar-popup-button-normal":function(){return new uki.background.Css({textAlign:"left"})},"toolbar-popup-button-down":function(){return new uki.background.Css({background:"#AAA",textAlign:"left"})},"toolbar-popup-button-hover":function(){return new uki.background.Css({background:"#4086FF",
color:"#FFF",textAlign:"left"})},"popup-normal":function(){return new uki.background.Multi(new uki.background.CssBox("opacity:0.95;background:#ECEDEE;-moz-border-radius:5px;-webkit-border-radius:5px;border-radius:5px;border:1px solid #CCC"),uki.theme.background("shadow-medium"))},panel:function(){return new uki.background.Sliced9({h:[a("panel/dark-h.png"),"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAIAAAAGCAYAAADpJ08yAAAAIElEQVQIW2NcvnzFfwYgYLx37z4aY8aMmWgMIJ4JYgAAGzEQWXMYYT0AAAAASUVORK5CYII=",
a("panel/dark-h.gif")],m:[a("panel/dark-m.png"),"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAIAAABlCAYAAABnRzLGAAAAPUlEQVQoz2O5e/fefwYgYGGAAgTj////DERLkaSY6lLkKaaQATfw379/BNVgSsF1Ud1hw5VBYYBTaCntGQBCJspdTUaYMwAAAABJRU5ErkJggg==",false,true]},"3 0 3 0")},input:function(){return new uki.background.CssBox("background:white;border: 1px solid #999;border-top-color:#555;-moz-border-radius:2px;-webkit-border-radius:2px;border-radius:2px;-moz-box-shadow:0 1px 0 rgba(255, 255, 255, 0.4);-webkit-box-shadow:0 1px 0 rgba(255, 255, 255, 0.4);box-shadow:0 1px 0 rgba(255, 255, 255, 0.4)",
{inset:"0 0 0 0"})},"slider-bar":function(){return new uki.background.Sliced9({v:[a("slider/bar-v.png"),"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAASCAYAAAB4i6/FAAAASUlEQVQY02NgGHqgvLz8PzKGC7a0tP1ftnwNGIPYYEkQsW//0f/Hjp8FYxAbLjFjxiy4BIgNlvj//38auh0gMbA9IAYyHvDQAACE3VpNVzKSLwAAAABJRU5ErkJggg==",a("slider/bar-v.gif")],m:[a("slider/bar-m.png"),"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAARMAAAASCAYAAAB4gjqpAAAAUUlEQVQYGe3BwRFAMBAAwItJIVTAR0taSE9eVHiKOA9jdjcCAAAAAAAAgJ9rY4wMgKK+bnsAVPV5XgKgagqAF/T7OgOgqmXmEQAAAAAAAHzTAx6DCNiUJps4AAAAAElFTkSuQmCC",
a("slider/bar-m.gif"),true]},"0 3 0 3",{fixedSize:"0 18"})},list:function(l){return new uki.background.Rows(l,"#EDF3FE")},"shadow-big":function(){return new uki.background.Sliced9(f(),"23 23 23 23",{zIndex:-2,inset:"-4 -10 -12 -10"})},"shadow-medium":function(){return new uki.background.Sliced9(f(),"23 23 23 23",{zIndex:-2,inset:"-1 -6 -6 -6"})}},images:{"slider-handle":function(){return uki.image(a("slider/handle.gif"),"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAkCAYAAACwlKv7AAABcUlEQVQ4T7WSy0sCYRRH758b0aKFCwmjB1kwlGEIJQiVvRe6iajIVpGbJArKjWK0GCgq7DE2muJt7kf3cmeaBlz0wVl8Z34Dw3AAvLNbqmIUtIHNo2sk/jr8HNb2K/jV60dCG8gVy9jq9IThsXmDdrQxw2arKySzRYN2mcIpQma7hE/vHYHuYQ5SG8doN9sC3cMcWKsHeP/sCnQPc5BcKWDtoSXwN/qct4GZzA5WbUcgSWhHG5hczP+SwZdpAwkrhxeNN2EivWXQjjYQn13Gcu1VSKTWDdrRBmJTS/6h9zahHW1gdHwBT25fIqENjMTnkND/TcPPTWpDsWmMAgY+AxXedZxQfIXffWIkUriWXLh2UvjlIwpcj3ZSuE/+FB50pvAzGwUuPOhM4aVGX+DCg84UfljvCvyNPseFF6oocOHaSeF7N22BC9dOCs9fuQIXrp0Unq24AheunRSeLjsCF66dFG6df0TiK7xid0L5v8K/AYNKQJdGv2S4AAAAAElFTkSuQmCC")},
"slider-focus":function(){if(uki.image.needAlphaFix){var l=new uki.createElement("div","width:12px;height:18px;filter:progid:DXImageTransform.Microsoft.Blur(pixelradius=4);background:#7594D2;");l.width=20;l.height=28;return l}return uki.image(a("slider/focus.png"),"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAAZCAYAAAA8CX6UAAABUUlEQVQ4y+2VsUoDQRCGVxRFRLQRGxUJETmyd4292IoQm1wRwuVuWx/BxjewDHmGPIAgFkFJvL23cr45MVhli20EFxaW2f//b+afvV1jVmPD3My3evls+yT/3D0uXvcu+4v9Tv52wGRNjD0wYJXza+Szze7tyw7grvs46o0XZ0nlL2xRJ0mxtExdS4w9MIoVDtyfTAicV/ND695P7dhnabm8tmVzlzk/yFwzbKcfENM9wYCFo2KamaSIOhtp6a9S5++zyj/YqnlKXf0sIhMma2LsgQELB66WSb2kqpmoSPNo1gwwYOGoFXim5kndpMzXTODQzIQDFw1DJ9RYqZ/UQ4XAwoGLhlF/pCOYiQ+hQq1/0gDhqk+cEdr73Z1JcGltE4Zw0VChtuX1SAychmfkp3Dg/gv9aaEo5yjayY72r0X7+6PdR9FuyHh3dsRXJMq79gUgPopCCBOTpwAAAABJRU5ErkJggg==")},
checkbox:function(){return uki.image(a("checkbox/normal.png"),"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAABsCAYAAABn5uLmAAAF1UlEQVRYw+2Y3VMTVxjGve9N/4T+CU4vetErpxfauzp1puNFZ3Ckah1jibWOGqhFhYpY8AvBIoygiErwIxAI+UCQhhgkEQwgIQKiIXwJBEKABIJP913dlJNddE8602mrO/ObIee8z8Oe3cnL87JuXZLXJ+vXf/zp519kyjYM7nHwsOtgDrakaLDhy6+3xU30jucgXr2CKsorq7H3yGno8sqwZZtmc9zoWpMP0eUVVdxrcWDHT1k4VVaP/KsWMMe63PAY4UhM5Okzf/znRDp7fEjV/oLjRdUorm5GidHNGhUb2hCcX0azw41NX22Fy+MVP6/GPx7Ed2kZyMi/gtMVFjz2+UE6xqigqgUvQ1GcLa7A9n2Z2K45hGcjU+KahFaXhf1ZhcgrN6Hufoe4RjrGiM46EoxgYCSIvNI70B49jx1pOvj8k+J6ztlL2H04FydLa1F4wyquEbJnlFNSg+eTiyLtvX5kF+mxJ/0UUn84jIo7ZqTsTcexwirhburFfamWdIzRcaGof3whjtXZi8xzlUg7cga7DmQjI68cuaU1uNPoZupIxxj9LDzA3pEwQ2W9A1nCnWULbyjn0l0U3TDLakjHGB08UQyPf07GhesNwnMxIPuiHu39k7J90jFG+46eg3soJMPRN4ETRTdxu6lTcZ90jNEeXS6cAzPckI4x2rn/GIieQFg1kkb27d+m0YGXde/Z1eruBi8yk8ZWF4iVlVeqkTSMkanJgdjKCjekYxt/wz0sx2LckI4xqjKYsLS8zA3pGKMKvSEpI9IxRiVXbyK6tMQN6RijotIriESj3JCOMTpTeAkLkSg3pGOMTuYXYH4xwg3p2J594jeEFxa5IR1jlHE0G3PzC9yQjjE6oDuCUHieG9IxRmn7D4HgefWSRvbF3a3Rgpf/aSP8ZzKk2uutGTImhEw1NNudb8+QS0IfJob8gfjPifT09SN135sMeeu+coYMR1dgb3uETZu3iqGTPq9mbGoWO7R/ZciegWHlDDknpNaC0mtihkzdewijkzPimsSP6dnxDGm2d76uV8qQs4sxjE7P4fTl1xlylzYdgZcz4nrehdJ4hrxYZRPXCMUMORVeEukZCIjBijLkTq0OeqM1niHzhQxJ+1KtYoacEOKuhL2jTzFDmloeMXWKGXJkJsJw2+pkMmSJ3iqrUcyQL6YWZRRXWcQM+atwVF8gKNtXzJDPJxdk9A1P41RxFawPuhT3FTPk4MswN2tmyEBwUTUfMuTfuHg7JCEz4Z2yCUnDGPFM2ash3ZpTNg+kU5yyeVlzyuZlzSmbl7dO2Ty8c8pWi6opWw2qp+x3oXrKfhcfpuz/2rVx48aPUlK+/Ua2MRwYAA93DXpkHsvQazTfb4ibDA4+AREVZjA19PV5UVNbDZutDpmZ6Z/Fjbx9j1WbjI2NCgZmPHnigdOZ0EY8Xe2riiNrmszNhdDQUIfOThf6+73o6HSyRi5Xq1g4MTGKiopyzMxOKxqZTEY8fNiK3t4uLCyEQTrGyOFoFgs7OlyoN9XCaKyRmdhsFvxhb0J3dydGR4fFNdIxRk1N5rjA43GjudmGurpa4fOiuNbW5oDVZhL3vN7ueC3pGCOzxRjfnBWO5XI5hTswCXd2Fz5fr/CGbgtrD9DV9Ujcl2pJxxjVGm+9ecivGRsfFu7CjsZGM0wNRuEILcKx2+H3DzJ1pGOMqm9dFzbCDPRW2oWH6XI5xDukZ5NYQzrGqLLyivAWQjLoKC73AzxstyMUmpLtk44xKisrQTg8LSM4MyEecWioX3GfdOxf2uILwm+c5IZ0jNH5gjMgIpGwaiSN7Nufl58LXt63DDk8/AK8yEwGBp6CiAn/yVOLpGGMvN4eLhMJ0rEd0tORlBHpEjpkW1JGpEvokPakjEiX0CFtSRmRjjGyWExJGZGOMTIaDUkZkY7tkNX6pIxIl9AhryVlRLqEDnk5KSPSJXTI35MyIh07ixScB8FjImlkX9z8/Dzw8u/uZ38Cqx5HdHgrjesAAAAASUVORK5CYII=",
a("checkbox/normal.gif"))},"checkbox-focus":function(){if(uki.image.needAlphaFix){var l=new uki.createElement("div","width:18px;height:18px;filter:progid:DXImageTransform.Microsoft.Blur(pixelradius=3);background:#7594D2;");l.width=26;l.height=26;return l}return uki.image(a("checkbox/focus.png"),"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAABdklEQVRIie2Wv0rDUBSHUxRFRHQRFxWRioTeZHEXVxHqYgaRNrmrj+Ai+AAdi6trH0AQh6K05uYpfBQ934m0EnHQcIuDB+5y7/l9J+dPchMEU2sER8P5VjJY2ExeljY6D8v77dHKbvK4+t3iHD/80aFXzhdLBnPN4/tFBE37vN7qjrbDzO2ZTh6GnbExXRdXl+5zLn74o1O9cOB9xjfY3MmGa8Y+bSGO0vGhSYuT2Lqz2BbnUZpfVBf7nOOn/gQWPRwNMslE0iIyh1HqDiLrTuPMXZqsuI5s3hNQX/Zuq6vcz3v44Y8OPRx4H+UKAmpHevrkCi+ubu5e33660KGHo2WmJ5g2SGpImjzJb+DTIJKJcODB1QBMgTZUakm6dQKghwMPrgbQ+ss00DBqWidA2TNpvPC0DxjzzMiVU1H0a5VI9HDgwZ0EKEdTxk+mo14GMmHCgfcf4I8F8DpF3t8D72+y92+R96+p9/vA/402gzt5Bn8VHu0d2HhIetPffvAAAAAASUVORK5CYII=")},
radio:function(){return uki.image(a("radio/normal.png"),"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAABsCAYAAABn5uLmAAAGiklEQVRYw+2X/08TdxjH/RP6Z+2XJWeyzMTMjGkkEkmsog4VzSGiA0FUQAPIUHEqMC0i3Rgt66Sj8q0wkG9tgV4RAflij7b0C198du8Ozn6uPe66uGSJXvLO5fk8r+cNP/TeeT579vxXj8nmNTxzvuVbnEtCy8ASyZJqnKOvadLg8HKNDp/Y61khf2id3r8nWahxjj44VZN66xjX2OmmRTFMsY0tVaEPDnySSZnJZrhjdoqzyyEKRTc1BQ485hijyiY739btIv/ahm6BxxxjdO2BRXDPvqOlQExWR1c/fbnvO/riq2/jb9SJffCYY4x+uNNCc/4oowNHTtOpK9WUX9EQf6NWMphjjPIrHpNvOcLImF9O5Q1/UFVzd/yNWslgjjE6V1JHk2/DjPJK66j8sY0qJBO8USsZzDFGOQWVQtfIaxqfC8my9E7Q1dpnVFJnjr9RJ/bBY44xyj57lS+//5yGXwd1CzzmGKMMI2/IzLkotvdPkVMIaAoceMwl/Si/yTrNZZ7gydztpu4pUVXogwOv+pl8fSib23fomMhfryPTn+Nkd/tlocY5+uA0P1yOyzBw+zP5vfsPC3v3Z9IHHRZwjv6eT/yx2QYN9r5XfJdzRJBECRJwjr6mibWzn7N29Yujbi+tBtdoa+u9LNQ4Rx+cqskvVgdnsfeQPxCkza0tVaEPDnxy4JtMhua2DnHFv0obm5uaAgcec2zom8x8t3OI1jc2dAs85hijB03NwuLySlpG4DHHGN2pb6DY+nrawhxjdLv2PkVjsbSFOcbo+q0aCkdjaQtzjFFRaYXgm52jtUhUt8Bjjg3/wqv802etFApHdAs85hgjI88bzuUXilOCj4JrYU2BA4+5pB9lzpk87vzFQvJMeykQWlMV+uDAq34m2TmnuWM534t36x+RyzMlfV8hWahxjj44zQ83I8NoOJJt5LOOGoWsbCPJkmqco/+pJyR2RFPfPN/sXMDOSDtCjfM0dkhB7PMskxiKUeKDGufoa+yQLq7RPknLgShtSsunmtAHBz7FDjlo+LHtL/GttGiuS/msJXDgMccYVZle8lZpMQjFtnQLPOYYo4rGTsG3uEpBaWPdkb1nQNodD27vkAfjdWIfPObYZbS+nVYjm4wOZCl2SKlWMphLWkZXpM0+Ual2SCWTtIwW3GqkRWnlTdT50rvMDolayWCOMcorvS+8ml6gOTEqyzHkoZLtHRJv1Il98JhjjE4XVvF1TzpoZiWiW+Axp0jIMsPx/Jti/8SstD+HNQUOPOaSfpRZZ4q4E/k3qGdMoOmlkKrQBwde9TPJzOE5bKs3655Q1/A0uReCslDjHH1wuhIyI/ssn3H0rCC9SdY/9eeE/NgJ2SsloV9KRPaWHaPedBJyUYxo3LIj2gmZzi1bNSHb+ybTumWDT5mQnjd+5hatJfApE1J5g9ajlAmpvEHrUcqEVN6g9ShlQjrG3jC3aC2BT5mQVY3WtG7Z4FUT0jog6Lplg9s1IY/z1+nXvqldb9nog9OVkEXVTdTy0sPcslHj/HNCfsTH6x00eL3jvFeYEASfi3aEOn7u1XHLdrkGOZd7SJyfn6FwBLfsLVmocY4+OFWTweEebnRsgNbWQoyBUuiDA59kYrPZDL19nWIoFNjVZEfgwGOOMXrxwsK7XKO6THYEHnOMkcXSKqyuikl/1e0ZoQnXUPyt/G/BY44xet76NOkvjow6aWi4VxZqJYM5xqjp54dJUE+PPUlKBnOM0U8P70qNTUYOxwuy2ztkoVYymGOMamurhaWleakZlbW8PE+/236jdos5/kad2AePOcaosvIGb7W20fp6WLfAY44x4qXbcum1YnH2jZei0YCmwIHnU92yL18u4K6VFdPMzCSFw6Kq0AcHXvUzycs7w124cE5sanpE09MTFAyuyEKNc/TBaX64RqPRkJt7kpck5Oaeog9CfZJH/3NCfqSEdG8nZESRkJHthHRrJeTwcD83Pj6oKyHBgU+ZkP1Oh5SQQZ0JGSTwSQnZ1WXjPZ6JtBISPOYYo85OixAIrKZlBB5zyqhNy2RHmGOMWs2mf2WEOcboqakhKf30CHOM0aPH9cLKuwUmAbUEHnOM0b17NbzdbksrIcFjjjEqKyszVFffln7RPl0JCQ485pJ+lOXlZVxNzW2anZ3eNSHRBwde9TMpKStC3IpmczP5fB4mIVHjHH1wmh8uAv1KUQFfVHxJKCoupA+6JOA8ZeD/L5+/ASNtA71vTxEVAAAAAElFTkSuQmCC",
a("radio/normal.gif"))},"radio-focus":function(){if(uki.image.needAlphaFix)return uki.theme.airport.image("checkbox-focus");return uki.image(a("radio/focus.png"),"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAABcElEQVRIx92VP0oEMRTGt9ADeAERq21E8ACLNp7AUrRbWdzdDDa6IBhnM5YqaCPCiiewyPzBA1gK1oIsHsNCNL9owBl1HYWM6MBjSPK+7+W99yWp1X7jm5dyrLUVTwTyYqotdb0dJjOdUM86Y8w86/jhX5q82TwZF1JPrkd6rtNPF40tiTBb7qps1Rlj5lnHD39wpchbMp4WKmmIKF0x/+0gSg8DlZ0KlZ05Y8w8669+DXAjgzjy7m68IPrJmoiS/Y29S907vr7fGdw+hOfDJ2eMmWcdP/zBfRqEGpKm3TnkKj3aPLi6kYO7x7fERWMdP/xfcAZveN71hEbZWpKu2RGgUcRFs0HIxODhgS8XADXQMGpK2l/t/KNMbLkMHh74cgGQHKqgcdT2O+TOwIGHB758AKNrpIc6ig0ta+Cs2gwPfLkAHB6rbyPBn5A7Aw8PfP8sgPceeFeR93Pg/SR7v4u836aVvAeVvGiVvMl/7nsGaBHOn+3vxvEAAAAASUVORK5CYII=")}},
imageSrcs:{x:function(){return[a("x.gif"),"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="]},"splitPane-horizontal":function(){return[a("splitPane/horizontal.gif"),"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAICAYAAAA870V8AAAAFUlEQVQIW2MoLy//zwAEYJq6HGQAAJuVIXm0sEPnAAAAAElFTkSuQmCC"]},"splitPane-vertical":function(){return[a("splitPane/vertical.gif"),"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAcAAAADCAYAAABfwxXFAAAAE0lEQVQIHWMsLy//z0AOYMSnEwAIngTLoazFLgAAAABJRU5ErkJggg=="]}},
templates:{"table-header-cell":function(){return new uki.theme.Template('<div style="position:relative;border:1px solid #CCC;border-top:none;border-left:none;${style}" class="${className}">${data}</div>')},"table-cell":function(){return new uki.theme.Template('<div style="position:relative;border-right:1px solid #CCC;height:100%;${style}" class="${className}">${data}</div>')}},doms:{resizer:function(l){var h=new uki.theme.Template("position:absolute;width:5px;top:0;right:-3px;height:${height}px;cursor:col-resize;cursor:ew-resize;z-index:101;background:url("+
uki.theme.imageSrc("x")+")");l=uki.createElement("div",h.render({height:l}));if(!l.style.cursor||window.opera)l.style.cursor="e-resize";return l},"splitPane-vertical":function(l){l=l.handleWidth==1?uki.createElement("div","position:absolute;z-index:100;-moz-user-focus:none;font-family:Arial,Helvetica,sans-serif;width:100%;height:5px;margin-top:-2px;cursor:row-resize;cursor:ns-resize;z-index:200;overflow:hidden;background: url("+uki.theme.imageSrc("x")+")",'<div style="position:absolute;z-index:100;-moz-user-focus:none;font-family:Arial,Helvetica,sans-serif;background:#999;width:100%;height:1px;left:0px;top:2px;overflow:hidden;"></div>'):
uki.createElement("div","position:absolute;z-index:100;-moz-user-focus:none;font-family:Arial,Helvetica,sans-serif;width:100%;height:"+(l.handleWidth-2)+"px;border: 1px solid #CCC;border-width: 1px 0;cursor:row-resize;cursor:ns-resize;z-index:200;overflow:hidden;background: url("+uki.theme.imageSrc("splitPane-vertical")+") 50% 50% no-repeat;");if(!l.style.cursor||window.opera)l.style.cursor="n-resize";return l},"splitPane-horizontal":function(l){l=l.handleWidth==1?uki.createElement("div","position:absolute;z-index:100;-moz-user-focus:none;font-family:Arial,Helvetica,sans-serif;height:100%;width:5px;margin-left:-2px;cursor:col-resize;cursor:ew-resize;z-index:200;overflow:hidden;background: url("+
uki.theme.imageSrc("x")+")",'<div style="position:absolute;z-index:100;-moz-user-focus:none;font-family:Arial,Helvetica,sans-serif;background:#999;height:100%;width:1px;top:0px;left:2px;overflow:hidden;"></div>'):uki.createElement("div","position:absolute;z-index:100;-moz-user-focus:none;font-family:Arial,Helvetica,sans-serif;height:100%;width:"+(l.handleWidth-2)+"px;border: 1px solid #CCC;border-width: 0 1px;cursor:col-resize;cursor:ew-resize;z-index:200;overflow:hidden;background: url("+uki.theme.imageSrc("splitPane-horizontal")+
") 50% 50% no-repeat;");if(!l.style.cursor||window.opera)l.style.cursor="e-resize";return l}},styles:{base:function(){return"font-family:Arial,Helvetica,sans-serif;"},label:function(){return"font-size:12px;"},button:function(){return"color:#333;text-align:center;font-weight:bold;"},input:function(){return"font-size:11px;"}}});uki.theme.airport.backgrounds["input-focus"]=uki.theme.airport.backgrounds["button-focus"];uki.theme.airport.backgrounds["toolbar-popup"]=uki.theme.airport.backgrounds["popup-normal"];
uki.theme.airport.backgrounds["toolbar-popup-button-disabled"]=uki.theme.airport.backgrounds["toolbar-popup-button-normal"];uki.theme.register(uki.theme.airport)})();Raphael=function(){function a(){if(a.is(arguments[0],da)){for(var b=arguments[0],d=Qa[C](a,b.splice(0,3+a.is(b[0],T))),g=d.set(),j=0,m=b[z];j<m;j++){var k=b[j]||{};h.test(k.type)&&g[U](d[k.type]().attr(k))}return g}return Qa[C](a,arguments)}function c(b,d,g){function j(){var m=Array[p].slice.call(arguments,0),k=m[S]("\u25ba"),o=j.cache=
j.cache||{},n=j.count=j.count||[];if(o[u](k))return g?g(o[k]):o[k];n[z]>=1E3&&delete o[n.shift()];n[U](k);o[k]=b[C](d,m);return g?g(o[k]):o[k]}return j}function e(){return this.x+s+this.y}function f(b){return function(d,g,j,m){var k={back:b};a.is(j,"function")?(m=j):(k.rot=j);d&&d.constructor==I&&(d=d.attrs.path);d&&(k.along=d);return this.animate(k,g,m)}}a.version="1.4.3";var l=/[, ]+/,h=/^(circle|rect|path|ellipse|text|image)$/,p="prototype",u="hasOwnProperty",w=document,D=window,B={was:Object[p][u].call(D,
"Raphael"),is:D.Raphael},v=function(){},C="apply",t="createTouch"in w,s=" ",P="click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend orientationchange touchcancel gesturestart gesturechange gestureend".split(s),Q={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},S="join",z="length",Y=String[p].toLowerCase,G=Math,ia=G.max,ea=G.min,T="number",da="array",pa=Object[p].toString,H=G.pow,U="push",la=/^(?=[\da-f]$)/,Ca=/^url\(['"]?([^\)]+?)['"]?\)$/i,
Za=/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+\s*,\s*[\d\.]+\s*,\s*[\d\.]+(?:\s*,\s*[\d\.]+)?)\s*\)|rgba?\(\s*([\d\.]+%\s*,\s*[\d\.]+%\s*,\s*[\d\.]+%(?:\s*,\s*[\d\.]+%))\s*\)|hs[bl]\(\s*([\d\.]+\s*,\s*[\d\.]+\s*,\s*[\d\.]+)\s*\)|hs[bl]\(\s*([\d\.]+%\s*,\s*[\d\.]+%\s*,\s*[\d\.]+%)\s*\))\s*$/i,V=G.round,M=parseFloat,ja=parseInt,sa=String[p].toUpperCase,Da={blur:0,"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,fill:"#fff","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10",
"font-style":"normal","font-weight":400,gradient:0,height:0,href:"http://raphaeljs.com/",opacity:1,path:"M0,0",r:0,rotation:0,rx:0,ry:0,scale:"1 1",src:"",stroke:"#000","stroke-dasharray":"","stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank","text-anchor":"middle",title:"Raphael",translation:"0 0",width:0,x:0,y:0},Ra={along:"along",blur:T,"clip-rect":"csv",cx:T,cy:T,fill:"colour","fill-opacity":T,"font-size":T,height:T,opacity:T,
path:"path",r:T,rotation:"csv",rx:T,ry:T,scale:"csv",stroke:"colour","stroke-opacity":T,"stroke-width":T,translation:"csv",width:T,x:T,y:T};a.type=D.SVGAngle||w.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?"SVG":"VML";if(a.type=="VML"){var ta=w.createElement("div");ta.innerHTML="<!--[if vml]><br><br><![endif]--\>";if(ta.childNodes[z]!=2)return a.type=null;ta=null}a.svg=!(a.vml=a.type=="VML");v[p]=a[p];a._id=0;a._oid=0;a.fn={};a.is=function(b,d){d=Y.call(d);
return d=="object"&&b===Object(b)||d=="undefined"&&typeof b==d||d=="null"&&b==null||Y.call(pa.call(b).slice(8,-1))==d};a.setWindow=function(b){D=b;w=D.document};var Ea=function(b){if(a.vml){var d=/^\s+|\s+$/g;Ea=c(function(j){var m;j=(j+"").replace(d,"");try{var k=new D.ActiveXObject("htmlfile");k.write("<body>");k.close();m=k.body}catch(o){m=D.createPopup().document.body}k=m.createTextRange();try{m.style.color=j;var n=k.queryCommandValue("ForeColor");n=(n&255)<<16|n&65280|(n&16711680)>>>16;return"#"+
("000000"+n.toString(16)).slice(-6)}catch(q){return"none"}})}else{var g=w.createElement("i");g.title="Rapha\u00ebl Colour Picker";g.style.display="none";w.body.appendChild(g);Ea=c(function(j){g.style.color=j;return w.defaultView.getComputedStyle(g,"").getPropertyValue("color")})}return Ea(b)},xb=function(){return"hsb("+[this.h,this.s,this.b]+")"},yb=function(){return this.hex};a.hsb2rgb=c(function(b,d,g){if(a.is(b,"object")&&"h"in b&&"s"in b&&"b"in b){g=b.b;d=b.s;b=b.h}var j;if(g==0)return{r:0,g:0,
b:0,hex:"#000"};if(b>1||d>1||g>1){b/=255;d/=255;g/=255}j=~~(b*6);b=b*6-j;var m=g*(1-d),k=g*(1-d*b),o=g*(1-d*(1-b));b=[g,k,m,m,o,g,g][j];d=[o,g,g,k,m,m,o][j];j=[m,m,o,g,g,k,m][j];b*=255;d*=255;j*=255;g={r:b,g:d,b:j,toString:yb};b=(~~b).toString(16);d=(~~d).toString(16);j=(~~j).toString(16);b=b.replace(la,"0");d=d.replace(la,"0");j=j.replace(la,"0");g.hex="#"+b+d+j;return g},a);a.rgb2hsb=c(function(b,d,g){if(a.is(b,"object")&&"r"in b&&"g"in b&&"b"in b){g=b.b;d=b.g;b=b.r}if(a.is(b,"string")){var j=a.getRGB(b);
b=j.r;d=j.g;g=j.b}if(b>1||d>1||g>1){b/=255;d/=255;g/=255}j=ia(b,d,g);var m=ea(b,d,g);if(m==j)return{h:0,s:0,b:j};else{var k=j-m;m=k/j;b=b==j?(d-g)/k:d==j?2+(g-b)/k:4+(b-d)/k;b/=6;b<0&&b++;b>1&&b--}return{h:b,s:m,b:j,toString:xb}},a);var zb=/,?([achlmqrstvxz]),?/gi,Fa=/\s*,\s*/,Ab={hs:1,rg:1};a._path2string=function(){return this.join(",").replace(zb,"$1")};a.getRGB=c(function(b){if(!b||(b+="").indexOf("-")+1)return{r:-1,g:-1,b:-1,hex:"none",error:1};if(b=="none")return{r:-1,g:-1,b:-1,hex:"none"};
!(Ab[u](b.substring(0,2))||b.charAt()=="#")&&(b=Ea(b));var d,g,j,m,k;if(b=b.match(Za)){if(b[2]){j=ja(b[2].substring(5),16);g=ja(b[2].substring(3,5),16);d=ja(b[2].substring(1,3),16)}if(b[3]){j=ja((k=b[3].charAt(3))+k,16);g=ja((k=b[3].charAt(2))+k,16);d=ja((k=b[3].charAt(1))+k,16)}if(b[4]){b=b[4].split(Fa);d=M(b[0]);g=M(b[1]);j=M(b[2]);m=M(b[3])}if(b[5]){b=b[5].split(Fa);d=M(b[0])*2.55;g=M(b[1])*2.55;j=M(b[2])*2.55;m=M(b[3])}if(b[6]){b=b[6].split(Fa);d=M(b[0]);g=M(b[1]);j=M(b[2]);return a.hsb2rgb(d,
g,j)}if(b[7]){b=b[7].split(Fa);d=M(b[0])*2.55;g=M(b[1])*2.55;j=M(b[2])*2.55;return a.hsb2rgb(d,g,j)}b={r:d,g:g,b:j};d=(~~d).toString(16);g=(~~g).toString(16);j=(~~j).toString(16);d=d.replace(la,"0");g=g.replace(la,"0");j=j.replace(la,"0");b.hex="#"+d+g+j;isFinite(M(m))&&(b.o=m);return b}return{r:-1,g:-1,b:-1,hex:"none",error:1}},a);a.getColor=function(b){b=this.getColor.start=this.getColor.start||{h:0,s:1,b:b||0.75};var d=this.hsb2rgb(b.h,b.s,b.b);b.h+=0.075;if(b.h>1){b.h=0;b.s-=0.2;b.s<=0&&(this.getColor.start=
{h:0,s:1,b:b.b})}return d.hex};a.getColor.reset=function(){delete this.start};var Bb=/([achlmqstvz])[\s,]*((-?\d*\.?\d*(?:e[-+]?\d+)?\s*,?\s*)+)/ig,Cb=/(-?\d*\.?\d*(?:e[-+]?\d+)?)\s*,?\s*/ig;a.parsePathString=c(function(b){if(!b)return null;var d={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},g=[];if(a.is(b,da)&&a.is(b[0],da))g=Ga(b);g[z]||(b+"").replace(Bb,function(j,m,k){var o=[];j=Y.call(m);k.replace(Cb,function(n,q){q&&o[U](+q)});if(j=="m"&&o[z]>2){g[U]([m].concat(o.splice(0,2)));j="l";m=m=="m"?"l":
"L"}for(;o[z]>=d[j];){g[U]([m].concat(o.splice(0,d[j])));if(!d[j])break}});g.toString=a._path2string;return g});a.findDotsAtSegment=function(b,d,g,j,m,k,o,n,q){var r=1-q,y=H(r,3)*b+H(r,2)*3*q*g+r*3*q*q*m+H(q,3)*o;r=H(r,3)*d+H(r,2)*3*q*j+r*3*q*q*k+H(q,3)*n;var A=b+2*q*(g-b)+q*q*(m-2*g+b),F=d+2*q*(j-d)+q*q*(k-2*j+d),E=g+2*q*(m-g)+q*q*(o-2*m+g),x=j+2*q*(k-j)+q*q*(n-2*k+j);b=(1-q)*b+q*g;d=(1-q)*d+q*j;m=(1-q)*m+q*o;k=(1-q)*k+q*n;n=90-G.atan((A-E)/(F-x))*180/G.PI;(A>E||F<x)&&(n+=180);return{x:y,y:r,m:{x:A,
y:F},n:{x:E,y:x},start:{x:b,y:d},end:{x:m,y:k},alpha:n}};var Ia=c(function(b){if(!b)return{x:0,y:0,width:0,height:0};b=Ha(b);for(var d=0,g=0,j=[],m=[],k,o=0,n=b[z];o<n;o++){k=b[o];if(k[0]=="M"){d=k[1];g=k[2];j[U](d);m[U](g)}else{d=Db(d,g,k[1],k[2],k[3],k[4],k[5],k[6]);j=j.concat(d.min.x,d.max.x);m=m.concat(d.min.y,d.max.y);d=k[5];g=k[6]}}b=ea[C](0,j);k=ea[C](0,m);return{x:b,y:k,width:ia[C](0,j)-b,height:ia[C](0,m)-k}}),Ga=function(b){var d=[];if(!a.is(b,da)||!a.is(b&&b[0],da))b=a.parsePathString(b);
for(var g=0,j=b[z];g<j;g++){d[g]=[];for(var m=0,k=b[g][z];m<k;m++)d[g][m]=b[g][m]}d.toString=a._path2string;return d},$a=c(function(b){if(!a.is(b,da)||!a.is(b&&b[0],da))b=a.parsePathString(b);var d=[],g=0,j=0,m=0,k=0,o=0;if(b[0][0]=="M"){g=b[0][1];j=b[0][2];m=g;k=j;o++;d[U](["M",g,j])}o=o;for(var n=b[z];o<n;o++){var q=d[o]=[],r=b[o];if(r[0]!=Y.call(r[0])){q[0]=Y.call(r[0]);switch(q[0]){case "a":q[1]=r[1];q[2]=r[2];q[3]=r[3];q[4]=r[4];q[5]=r[5];q[6]=+(r[6]-g).toFixed(3);q[7]=+(r[7]-j).toFixed(3);break;
case "v":q[1]=+(r[1]-j).toFixed(3);break;case "m":m=r[1];k=r[2];default:for(var y=1,A=r[z];y<A;y++)q[y]=+(r[y]-(y%2?g:j)).toFixed(3)}}else{d[o]=[];if(r[0]=="m"){m=r[1]+g;k=r[2]+j}q=0;for(y=r[z];q<y;q++)d[o][q]=r[q]}r=d[o][z];switch(d[o][0]){case "z":g=m;j=k;break;case "h":g+=+d[o][r-1];break;case "v":j+=+d[o][r-1];break;default:g+=+d[o][r-2];j+=+d[o][r-1]}}d.toString=a._path2string;return d},0,Ga),wa=c(function(b){if(!a.is(b,da)||!a.is(b&&b[0],da))b=a.parsePathString(b);var d=[],g=0,j=0,m=0,k=0,o=
0;if(b[0][0]=="M"){g=+b[0][1];j=+b[0][2];m=g;k=j;o++;d[0]=["M",g,j]}o=o;for(var n=b[z];o<n;o++){var q=d[o]=[],r=b[o];if(r[0]!=sa.call(r[0])){q[0]=sa.call(r[0]);switch(q[0]){case "A":q[1]=r[1];q[2]=r[2];q[3]=r[3];q[4]=r[4];q[5]=r[5];q[6]=+(r[6]+g);q[7]=+(r[7]+j);break;case "V":q[1]=+r[1]+j;break;case "H":q[1]=+r[1]+g;break;case "M":m=+r[1]+g;k=+r[2]+j;default:for(var y=1,A=r[z];y<A;y++)q[y]=+r[y]+(y%2?g:j)}}else{y=0;for(A=r[z];y<A;y++)d[o][y]=r[y]}switch(q[0]){case "Z":g=m;j=k;break;case "H":g=q[1];
break;case "V":j=q[1];break;default:g=d[o][d[o][z]-2];j=d[o][d[o][z]-1]}}d.toString=a._path2string;return d},null,Ga),Ja=function(b,d,g,j){return[b,d,g,j,g,j]},ab=function(b,d,g,j,m,k){var o=1/3,n=2/3;return[o*b+n*g,o*d+n*j,o*m+n*g,o*k+n*j,m,k]},bb=function(b,d,g,j,m,k,o,n,q,r){var y=G.PI,A=y*120/180,F=y/180*(+m||0),E=[],x,J=c(function($,na,Ka){var Eb=$*G.cos(Ka)-na*G.sin(Ka);$=$*G.sin(Ka)+na*G.cos(Ka);return{x:Eb,y:$}});if(r){N=r[0];x=r[1];k=r[2];R=r[3]}else{x=J(b,d,-F);b=x.x;d=x.y;x=J(n,q,-F);n=
x.x;q=x.y;G.cos(y/180*m);G.sin(y/180*m);x=(b-n)/2;N=(d-q)/2;R=x*x/(g*g)+N*N/(j*j);if(R>1){R=G.sqrt(R);g=R*g;j=R*j}R=g*g;var ba=j*j;R=(k==o?-1:1)*G.sqrt(G.abs((R*ba-R*N*N-ba*x*x)/(R*N*N+ba*x*x)));k=R*g*N/j+(b+n)/2;var R=R*-j*x/g+(d+q)/2,N=G.asin(((d-R)/j).toFixed(7));x=G.asin(((q-R)/j).toFixed(7));N=b<k?y-N:N;x=n<k?y-x:x;N<0&&(N=y*2+N);x<0&&(x=y*2+x);if(o&&N>x)N-=y*2;if(!o&&x>N)x-=y*2}y=x-N;if(G.abs(y)>A){E=x;y=n;ba=q;x=N+A*(o&&x>N?1:-1);n=k+g*G.cos(x);q=R+j*G.sin(x);E=bb(n,q,g,j,m,0,o,y,ba,[x,E,k,
R])}y=x-N;m=G.cos(N);A=G.sin(N);o=G.cos(x);x=G.sin(x);y=G.tan(y/4);g=4/3*g*y;y=4/3*j*y;j=[b,d];b=[b+g*A,d-y*m];d=[n+g*x,q-y*o];n=[n,q];b[0]=2*j[0]-b[0];b[1]=2*j[1]-b[1];if(r)return[b,d,n].concat(E);else{E=[b,d,n].concat(E)[S]().split(",");r=[];n=0;for(q=E[z];n<q;n++)r[n]=n%2?J(E[n-1],E[n],F).y:J(E[n],E[n+1],F).x;return r}},xa=function(b,d,g,j,m,k,o,n,q){var r=1-q;return{x:H(r,3)*b+H(r,2)*3*q*g+r*3*q*q*m+H(q,3)*o,y:H(r,3)*d+H(r,2)*3*q*j+r*3*q*q*k+H(q,3)*n}},Db=c(function(b,d,g,j,m,k,o,n){var q=m-2*
g+b-(o-2*m+g),r=2*(g-b)-2*(m-g),y=b-g,A=(-r+G.sqrt(r*r-4*q*y))/2/q;q=(-r-G.sqrt(r*r-4*q*y))/2/q;var F=[d,n],E=[b,o];G.abs(A)>1E12&&(A=0.5);G.abs(q)>1E12&&(q=0.5);if(A>0&&A<1){A=xa(b,d,g,j,m,k,o,n,A);E[U](A.x);F[U](A.y)}if(q>0&&q<1){A=xa(b,d,g,j,m,k,o,n,q);E[U](A.x);F[U](A.y)}q=k-2*j+d-(n-2*k+j);r=2*(j-d)-2*(k-j);y=d-j;A=(-r+G.sqrt(r*r-4*q*y))/2/q;q=(-r-G.sqrt(r*r-4*q*y))/2/q;G.abs(A)>1E12&&(A=0.5);G.abs(q)>1E12&&(q=0.5);if(A>0&&A<1){A=xa(b,d,g,j,m,k,o,n,A);E[U](A.x);F[U](A.y)}if(q>0&&q<1){A=xa(b,
d,g,j,m,k,o,n,q);E[U](A.x);F[U](A.y)}return{min:{x:ea[C](0,E),y:ea[C](0,F)},max:{x:ia[C](0,E),y:ia[C](0,F)}}}),Ha=c(function(b,d){var g=wa(b),j=d&&wa(d);b={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null};d={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null};var m=function(E,x){var J;if(!E)return["C",x.x,x.y,x.x,x.y,x.x,x.y];!(E[0]in{T:1,Q:1})&&(x.qx=x.qy=null);switch(E[0]){case "M":x.X=E[1];x.Y=E[2];break;case "A":E=["C"].concat(bb[C](0,[x.x,x.y].concat(E.slice(1))));break;case "S":J=x.x+(x.x-(x.bx||x.x));x=x.y+
(x.y-(x.by||x.y));E=["C",J,x].concat(E.slice(1));break;case "T":x.qx=x.x+(x.x-(x.qx||x.x));x.qy=x.y+(x.y-(x.qy||x.y));E=["C"].concat(ab(x.x,x.y,x.qx,x.qy,E[1],E[2]));break;case "Q":x.qx=E[1];x.qy=E[2];E=["C"].concat(ab(x.x,x.y,E[1],E[2],E[3],E[4]));break;case "L":E=["C"].concat(Ja(x.x,x.y,E[1],E[2]));break;case "H":E=["C"].concat(Ja(x.x,x.y,E[1],x.y));break;case "V":E=["C"].concat(Ja(x.x,x.y,x.x,E[1]));break;case "Z":E=["C"].concat(Ja(x.x,x.y,x.X,x.Y));break}return E},k=function(E,x){if(E[x][z]>7){E[x].shift();
for(var J=E[x];J[z];)E.splice(x++,0,["C"].concat(J.splice(0,6)));E.splice(x,1);q=ia(g[z],j&&j[z]||0)}},o=function(E,x,J,ba,R){if(E&&x&&E[R][0]=="M"&&x[R][0]!="M"){x.splice(R,0,["M",ba.x,ba.y]);J.bx=0;J.by=0;J.x=E[R][1];J.y=E[R][2];q=ia(g[z],j&&j[z]||0)}},n=0,q=ia(g[z],j&&j[z]||0);for(;n<q;n++){g[n]=m(g[n],b);k(g,n);j&&(j[n]=m(j[n],d));j&&k(j,n);o(g,j,b,d,n);o(j,g,d,b,n);var r=g[n],y=j&&j[n],A=r[z],F=j&&y[z];b.x=r[A-2];b.y=r[A-1];b.bx=M(r[A-4])||b.x;b.by=M(r[A-3])||b.y;d.bx=j&&(M(y[F-4])||d.x);d.by=
j&&(M(y[F-3])||d.y);d.x=j&&y[F-2];d.y=j&&y[F-1]}return j?[g,j]:g},null,Ga),cb=c(function(b){for(var d=[],g=0,j=b[z];g<j;g++){var m={},k=b[g].match(/^([^:]*):?([\d\.]*)/);m.color=a.getRGB(k[1]);if(m.color.error)return null;m.color=m.color.hex;k[2]&&(m.offset=k[2]+"%");d[U](m)}g=1;for(j=d[z]-1;g<j;g++)if(!d[g].offset){b=M(d[g-1].offset||0);k=0;for(m=g+1;m<j;m++)if(d[m].offset){k=d[m].offset;break}if(!k){k=100;m=j}k=M(k);for(k=(k-b)/(m-g+1);g<m;g++){b+=k;d[g].offset=b+"%"}}return d}),db=function(b,d,
g,j){if(a.is(b,"string")||a.is(b,"object")){b=a.is(b,"string")?w.getElementById(b):b;if(b.tagName)return d==null?{container:b,width:b.style.pixelWidth||b.offsetWidth,height:b.style.pixelHeight||b.offsetHeight}:{container:b,width:d,height:g}}else return{container:1,x:b,y:d,width:g,height:j}},Sa=function(b,d){var g=this;for(var j in d)if(d[u](j)&&!(j in b))switch(typeof d[j]){case "function":(function(m){b[j]=b===g?m:function(){return m[C](g,arguments)}})(d[j]);break;case "object":b[j]=b[j]||{};Sa.call(this,
b[j],d[j]);break;default:b[j]=d[j];break}},ua=function(b,d){b==d.top&&(d.top=b.prev);b==d.bottom&&(d.bottom=b.next);b.next&&(b.next.prev=b.prev);b.prev&&(b.prev.next=b.next)},eb=function(b,d){if(d.top!==b){ua(b,d);b.next=null;b.prev=d.top;d.top.next=b;d.top=b}},fb=function(b,d){if(d.bottom!==b){ua(b,d);b.next=d.bottom;b.prev=null;d.bottom.prev=b;d.bottom=b}},gb=function(b,d,g){ua(b,g);d==g.top&&(g.top=b);d.next&&(d.next.prev=b);b.next=d.next;b.prev=d;d.next=b},hb=function(b,d,g){ua(b,g);d==g.bottom&&
(g.bottom=b);d.prev&&(d.prev.next=b);b.prev=d.prev;d.prev=b;b.next=d},ib=function(b){return function(){throw new Error("Rapha\u00ebl: you are calling to method \u201c"+b+"\u201d of removed object");}},jb=/^r(?:\(([^,]+?)\s*,\s*([^\)]+?)\))?/;if(a.svg){v[p].svgns="http://www.w3.org/2000/svg";v[p].xlink="http://www.w3.org/1999/xlink";V=function(b){return+b+(~~b===b)*0.5};var K=function(b,d){if(d)for(var g in d)d[u](g)&&b.setAttribute(g,d[g]+"");else{b=w.createElementNS(v[p].svgns,b);b.style.webkitTapHighlightColor=
"rgba(0,0,0,0)";return b}};a.toString=function(){return"Your browser supports SVG.\nYou are running Rapha\u00ebl "+this.version};var kb=function(b,d){var g=K("path");d.canvas&&d.canvas.appendChild(g);d=new I(g,d);d.type="path";ma(d,{fill:"none",stroke:"#000",path:b});return d},ya=function(b,d,g){var j="linear",m=0.5,k=0.5,o=b.style;d=(d+"").replace(jb,function(y,A,F){j="radial";if(A&&F){m=M(A);k=M(F);y=(k>0.5)*2-1;H(m-0.5,2)+H(k-0.5,2)>0.25&&(k=G.sqrt(0.25-H(m-0.5,2))*y+0.5)&&k!=0.5&&(k=k.toFixed(5)-
1.0E-5*y)}return""});d=d.split(/\s*\-\s*/);if(j=="linear"){var n=d.shift();n=-M(n);if(isNaN(n))return null;n=[0,0,G.cos(n*G.PI/180),G.sin(n*G.PI/180)];var q=1/(ia(G.abs(n[2]),G.abs(n[3]))||1);n[2]*=q;n[3]*=q;if(n[2]<0){n[0]=-n[2];n[2]=0}if(n[3]<0){n[1]=-n[3];n[3]=0}}d=cb(d);if(!d)return null;q=b.getAttribute("fill");(q=q.match(/^url\(#(.*)\)$/))&&g.defs.removeChild(w.getElementById(q[1]));q=K(j+"Gradient");q.id="r"+(a._id++).toString(36);K(q,j=="radial"?{fx:m,fy:k}:{x1:n[0],y1:n[1],x2:n[2],y2:n[3]});
g.defs.appendChild(q);g=0;for(n=d[z];g<n;g++){var r=K("stop");K(r,{offset:d[g].offset?d[g].offset:!g?"0%":"100%","stop-color":d[g].color||"#fff"});q.appendChild(r)}K(b,{fill:"url(#"+q.id+")",opacity:1,"fill-opacity":1});o.fill="";o.opacity=1;return o.fillOpacity=1},Ta=function(b){var d=b.getBBox();K(b.pattern,{patternTransform:a.format("translate({0},{1})",d.x,d.y)})},ma=function(b,d){var g={"":[0],none:[0],"-":[3,1],".":[1,1],"-.":[3,1,1,1],"-..":[3,1,1,1,1,1],". ":[1,3],"- ":[4,3],"--":[8,3],"- .":[4,
3,1,3],"--.":[8,3,1,3],"--..":[8,3,1,3,1,3]},j=b.node,m=b.attrs,k=b.rotate(),o=function(x,J){if(J=g[Y.call(J)]){var ba=x.attrs["stroke-width"]||"1";x={round:ba,square:ba,butt:0}[x.attrs["stroke-linecap"]||d["stroke-linecap"]]||0;for(var R=[],N=J[z];N--;)R[N]=J[N]*ba+(N%2?1:-1)*x;K(j,{"stroke-dasharray":R[S](",")})}};d[u]("rotation")&&(k=d.rotation);var n=(k+"").split(l);if(n.length-1){n[1]=+n[1];n[2]=+n[2]}else n=null;M(k)&&b.rotate(0,true);for(var q in d)if(d[u](q))if(Da[u](q)){var r=d[q];m[q]=r;
switch(q){case "blur":b.blur(r);break;case "rotation":b.rotate(r,true);break;case "href":case "title":case "target":var y=j.parentNode;if(Y.call(y.tagName)!="a"){var A=K("a");y.insertBefore(A,j);A.appendChild(j);y=A}y.setAttributeNS(b.paper.xlink,q,r);break;case "cursor":j.style.cursor=r;break;case "clip-rect":y=(r+"").split(l);if(y[z]==4){b.clip&&b.clip.parentNode.parentNode.removeChild(b.clip.parentNode);var F=K("clipPath");A=K("rect");F.id="r"+(a._id++).toString(36);K(A,{x:y[0],y:y[1],width:y[2],
height:y[3]});F.appendChild(A);b.paper.defs.appendChild(F);K(j,{"clip-path":"url(#"+F.id+")"});b.clip=A}if(!r){(r=w.getElementById(j.getAttribute("clip-path").replace(/(^url\(#|\)$)/g,"")))&&r.parentNode.removeChild(r);K(j,{"clip-path":""});delete b.clip}break;case "path":if(b.type=="path")K(j,{d:r?(m.path=wa(r)):"M0,0"});break;case "width":j.setAttribute(q,r);if(m.fx){q="x";r=m.x}else break;case "x":if(m.fx)r=-m.x-(m.width||0);case "rx":if(q=="rx"&&b.type=="rect")break;case "cx":n&&(q=="x"||q=="cx")&&
(n[1]+=r-m[q]);j.setAttribute(q,V(r));b.pattern&&Ta(b);break;case "height":j.setAttribute(q,r);if(m.fy){q="y";r=m.y}else break;case "y":if(m.fy)r=-m.y-(m.height||0);case "ry":if(q=="ry"&&b.type=="rect")break;case "cy":n&&(q=="y"||q=="cy")&&(n[2]+=r-m[q]);j.setAttribute(q,V(r));b.pattern&&Ta(b);break;case "r":b.type=="rect"?K(j,{rx:r,ry:r}):j.setAttribute(q,r);break;case "src":b.type=="image"&&j.setAttributeNS(b.paper.xlink,"href",r);break;case "stroke-width":j.style.strokeWidth=r;j.setAttribute(q,
r);m["stroke-dasharray"]&&o(b,m["stroke-dasharray"]);break;case "stroke-dasharray":o(b,r);break;case "translation":r=(r+"").split(l);r[0]=+r[0]||0;r[1]=+r[1]||0;if(n){n[1]+=r[0];n[2]+=r[1]}La.call(b,r[0],r[1]);break;case "scale":r=(r+"").split(l);b.scale(+r[0]||1,+r[1]||+r[0]||1,isNaN(M(r[2]))?null:+r[2],isNaN(M(r[3]))?null:+r[3]);break;case "fill":if(y=(r+"").match(Ca)){F=K("pattern");var E=K("image");F.id="r"+(a._id++).toString(36);K(F,{x:0,y:0,patternUnits:"userSpaceOnUse",height:1,width:1});K(E,
{x:0,y:0});E.setAttributeNS(b.paper.xlink,"href",y[1]);F.appendChild(E);r=w.createElement("img");r.style.cssText="position:absolute;left:-9999em;top-9999em";r.onload=function(){K(F,{width:this.offsetWidth,height:this.offsetHeight});K(E,{width:this.offsetWidth,height:this.offsetHeight});w.body.removeChild(this);b.paper.safari()};w.body.appendChild(r);r.src=y[1];b.paper.defs.appendChild(F);j.style.fill="url(#"+F.id+")";K(j,{fill:"url(#"+F.id+")"});b.pattern=F;b.pattern&&Ta(b);break}y=a.getRGB(r);if(y.error){if(({circle:1,
ellipse:1}[u](b.type)||(r+"").charAt()!="r")&&ya(j,r,b.paper)){m.gradient=r;m.fill="none";break}}else{delete d.gradient;delete m.gradient;!a.is(m.opacity,"undefined")&&a.is(d.opacity,"undefined")&&K(j,{opacity:m.opacity});!a.is(m["fill-opacity"],"undefined")&&a.is(d["fill-opacity"],"undefined")&&K(j,{"fill-opacity":m["fill-opacity"]})}y[u]("o")&&K(j,{"fill-opacity":y.o/100});case "stroke":y=a.getRGB(r);j.setAttribute(q,y.hex);q=="stroke"&&y[u]("o")&&K(j,{"stroke-opacity":y.o/100});break;case "gradient":(({circle:1,
ellipse:1})[u](b.type)||(r+"").charAt()!="r")&&ya(j,r,b.paper);break;case "opacity":case "fill-opacity":if(m.gradient){if(y=w.getElementById(j.getAttribute("fill").replace(/^url\(#|\)$/g,""))){y=y.getElementsByTagName("stop");y[y[z]-1].setAttribute("stop-opacity",r)}break}default:q=="font-size"&&(r=ja(r,10)+"px");y=q.replace(/(\-.)/g,function(x){return sa.call(x.substring(1))});j.style[y]=r;j.setAttribute(q,r);break}}Fb(b,d);if(n)b.rotate(n.join(s));else M(k)&&b.rotate(k,true)},Fb=function(b,d){if(!(b.type!=
"text"||!(d[u]("text")||d[u]("font")||d[u]("font-size")||d[u]("x")||d[u]("y")))){var g=b.attrs,j=b.node,m=j.firstChild?ja(w.defaultView.getComputedStyle(j.firstChild,"").getPropertyValue("font-size"),10):10;if(d[u]("text")){for(g.text=d.text;j.firstChild;)j.removeChild(j.firstChild);d=(d.text+"").split("\n");for(var k=0,o=d[z];k<o;k++)if(d[k]){var n=K("tspan");k&&K(n,{dy:m*1.2,x:g.x});n.appendChild(w.createTextNode(d[k]));j.appendChild(n)}}else{d=j.getElementsByTagName("tspan");k=0;for(o=d[z];k<o;k++)k&&
K(d[k],{dy:m*1.2,x:g.x})}K(j,{y:g.y});b=b.getBBox();(b=g.y-(b.y+b.height/2))&&isFinite(b)&&K(j,{y:g.y+b})}},I=function(b,d){this[0]=b;this.id=a._oid++;this.node=b;b.raphael=this;this.paper=d;this.attrs=this.attrs||{};this.transformations=[];this._={tx:0,ty:0,rt:{deg:0,cx:0,cy:0},sx:1,sy:1};!d.bottom&&(d.bottom=this);(this.prev=d.top)&&(d.top.next=this);d.top=this;this.next=null};I[p].rotate=function(b,d,g){if(this.removed)return this;if(b==null){if(this._.rt.cx)return[this._.rt.deg,this._.rt.cx,this._.rt.cy][S](s);
return this._.rt.deg}var j=this.getBBox();b=(b+"").split(l);if(b[z]-1){d=M(b[1]);g=M(b[2])}b=M(b[0]);if(d!=null)this._.rt.deg=b;else this._.rt.deg+=b;g==null&&(d=null);this._.rt.cx=d;this._.rt.cy=g;d=d==null?j.x+j.width/2:d;g=g==null?j.y+j.height/2:g;if(this._.rt.deg){this.transformations[0]=a.format("rotate({0} {1} {2})",this._.rt.deg,d,g);this.clip&&K(this.clip,{transform:a.format("rotate({0} {1} {2})",-this._.rt.deg,d,g)})}else{this.transformations[0]="";this.clip&&K(this.clip,{transform:""})}K(this.node,
{transform:this.transformations[S](s)});return this};I[p].hide=function(){!this.removed&&(this.node.style.display="none");return this};I[p].show=function(){!this.removed&&(this.node.style.display="");return this};I[p].remove=function(){if(!this.removed){ua(this,this.paper);this.node.parentNode.removeChild(this.node);for(var b in this)delete this[b];this.removed=true}};I[p].getBBox=function(){if(this.removed)return this;if(this.type=="path")return Ia(this.attrs.path);if(this.node.style.display=="none"){this.show();
var b=true}var d={};try{d=this.node.getBBox()}catch(g){}finally{d=d||{}}if(this.type=="text"){d={x:d.x,y:Infinity,width:0,height:0};for(var j=0,m=this.node.getNumberOfChars();j<m;j++){var k=this.node.getExtentOfChar(j);k.y<d.y&&(d.y=k.y);k.y+k.height-d.y>d.height&&(d.height=k.y+k.height-d.y);k.x+k.width-d.x>d.width&&(d.width=k.x+k.width-d.x)}}b&&this.hide();return d};I[p].attr=function(b,d){if(this.removed)return this;if(b==null){b={};for(var g in this.attrs)if(this.attrs[u](g))b[g]=this.attrs[g];
this._.rt.deg&&(b.rotation=this.rotate());(this._.sx!=1||this._.sy!=1)&&(b.scale=this.scale());b.gradient&&b.fill=="none"&&(b.fill=b.gradient)&&delete b.gradient;return b}if(d==null&&a.is(b,"string")){if(b=="translation")return La.call(this);if(b=="rotation")return this.rotate();if(b=="scale")return this.scale();if(b=="fill"&&this.attrs.fill=="none"&&this.attrs.gradient)return this.attrs.gradient;return this.attrs[b]}if(d==null&&a.is(b,da)){d={};g=0;for(var j=b.length;g<j;g++)d[b[g]]=this.attr(b[g]);
return d}if(d!=null){g={};g[b]=d;ma(this,g)}else b!=null&&a.is(b,"object")&&ma(this,b);return this};I[p].toFront=function(){if(this.removed)return this;this.node.parentNode.appendChild(this.node);var b=this.paper;b.top!=this&&eb(this,b);return this};I[p].toBack=function(){if(this.removed)return this;if(this.node.parentNode.firstChild!=this.node){this.node.parentNode.insertBefore(this.node,this.node.parentNode.firstChild);fb(this,this.paper)}return this};I[p].insertAfter=function(b){if(this.removed)return this;
var d=b.node;d.nextSibling?d.parentNode.insertBefore(this.node,d.nextSibling):d.parentNode.appendChild(this.node);gb(this,b,this.paper);return this};I[p].insertBefore=function(b){if(this.removed)return this;var d=b.node;d.parentNode.insertBefore(this.node,d);hb(this,b,this.paper);return this};I[p].blur=function(b){var d=this;if(+b!==0){var g=K("filter"),j=K("feGaussianBlur");d.attrs.blur=b;g.id="r"+(a._id++).toString(36);K(j,{stdDeviation:+b||1.5});g.appendChild(j);d.paper.defs.appendChild(g);d._blur=
g;K(d.node,{filter:"url(#"+g.id+")"})}else{if(d._blur){d._blur.parentNode.removeChild(d._blur);delete d._blur;delete d.attrs.blur}d.node.removeAttribute("filter")}};var lb=function(b,d,g,j){d=V(d);g=V(g);var m=K("circle");b.canvas&&b.canvas.appendChild(m);b=new I(m,b);b.attrs={cx:d,cy:g,r:j,fill:"none",stroke:"#000"};b.type="circle";K(m,b.attrs);return b},mb=function(b,d,g,j,m,k){d=V(d);g=V(g);var o=K("rect");b.canvas&&b.canvas.appendChild(o);b=new I(o,b);b.attrs={x:d,y:g,width:j,height:m,r:k||0,
rx:k||0,ry:k||0,fill:"none",stroke:"#000"};b.type="rect";K(o,b.attrs);return b},nb=function(b,d,g,j,m){d=V(d);g=V(g);var k=K("ellipse");b.canvas&&b.canvas.appendChild(k);b=new I(k,b);b.attrs={cx:d,cy:g,rx:j,ry:m,fill:"none",stroke:"#000"};b.type="ellipse";K(k,b.attrs);return b},ob=function(b,d,g,j,m,k){var o=K("image");K(o,{x:g,y:j,width:m,height:k,preserveAspectRatio:"none"});o.setAttributeNS(b.xlink,"href",d);b.canvas&&b.canvas.appendChild(o);b=new I(o,b);b.attrs={x:g,y:j,width:m,height:k,src:d};
b.type="image";return b},pb=function(b,d,g,j){var m=K("text");K(m,{x:d,y:g,"text-anchor":"middle"});b.canvas&&b.canvas.appendChild(m);b=new I(m,b);b.attrs={x:d,y:g,"text-anchor":"middle",text:j,font:Da.font,stroke:"none",fill:"#000"};b.type="text";ma(b,b.attrs);return b},qb=function(b,d){this.width=b||this.width;this.height=d||this.height;this.canvas.setAttribute("width",this.width);this.canvas.setAttribute("height",this.height);return this},Qa=function(){var b=db[C](0,arguments),d=b&&b.container,
g=b.x,j=b.y,m=b.width;b=b.height;if(!d)throw new Error("SVG container not found.");var k=K("svg");g=g||0;j=j||0;m=m||512;b=b||342;K(k,{xmlns:"http://www.w3.org/2000/svg",version:1.1,width:m,height:b});if(d==1){k.style.cssText="position:absolute;left:"+g+"px;top:"+j+"px";w.body.appendChild(k)}else d.firstChild?d.insertBefore(k,d.firstChild):d.appendChild(k);d=new v;d.width=m;d.height=b;d.canvas=k;Sa.call(d,d,a.fn);d.clear();return d};v[p].clear=function(){for(var b=this.canvas;b.firstChild;)b.removeChild(b.firstChild);
this.bottom=this.top=null;(this.desc=K("desc")).appendChild(w.createTextNode("Created with Rapha\u00ebl"));b.appendChild(this.desc);b.appendChild(this.defs=K("defs"))};v[p].remove=function(){this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas);for(var b in this)this[b]=ib(b)}}if(a.vml){var rb={M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},Gb=/([clmz]),?([^clmz]*)/gi,Hb=/-?[^,\s-]+/g,za=1E3+s+1E3,Aa={path:1,rect:1},Ib=function(b){var d=/[ahqstv]/ig,g=wa;(b+"").match(d)&&(g=Ha);
d=/[clmz]/g;if(g==wa&&!(b+"").match(d))return b=(b+"").replace(Gb,function(q,r,y){var A=[],F=Y.call(r)=="m",E=rb[r];y.replace(Hb,function(x){if(F&&A[z]==2){E+=A+rb[r=="m"?"l":"L"];A=[]}A[U](V(x*10))});return E+A});d=g(b);var j;b=[];for(var m=0,k=d[z];m<k;m++){g=d[m];j=Y.call(d[m][0]);j=="z"&&(j="x");for(var o=1,n=g[z];o<n;o++)j+=V(g[o]*10)+(o!=n-1?",":"");b[U](j)}return b[S](s)};a.toString=function(){return"Your browser doesn\u2019t support SVG. Falling down to VML.\nYou are running Rapha\u00ebl "+
this.version};kb=function(b,d){var g=fa("group");g.style.cssText="position:absolute;left:0;top:0;width:"+d.width+"px;height:"+d.height+"px";g.coordsize=d.coordsize;g.coordorigin=d.coordorigin;var j=fa("shape"),m=j.style;m.width=d.width+"px";m.height=d.height+"px";j.coordsize=za;j.coordorigin=d.coordorigin;g.appendChild(j);j=new I(j,g,d);m={fill:"none",stroke:"#000"};b&&(m.path=b);j.isAbsolute=true;j.type="path";j.path=[];j.Path="";ma(j,m);d.canvas.appendChild(g);return j};ma=function(b,d){b.attrs=
b.attrs||{};var g=b.node,j=b.attrs,m=g.style,k;k=(d.x!=j.x||d.y!=j.y||d.width!=j.width||d.height!=j.height||d.r!=j.r)&&b.type=="rect";for(var o in d)if(d[u](o))j[o]=d[o];if(k){j.path=sb(j.x,j.y,j.width,j.height,j.r);b.X=j.x;b.Y=j.y;b.W=j.width;b.H=j.height}d.href&&(g.href=d.href);d.title&&(g.title=d.title);d.target&&(g.target=d.target);d.cursor&&(m.cursor=d.cursor);"blur"in d&&b.blur(d.blur);if(d.path&&b.type=="path"||k)g.path=Ib(j.path);d.rotation!=null&&b.rotate(d.rotation,true);if(d.translation){k=
(d.translation+"").split(l);La.call(b,k[0],k[1]);if(b._.rt.cx!=null){b._.rt.cx+=+k[0];b._.rt.cy+=+k[1];b.setBox(b.attrs,k[0],k[1])}}if(d.scale){k=(d.scale+"").split(l);b.scale(+k[0]||1,+k[1]||+k[0]||1,+k[2]||null,+k[3]||null)}if("clip-rect"in d){k=(d["clip-rect"]+"").split(l);if(k[z]==4){k[2]=+k[2]+ +k[0];k[3]=+k[3]+ +k[1];o=g.clipRect||w.createElement("div");var n=o.style,q=g.parentNode;n.clip=a.format("rect({1}px {2}px {3}px {0}px)",k);if(!g.clipRect){n.position="absolute";n.top=0;n.left=0;n.width=
b.paper.width+"px";n.height=b.paper.height+"px";q.parentNode.insertBefore(o,q);o.appendChild(q);g.clipRect=o}}if(!d["clip-rect"])g.clipRect&&(g.clipRect.style.clip="")}if(b.type=="image"&&d.src)g.src=d.src;if(b.type=="image"&&d.opacity){g.filterOpacity=" progid:DXImageTransform.Microsoft.Alpha(opacity="+d.opacity*100+")";m.filter=(g.filterMatrix||"")+(g.filterOpacity||"")}d.font&&(m.font=d.font);d["font-family"]&&(m.fontFamily='"'+d["font-family"].split(",")[0].replace(/^['"]+|['"]+$/g,"")+'"');d["font-size"]&&
(m.fontSize=d["font-size"]);d["font-weight"]&&(m.fontWeight=d["font-weight"]);d["font-style"]&&(m.fontStyle=d["font-style"]);if(d.opacity!=null||d["stroke-width"]!=null||d.fill!=null||d.stroke!=null||d["stroke-width"]!=null||d["stroke-opacity"]!=null||d["fill-opacity"]!=null||d["stroke-dasharray"]!=null||d["stroke-miterlimit"]!=null||d["stroke-linejoin"]!=null||d["stroke-linecap"]!=null){g=b.shape||g;k=g.getElementsByTagName("fill")&&g.getElementsByTagName("fill")[0];o=false;!k&&(o=k=fa("fill"));
if("fill-opacity"in d||"opacity"in d){m=((+j["fill-opacity"]+1||2)-1)*((+j.opacity+1||2)-1)*((+a.getRGB(d.fill).o+1||2)-1);m<0&&(m=0);m>1&&(m=1);k.opacity=m}d.fill&&(k.on=true);if(k.on==null||d.fill=="none")k.on=false;if(k.on&&d.fill)if(m=d.fill.match(Ca)){k.src=m[1];k.type="tile"}else{k.color=a.getRGB(d.fill).hex;k.src="";k.type="solid";if(a.getRGB(d.fill).error&&(b.type in{circle:1,ellipse:1}||(d.fill+"").charAt()!="r")&&ya(b,d.fill)){j.fill="none";j.gradient=d.fill}}o&&g.appendChild(k);k=g.getElementsByTagName("stroke")&&
g.getElementsByTagName("stroke")[0];o=false;!k&&(o=k=fa("stroke"));if(d.stroke&&d.stroke!="none"||d["stroke-width"]||d["stroke-opacity"]!=null||d["stroke-dasharray"]||d["stroke-miterlimit"]||d["stroke-linejoin"]||d["stroke-linecap"])k.on=true;(d.stroke=="none"||k.on==null||d.stroke==0||d["stroke-width"]==0)&&(k.on=false);m=a.getRGB(d.stroke);k.on&&d.stroke&&(k.color=m.hex);m=((+j["stroke-opacity"]+1||2)-1)*((+j.opacity+1||2)-1)*((+m.o+1||2)-1);n=(M(d["stroke-width"])||1)*0.75;m<0&&(m=0);m>1&&(m=1);
d["stroke-width"]==null&&(n=j["stroke-width"]);d["stroke-width"]&&(k.weight=n);n&&n<1&&(m*=n)&&(k.weight=1);k.opacity=m;d["stroke-linejoin"]&&(k.joinstyle=d["stroke-linejoin"]||"miter");k.miterlimit=d["stroke-miterlimit"]||8;d["stroke-linecap"]&&(k.endcap=d["stroke-linecap"]=="butt"?"flat":d["stroke-linecap"]=="square"?"square":"round");if(d["stroke-dasharray"]){m={"-":"shortdash",".":"shortdot","-.":"shortdashdot","-..":"shortdashdotdot",". ":"dot","- ":"dash","--":"longdash","- .":"dashdot","--.":"longdashdot",
"--..":"longdashdotdot"};k.dashstyle=m[u](d["stroke-dasharray"])?m[d["stroke-dasharray"]]:""}o&&g.appendChild(k)}if(b.type=="text"){m=b.paper.span.style;j.font&&(m.font=j.font);j["font-family"]&&(m.fontFamily=j["font-family"]);j["font-size"]&&(m.fontSize=j["font-size"]);j["font-weight"]&&(m.fontWeight=j["font-weight"]);j["font-style"]&&(m.fontStyle=j["font-style"]);b.node.string&&(b.paper.span.innerHTML=(b.node.string+"").replace(/</g,"&#60;").replace(/&/g,"&#38;").replace(/\n/g,"<br>"));b.W=j.w=
b.paper.span.offsetWidth;b.H=j.h=b.paper.span.offsetHeight;b.X=j.x;b.Y=j.y+V(b.H/2);switch(j["text-anchor"]){case "start":b.node.style["v-text-align"]="left";b.bbx=V(b.W/2);break;case "end":b.node.style["v-text-align"]="right";b.bbx=-V(b.W/2);break;default:b.node.style["v-text-align"]="center";break}}};ya=function(b,d){b.attrs=b.attrs||{};var g="linear",j=".5 .5";b.attrs.gradient=d;d=(d+"").replace(jb,function(q,r,y){g="radial";if(r&&y){r=M(r);y=M(y);H(r-0.5,2)+H(y-0.5,2)>0.25&&(y=G.sqrt(0.25-H(r-
0.5,2))*((y>0.5)*2-1)+0.5);j=r+s+y}return""});d=d.split(/\s*\-\s*/);if(g=="linear"){var m=d.shift();m=-M(m);if(isNaN(m))return null}var k=cb(d);if(!k)return null;b=b.shape||b.node;d=b.getElementsByTagName("fill")[0]||fa("fill");!d.parentNode&&b.appendChild(d);if(k[z]){d.on=true;d.method="none";d.color=k[0].color;d.color2=k[k[z]-1].color;b=[];for(var o=0,n=k[z];o<n;o++)k[o].offset&&b[U](k[o].offset+s+k[o].color);d.colors&&(d.colors.value=b[z]?b[S]():"0% "+d.color);if(g=="radial"){d.type="gradientradial";
d.focus="100%";d.focussize=j;d.focusposition=j}else{d.type="gradient";d.angle=(270-m)%360}}return 1};I=function(b,d,g){this[0]=b;this.id=a._oid++;this.node=b;b.raphael=this;this.Y=this.X=0;this.attrs={};this.Group=d;this.paper=g;this._={tx:0,ty:0,rt:{deg:0},sx:1,sy:1};!g.bottom&&(g.bottom=this);(this.prev=g.top)&&(g.top.next=this);g.top=this;this.next=null};I[p].rotate=function(b,d,g){if(this.removed)return this;if(b==null){if(this._.rt.cx)return[this._.rt.deg,this._.rt.cx,this._.rt.cy][S](s);return this._.rt.deg}b=
(b+"").split(l);if(b[z]-1){d=M(b[1]);g=M(b[2])}b=M(b[0]);if(d!=null)this._.rt.deg=b;else this._.rt.deg+=b;g==null&&(d=null);this._.rt.cx=d;this._.rt.cy=g;this.setBox(this.attrs,d,g);this.Group.style.rotation=this._.rt.deg;return this};I[p].setBox=function(b,d,g){if(this.removed)return this;var j=this.Group.style,m=this.shape&&this.shape.style||this.node.style;b=b||{};for(var k in b)if(b[u](k))this.attrs[k]=b[k];d=d||this._.rt.cx;g=g||this._.rt.cy;var o=this.attrs,n;switch(this.type){case "circle":b=
o.cx-o.r;k=o.cy-o.r;n=o=o.r*2;break;case "ellipse":b=o.cx-o.rx;k=o.cy-o.ry;n=o.rx*2;o=o.ry*2;break;case "image":b=+o.x;k=+o.y;n=o.width||0;o=o.height||0;break;case "text":this.textpath.v=["m",V(o.x),", ",V(o.y-2),"l",V(o.x)+1,", ",V(o.y-2)][S]("");b=o.x-V(this.W/2);k=o.y-this.H/2;n=this.W;o=this.H;break;case "rect":case "path":if(this.attrs.path){o=Ia(this.attrs.path);b=o.x;k=o.y;n=o.width;o=o.height}else{k=b=0;n=this.paper.width;o=this.paper.height}break;default:k=b=0;n=this.paper.width;o=this.paper.height;
break}d=d==null?b+n/2:d;g=g==null?k+o/2:g;d=d-this.paper.width/2;g=g-this.paper.height/2;var q;j.left!=(q=d+"px")&&(j.left=q);j.top!=(q=g+"px")&&(j.top=q);this.X=Aa[u](this.type)?-d:b;this.Y=Aa[u](this.type)?-g:k;this.W=n;this.H=o;if(Aa[u](this.type)){m.left!=(q=-d*10+"px")&&(m.left=q);m.top!=(q=-g*10+"px")&&(m.top=q)}else if(this.type=="text"){m.left!=(q=-d+"px")&&(m.left=q);m.top!=(q=-g+"px")&&(m.top=q)}else{j.width!=(q=this.paper.width+"px")&&(j.width=q);j.height!=(q=this.paper.height+"px")&&(j.height=
q);m.left!=(q=b-d+"px")&&(m.left=q);m.top!=(q=k-g+"px")&&(m.top=q);m.width!=(q=n+"px")&&(m.width=q);m.height!=(q=o+"px")&&(m.height=q)}};I[p].hide=function(){!this.removed&&(this.Group.style.display="none");return this};I[p].show=function(){!this.removed&&(this.Group.style.display="block");return this};I[p].getBBox=function(){if(this.removed)return this;if(Aa[u](this.type))return Ia(this.attrs.path);return{x:this.X+(this.bbx||0),y:this.Y,width:this.W,height:this.H}};I[p].remove=function(){if(!this.removed){ua(this,
this.paper);this.node.parentNode.removeChild(this.node);this.Group.parentNode.removeChild(this.Group);this.shape&&this.shape.parentNode.removeChild(this.shape);for(var b in this)delete this[b];this.removed=true}};I[p].attr=function(b,d){if(this.removed)return this;if(b==null){b={};for(var g in this.attrs)if(this.attrs[u](g))b[g]=this.attrs[g];this._.rt.deg&&(b.rotation=this.rotate());(this._.sx!=1||this._.sy!=1)&&(b.scale=this.scale());b.gradient&&b.fill=="none"&&(b.fill=b.gradient)&&delete b.gradient;
return b}if(d==null&&a.is(b,"string")){if(b=="translation")return La.call(this);if(b=="rotation")return this.rotate();if(b=="scale")return this.scale();if(b=="fill"&&this.attrs.fill=="none"&&this.attrs.gradient)return this.attrs.gradient;return this.attrs[b]}if(this.attrs&&d==null&&a.is(b,da)){var j={};g=0;for(d=b[z];g<d;g++)j[b[g]]=this.attr(b[g]);return j}if(d!=null){j={};j[b]=d}d==null&&a.is(b,"object")&&(j=b);if(j){if(j.text&&this.type=="text")this.node.string=j.text;ma(this,j);if(j.gradient&&
({circle:1,ellipse:1}[u](this.type)||(j.gradient+"").charAt()!="r"))ya(this,j.gradient);(!Aa[u](this.type)||this._.rt.deg)&&this.setBox(this.attrs)}return this};I[p].toFront=function(){!this.removed&&this.Group.parentNode.appendChild(this.Group);this.paper.top!=this&&eb(this,this.paper);return this};I[p].toBack=function(){if(this.removed)return this;if(this.Group.parentNode.firstChild!=this.Group){this.Group.parentNode.insertBefore(this.Group,this.Group.parentNode.firstChild);fb(this,this.paper)}return this};
I[p].insertAfter=function(b){if(this.removed)return this;b.Group.nextSibling?b.Group.parentNode.insertBefore(this.Group,b.Group.nextSibling):b.Group.parentNode.appendChild(this.Group);gb(this,b,this.paper);return this};I[p].insertBefore=function(b){if(this.removed)return this;b.Group.parentNode.insertBefore(this.Group,b.Group);hb(this,b,this.paper);return this};var Jb=/ progid:\S+Blur\([^\)]+\)/g;I[p].blur=function(b){var d=this.node.style,g=d.filter;g=g.replace(Jb,"");if(+b!==0){this.attrs.blur=
b;d.filter=g+" progid:DXImageTransform.Microsoft.Blur(pixelradius="+(+b||1.5)+")";d.margin=Raphael.format("-{0}px 0 0 -{0}px",Math.round(+b||1.5))}else{d.filter=g;d.margin=0;delete this.attrs.blur}};lb=function(b,d,g,j){var m=fa("group"),k=fa("oval");m.style.cssText="position:absolute;left:0;top:0;width:"+b.width+"px;height:"+b.height+"px";m.coordsize=za;m.coordorigin=b.coordorigin;m.appendChild(k);k=new I(k,m,b);k.type="circle";ma(k,{stroke:"#000",fill:"none"});k.attrs.cx=d;k.attrs.cy=g;k.attrs.r=
j;k.setBox({x:d-j,y:g-j,width:j*2,height:j*2});b.canvas.appendChild(m);return k};function sb(b,d,g,j,m){return m?a.format("M{0},{1}l{2},0a{3},{3},0,0,1,{3},{3}l0,{5}a{3},{3},0,0,1,{4},{3}l{6},0a{3},{3},0,0,1,{4},{4}l0,{7}a{3},{3},0,0,1,{3},{4}z",b+m,d,g-m*2,m,-m,j-m*2,m*2-g,m*2-j):a.format("M{0},{1}l{2},0,0,{3},{4},0z",b,d,g,j,-g)}mb=function(b,d,g,j,m,k){var o=sb(d,g,j,m,k);b=b.path(o);var n=b.attrs;b.X=n.x=d;b.Y=n.y=g;b.W=n.width=j;b.H=n.height=m;n.r=k;n.path=o;b.type="rect";return b};nb=function(b,
d,g,j,m){var k=fa("group"),o=fa("oval");k.style.cssText="position:absolute;left:0;top:0;width:"+b.width+"px;height:"+b.height+"px";k.coordsize=za;k.coordorigin=b.coordorigin;k.appendChild(o);o=new I(o,k,b);o.type="ellipse";ma(o,{stroke:"#000"});o.attrs.cx=d;o.attrs.cy=g;o.attrs.rx=j;o.attrs.ry=m;o.setBox({x:d-j,y:g-m,width:j*2,height:m*2});b.canvas.appendChild(k);return o};ob=function(b,d,g,j,m,k){var o=fa("group"),n=fa("image");o.style.cssText="position:absolute;left:0;top:0;width:"+b.width+"px;height:"+
b.height+"px";o.coordsize=za;o.coordorigin=b.coordorigin;n.src=d;o.appendChild(n);n=new I(n,o,b);n.type="image";n.attrs.src=d;n.attrs.x=g;n.attrs.y=j;n.attrs.w=m;n.attrs.h=k;n.setBox({x:g,y:j,width:m,height:k});b.canvas.appendChild(o);return n};pb=function(b,d,g,j){var m=fa("group"),k=fa("shape"),o=k.style,n=fa("path"),q=fa("textpath");m.style.cssText="position:absolute;left:0;top:0;width:"+b.width+"px;height:"+b.height+"px";m.coordsize=za;m.coordorigin=b.coordorigin;n.v=a.format("m{0},{1}l{2},{1}",
V(d*10),V(g*10),V(d*10)+1);n.textpathok=true;o.width=b.width;o.height=b.height;q.string=j+"";q.on=true;k.appendChild(q);k.appendChild(n);m.appendChild(k);o=new I(q,m,b);o.shape=k;o.textpath=n;o.type="text";o.attrs.text=j;o.attrs.x=d;o.attrs.y=g;o.attrs.w=1;o.attrs.h=1;ma(o,{font:Da.font,stroke:"none",fill:"#000"});o.setBox();b.canvas.appendChild(m);return o};qb=function(b,d){var g=this.canvas.style;b==+b&&(b+="px");d==+d&&(d+="px");g.width=b;g.height=d;g.clip="rect(0 "+b+" "+d+" 0)";return this};
var fa;w.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)");try{!w.namespaces.rvml&&w.namespaces.add("rvml","urn:schemas-microsoft-com:vml");fa=function(b){return w.createElement("<rvml:"+b+' class="rvml">')}}catch(Rb){fa=function(b){return w.createElement("<"+b+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}Qa=function(){var b=db[C](0,arguments),d=b.container,g=b.height,j=b.width,m=b.x;b=b.y;if(!d)throw new Error("VML container not found.");var k=new v,o=k.canvas=w.createElement("div"),
n=o.style;m=m||0;b=b||0;j=j||512;g=g||342;j==+j&&(j+="px");g==+g&&(g+="px");k.width=1E3;k.height=1E3;k.coordsize=1E4+s+1E4;k.coordorigin="0 0";k.span=w.createElement("span");k.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;";o.appendChild(k.span);n.cssText=a.format("width:{0};height:{1};display:inline-block;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden",j,g);if(d==1){w.body.appendChild(o);n.left=m+"px";n.top=b+"px";n.position=
"absolute"}else d.firstChild?d.insertBefore(o,d.firstChild):d.appendChild(o);Sa.call(k,k,a.fn);return k};v[p].clear=function(){this.canvas.innerHTML="";this.span=w.createElement("span");this.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;";this.canvas.appendChild(this.span);this.bottom=this.top=null};v[p].remove=function(){this.canvas.parentNode.removeChild(this.canvas);for(var b in this)this[b]=ib(b);return true}}v[p].safari=/^Apple|^Google/.test(D.navigator.vendor)&&
(!(D.navigator.userAgent.indexOf("Version/4.0")+1)||D.navigator.platform.slice(0,2)=="iP")?function(){var b=this.rect(-99,-99,this.width+99,this.height+99);D.setTimeout(function(){b.remove()})}:function(){};var Kb=function(){this.returnValue=false},Lb=function(){return this.originalEvent.preventDefault()},Mb=function(){this.cancelBubble=true},Nb=function(){return this.originalEvent.stopPropagation()},Ob=function(){if(w.addEventListener)return function(b,d,g,j){var m=t&&Q[d]?Q[d]:d,k=function(o){if(t&&
Q[u](d))for(var n=0,q=o.targetTouches&&o.targetTouches.length;n<q;n++)if(o.targetTouches[n].target==b){q=o;o=o.targetTouches[n];o.originalEvent=q;o.preventDefault=Lb;o.stopPropagation=Nb;break}return g.call(j,o)};b.addEventListener(m,k,false);return function(){b.removeEventListener(m,k,false);return true}};else if(w.attachEvent)return function(b,d,g,j){var m=function(k){k=k||D.event;k.preventDefault=k.preventDefault||Kb;k.stopPropagation=k.stopPropagation||Mb;return g.call(j,k)};b.attachEvent("on"+
d,m);return function(){b.detachEvent("on"+d,m);return true}}}();for(ta=P[z];ta--;)(function(b){a[b]=I[p][b]=function(d){if(a.is(d,"function")){this.events=this.events||[];this.events.push({name:b,f:d,unbind:Ob(this.shape||this.node||w,b,d,this)})}return this};a["un"+b]=I[p]["un"+b]=function(d){for(var g=this.events,j=g[z];j--;)if(g[j].name==b&&g[j].f==d){g[j].unbind();g.splice(j,1);!g.length&&delete this.events;return this}return this}})(P[ta]);I[p].hover=function(b,d){return this.mouseover(b).mouseout(d)};
I[p].unhover=function(b,d){return this.unmouseover(b).unmouseout(d)};I[p].drag=function(b,d,g){this._drag={};var j=this.mousedown(function(o){(o.originalEvent?o.originalEvent:o).preventDefault();this._drag.x=o.clientX;this._drag.y=o.clientY;this._drag.id=o.identifier;d&&d.call(this,o.clientX,o.clientY);Raphael.mousemove(m).mouseup(k)}),m=function(o){var n=o.clientX,q=o.clientY;if(t)for(var r=o.touches.length,y;r--;){y=o.touches[r];if(y.identifier==j._drag.id){n=y.clientX;q=y.clientY;(o.originalEvent?
o.originalEvent:o).preventDefault();break}}else o.preventDefault();b&&b.call(j,n-j._drag.x,q-j._drag.y,n,q)},k=function(){j._drag={};Raphael.unmousemove(m).unmouseup(k);g&&g.call(j)};return this};v[p].circle=function(b,d,g){return lb(this,b||0,d||0,g||0)};v[p].rect=function(b,d,g,j,m){return mb(this,b||0,d||0,g||0,j||0,m||0)};v[p].ellipse=function(b,d,g,j){return nb(this,b||0,d||0,g||0,j||0)};v[p].path=function(b){b&&!a.is(b,"string")&&!a.is(b[0],da)&&(b+="");return kb(a.format[C](a,arguments),this)};
v[p].image=function(b,d,g,j,m){return ob(this,b||"about:blank",d||0,g||0,j||0,m||0)};v[p].text=function(b,d,g){return pb(this,b||0,d||0,g||"")};v[p].set=function(b){arguments[z]>1&&(b=Array[p].splice.call(arguments,0,arguments[z]));return new ka(b)};v[p].setSize=qb;v[p].top=v[p].bottom=null;v[p].raphael=a;I[p].resetScale=function(){if(this.removed)return this;this._.sx=1;this._.sy=1;this.attrs.scale="1 1"};I[p].scale=function(b,d,g,j){if(this.removed)return this;if(b==null&&d==null)return{x:this._.sx,
y:this._.sy,toString:e};d=d||b;!+d&&(d=b);var m,k,o=this.attrs;if(b!=0){var n=this.getBBox(),q=n.x+n.width/2,r=n.y+n.height/2;m=b/this._.sx;k=d/this._.sy;g=+g||g==0?g:q;j=+j||j==0?j:r;n=~~(b/G.abs(b));var y=~~(d/G.abs(d)),A=this.node.style,F=g+(q-g)*m;r=j+(r-j)*k;switch(this.type){case "rect":case "image":var E=o.width*n*m,x=o.height*y*k;this.attr({height:x,r:o.r*ea(n*m,y*k),width:E,x:F-E/2,y:r-x/2});break;case "circle":case "ellipse":this.attr({rx:o.rx*n*m,ry:o.ry*y*k,r:o.r*ea(n*m,y*k),cx:F,cy:r});
break;case "text":this.attr({x:F,y:r});break;case "path":q=$a(o.path);for(var J=true,ba=0,R=q[z];ba<R;ba++){var N=q[ba],$=sa.call(N[0]);if(!($=="M"&&J)){J=false;if($=="A"){N[q[ba][z]-2]*=m;N[q[ba][z]-1]*=k;N[1]*=n*m;N[2]*=y*k;N[5]=+!(n+y?!+N[5]:+N[5])}else if($=="H"){$=1;for(var na=N[z];$<na;$++)N[$]*=m}else if($=="V"){$=1;for(na=N[z];$<na;$++)N[$]*=k}else{$=1;for(na=N[z];$<na;$++)N[$]*=$%2?m:k}}}k=Ia(q);m=F-k.x-k.width/2;k=r-k.y-k.height/2;q[0][1]+=m;q[0][2]+=k;this.attr({path:q});break}if(this.type in
{text:1,image:1}&&(n!=1||y!=1))if(this.transformations){this.transformations[2]="scale(".concat(n,",",y,")");this.node.setAttribute("transform",this.transformations[S](s));m=n==-1?-o.x-(E||0):o.x;k=y==-1?-o.y-(x||0):o.y;this.attr({x:m,y:k});o.fx=n-1;o.fy=y-1}else{this.node.filterMatrix=" progid:DXImageTransform.Microsoft"+".Matrix(M11=".concat(n,", M12=0, M21=0, M22=",y,", Dx=0, Dy=0, sizingmethod='auto expand', filtertype='bilinear')");A.filter=(this.node.filterMatrix||"")+(this.node.filterOpacity||
"")}else if(this.transformations){this.transformations[2]="";this.node.setAttribute("transform",this.transformations[S](s));o.fx=0;o.fy=0}else{this.node.filterMatrix="";A.filter=(this.node.filterMatrix||"")+(this.node.filterOpacity||"")}o.scale=[b,d,g,j][S](s);this._.sx=b;this._.sy=d}return this};I[p].clone=function(){if(this.removed)return null;var b=this.attr();delete b.scale;delete b.translation;return this.paper[this.type]().attr(b)};var tb=c(function(b,d,g,j,m,k,o,n,q){for(var r=0,y,A=0;A<1.001;A+=
0.0010){var F=a.findDotsAtSegment(b,d,g,j,m,k,o,n,A);A&&(r+=H(H(y.x-F.x,2)+H(y.y-F.y,2),0.5));if(r>=q)return F;y=F}});P=function(b,d){return function(g,j,m){g=Ha(g);for(var k,o,n,q,r="",y={},A=0,F=0,E=g.length;F<E;F++){n=g[F];if(n[0]=="M"){k=+n[1];o=+n[2]}else{q=Pb(k,o,n[1],n[2],n[3],n[4],n[5],n[6]);if(A+q>j){if(d&&!y.start){k=tb(k,o,n[1],n[2],n[3],n[4],n[5],n[6],j-A);r+=["C",k.start.x,k.start.y,k.m.x,k.m.y,k.x,k.y];if(m)return r;y.start=r;r=["M",k.x,k.y+"C",k.n.x,k.n.y,k.end.x,k.end.y,n[5],n[6]][S]();
A+=q;k=+n[5];o=+n[6];continue}if(!b&&!d){k=tb(k,o,n[1],n[2],n[3],n[4],n[5],n[6],j-A);return{x:k.x,y:k.y,alpha:k.alpha}}}A+=q;k=+n[5];o=+n[6]}r+=n}y.end=r;k=b?A:d?y:a.findDotsAtSegment(k,o,n[1],n[2],n[3],n[4],n[5],n[6],1);k.alpha&&(k={x:k.x,y:k.y,alpha:k.alpha});return k}};var Pb=c(function(b,d,g,j,m,k,o,n){for(var q={x:0,y:0},r=0,y=0;y<1.01;y+=0.01){var A=xa(b,d,g,j,m,k,o,n,y);y&&(r+=H(H(q.x-A.x,2)+H(q.y-A.y,2),0.5));q=A}return r}),ub=P(1),Ma=P(),Ua=P(0,1);I[p].getTotalLength=function(){if(this.type==
"path"){if(this.node.getTotalLength)return this.node.getTotalLength();return ub(this.attrs.path)}};I[p].getPointAtLength=function(b){if(this.type=="path")return Ma(this.attrs.path,b)};I[p].getSubpath=function(b,d){if(this.type=="path"){if(G.abs(this.getTotalLength()-d)<1.0E-6)return Ua(this.attrs.path,b).end;d=Ua(this.attrs.path,d,1);return b?Ua(d,b).end:d}};a.easing_formulas={linear:function(b){return b},"<":function(b){return H(b,3)},">":function(b){return H(b-1,3)+1},"<>":function(b){b*=2;if(b<
1)return H(b,3)/2;b-=2;return(H(b,3)+2)/2},backIn:function(b){return b*b*(2.70158*b-1.70158)},backOut:function(b){b-=1;return b*b*(2.70158*b+1.70158)+1},elastic:function(b){if(b==0||b==1)return b;return H(2,-10*b)*G.sin((b-0.075)*2*G.PI/0.3)+1},bounce:function(b){if(b<1/2.75)b=7.5625*b*b;else if(b<2/2.75){b-=1.5/2.75;b=7.5625*b*b+0.75}else if(b<2.5/2.75){b-=2.25/2.75;b=7.5625*b*b+0.9375}else{b-=2.625/2.75;b=7.5625*b*b+0.984375}return b}};var ga={length:0},vb=function(){var b=+new Date;for(var d in ga)if(d!=
"length"&&ga[u](d)){var g=ga[d];if(g.stop||g.el.removed){delete ga[d];ga[z]--}else{var j=b-g.start,m=g.ms,k=g.easing,o=g.from,n=g.diff,q=g.to,r=g.t,y=g.prev||0,A=g.el,F=g.callback,E={},x;if(j<m){F=a.easing_formulas[k]?a.easing_formulas[k](j/m):j/m;for(var J in o)if(o[u](J)){switch(Ra[J]){case "along":x=F*m*n[J];q.back&&(x=q.len-x);k=Ma(q[J],x);A.translate(n.sx-n.x||0,n.sy-n.y||0);n.x=k.x;n.y=k.y;A.translate(k.x-n.sx,k.y-n.sy);q.rot&&A.rotate(n.r+k.alpha,k.x,k.y);break;case T:x=+o[J]+F*m*n[J];break;
case "colour":x="rgb("+[Va(V(o[J].r+F*m*n[J].r)),Va(V(o[J].g+F*m*n[J].g)),Va(V(o[J].b+F*m*n[J].b))][S](",")+")";break;case "path":x=[];k=0;for(var ba=o[J][z];k<ba;k++){x[k]=[o[J][k][0]];for(var R=1,N=o[J][k][z];R<N;R++)x[k][R]=+o[J][k][R]+F*m*n[J][k][R];x[k]=x[k][S](s)}x=x[S](s);break;case "csv":switch(J){case "translation":x=n[J][0]*(j-y);k=n[J][1]*(j-y);r.x+=x;r.y+=k;x=x+s+k;break;case "rotation":x=+o[J][0]+F*m*n[J][0];o[J][1]&&(x+=","+o[J][1]+","+o[J][2]);break;case "scale":x=[+o[J][0]+F*m*n[J][0],
+o[J][1]+F*m*n[J][1],2 in q[J]?q[J][2]:"",3 in q[J]?q[J][3]:""][S](s);break;case "clip-rect":x=[];for(k=4;k--;)x[k]=+o[J][k]+F*m*n[J][k];break}break}E[J]=x}A.attr(E);A._run&&A._run.call(A)}else{if(q.along){k=Ma(q.along,q.len*!q.back);A.translate(n.sx-(n.x||0)+k.x-n.sx,n.sy-(n.y||0)+k.y-n.sy);q.rot&&A.rotate(n.r+k.alpha,k.x,k.y)}(r.x||r.y)&&A.translate(-r.x,-r.y);q.scale&&(q.scale+="");A.attr(q);delete ga[d];ga[z]--;A.in_animation=null;a.is(F,"function")&&F.call(A)}g.prev=j}}a.svg&&A&&A.paper&&A.paper.safari();
ga[z]&&D.setTimeout(vb)},Va=function(b){return ia(ea(b,255),0)},La=function(b,d){if(b==null)return{x:this._.tx,y:this._.ty,toString:e};this._.tx+=+b;this._.ty+=+d;switch(this.type){case "circle":case "ellipse":this.attr({cx:+b+this.attrs.cx,cy:+d+this.attrs.cy});break;case "rect":case "image":case "text":this.attr({x:+b+this.attrs.x,y:+d+this.attrs.y});break;case "path":var g=$a(this.attrs.path);g[0][1]+=+b;g[0][2]+=+d;this.attr({path:g});break}return this};I[p].animateWith=function(b,d,g,j,m){ga[b.id]&&
(d.start=ga[b.id].start);return this.animate(d,g,j,m)};I[p].animateAlong=f();I[p].animateAlongBack=f(1);I[p].onAnimation=function(b){this._run=b||0;return this};I[p].animate=function(b,d,g,j){if(a.is(g,"function")||!g)j=g||null;var m={},k={},o={};for(var n in b)if(b[u](n))if(Ra[u](n)){m[n]=this.attr(n);m[n]==null&&(m[n]=Da[n]);k[n]=b[n];switch(Ra[n]){case "along":var q=ub(b[n]),r=Ma(b[n],q*!!b.back),y=this.getBBox();o[n]=q/d;o.tx=y.x;o.ty=y.y;o.sx=r.x;o.sy=r.y;k.rot=b.rot;k.back=b.back;k.len=q;b.rot&&
(o.r=M(this.rotate())||0);break;case T:o[n]=(k[n]-m[n])/d;break;case "colour":m[n]=a.getRGB(m[n]);q=a.getRGB(k[n]);o[n]={r:(q.r-m[n].r)/d,g:(q.g-m[n].g)/d,b:(q.b-m[n].b)/d};break;case "path":q=Ha(m[n],k[n]);m[n]=q[0];r=q[1];o[n]=[];q=0;for(y=m[n][z];q<y;q++){o[n][q]=[0];for(var A=1,F=m[n][q][z];A<F;A++)o[n][q][A]=(r[q][A]-m[n][q][A])/d}break;case "csv":r=(b[n]+"").split(l);q=(m[n]+"").split(l);switch(n){case "translation":m[n]=[0,0];o[n]=[r[0]/d,r[1]/d];break;case "rotation":m[n]=q[1]==r[1]&&q[2]==
r[2]?q:[0,r[1],r[2]];o[n]=[(r[0]-m[n][0])/d,0,0];break;case "scale":b[n]=r;m[n]=(m[n]+"").split(l);o[n]=[(r[0]-m[n][0])/d,(r[1]-m[n][1])/d,0,0];break;case "clip-rect":m[n]=(m[n]+"").split(l);o[n]=[];for(q=4;q--;)o[n][q]=(r[q]-m[n][q])/d;break}k[n]=r}}this.stop();this.in_animation=1;ga[this.id]={start:b.start||+new Date,ms:d,easing:g,from:m,diff:o,to:k,el:this,callback:j,t:{x:0,y:0}};++ga[z]==1&&vb();return this};I[p].stop=function(){ga[this.id]&&ga[z]--;delete ga[this.id];return this};I[p].translate=
function(b,d){return this.attr({translation:b+" "+d})};I[p].toString=function(){return"Rapha\u00ebl\u2019s object"};a.ae=ga;var ka=function(b){this.items=[];this[z]=0;this.type="set";if(b)for(var d=0,g=b[z];d<g;d++)if(b[d]&&(b[d].constructor==I||b[d].constructor==ka)){this[this.items[z]]=this.items[this.items[z]]=b[d];this[z]++}};ka[p][U]=function(){for(var b,d,g=0,j=arguments[z];g<j;g++)if((b=arguments[g])&&(b.constructor==I||b.constructor==ka)){d=this.items[z];this[d]=this.items[d]=b;this[z]++}return this};
ka[p].pop=function(){delete this[this[z]--];return this.items.pop()};for(var Wa in I[p])if(I[p][u](Wa))ka[p][Wa]=function(b){return function(){for(var d=0,g=this.items[z];d<g;d++)this.items[d][b][C](this.items[d],arguments);return this}}(Wa);ka[p].attr=function(b,d){if(b&&a.is(b,da)&&a.is(b[0],"object")){d=0;for(var g=b[z];d<g;d++)this.items[d].attr(b[d])}else{g=0;for(var j=this.items[z];g<j;g++)this.items[g].attr(b,d)}return this};ka[p].animate=function(b,d,g,j){(a.is(g,"function")||!g)&&(j=g||null);
var m=this.items[z],k=m,o,n=this,q;j&&(q=function(){!--m&&j.call(n)});g=a.is(g,"string")?g:q;for(o=this.items[--k].animate(b,d,g,q);k--;)this.items[k].animateWith(o,b,d,g,q);return this};ka[p].insertAfter=function(b){for(var d=this.items[z];d--;)this.items[d].insertAfter(b);return this};ka[p].getBBox=function(){for(var b=[],d=[],g=[],j=[],m=this.items[z];m--;){var k=this.items[m].getBBox();b[U](k.x);d[U](k.y);g[U](k.x+k.width);j[U](k.y+k.height)}b=ea[C](0,b);d=ea[C](0,d);return{x:b,y:d,width:ia[C](0,
g)-b,height:ia[C](0,j)-d}};ka[p].clone=function(b){b=new ka;for(var d=0,g=this.items[z];d<g;d++)b[U](this.items[d].clone());return b};a.registerFont=function(b){if(!b.face)return b;this.fonts=this.fonts||{};var d={w:b.w,face:{},glyphs:{}},g=b.face["font-family"];for(var j in b.face)if(b.face[u](j))d.face[j]=b.face[j];if(this.fonts[g])this.fonts[g][U](d);else this.fonts[g]=[d];if(!b.svg){d.face["units-per-em"]=ja(b.face["units-per-em"],10);for(var m in b.glyphs)if(b.glyphs[u](m)){g=b.glyphs[m];d.glyphs[m]=
{w:g.w,k:{},d:g.d&&"M"+g.d.replace(/[mlcxtrv]/g,function(o){return{l:"L",c:"C",x:"z",t:"m",r:"l",v:"c"}[o]||"M"})+"z"};if(g.k)for(var k in g.k)if(g[u](k))d.glyphs[m].k[k]=g.k[k]}}return b};v[p].getFont=function(b,d,g,j){j=j||"normal";g=g||"normal";d=+d||{normal:400,bold:700,lighter:300,bolder:800}[d]||400;if(a.fonts){var m=a.fonts[b];if(!m){b=new RegExp("(^|\\s)"+b.replace(/[^\w\d\s+!~.:_-]/g,"")+"(\\s|$)","i");for(var k in a.fonts)if(a.fonts[u](k))if(b.test(k)){m=a.fonts[k];break}}var o;if(m){k=
0;for(b=m[z];k<b;k++){o=m[k];if(o.face["font-weight"]==d&&(o.face["font-style"]==g||!o.face["font-style"])&&o.face["font-stretch"]==j)break}}return o}};v[p].print=function(b,d,g,j,m,k){k=k||"middle";var o=this.set(),n=(g+"").split(""),q=0;a.is(j,g)&&(j=this.getFont(j));if(j){g=(m||16)/j.face["units-per-em"];var r=j.face.bbox.split(l);m=+r[0];k=+r[1]+(k=="baseline"?r[3]-r[1]+ +j.face.descent:(r[3]-r[1])/2);r=0;for(var y=n[z];r<y;r++){var A=r&&j.glyphs[n[r-1]]||{},F=j.glyphs[n[r]];q+=r?(A.w||j.w)+(A.k&&
A.k[n[r]]||0):0;F&&F.d&&o[U](this.path(F.d).attr({fill:"#000",stroke:"none",translation:[q,0]}))}o.scale(g,g,m,k).translate(b-m,d-k)}return o};var Qb=/\{(\d+)\}/g;a.format=function(b,d){var g=a.is(d,da)?[0].concat(d):arguments;b&&a.is(b,"string")&&g[z]-1&&(b=b.replace(Qb,function(j,m){return g[++m]==null?"":g[m]}));return b||""};a.ninja=function(){B.was?(Raphael=B.is):delete Raphael;return a};a.el=I[p];return a}();uki.data={};uki.data.Observable={bind:function(a,c){var e=this;c.huid=c.huid||uki.guid++;
uki.each(a.split(" "),function(f,l){e._observersFor(l).push(c)})},unbind:function(a,c){var e=this;uki.each(a.split(" "),function(f,l){e._observers[l]=!c?[]:uki.grep(e._observersFor(l),function(h){return h!=c&&h.huid!=c.huid});e._observers[l]&&delete e._observers[l]})},trigger:function(a){var c=Array.prototype.slice.call(arguments,1);uki.each(this._observersFor(a,true),function(e,f){f.apply(this,c)},this)},_observersFor:function(a,c){if(c&&(!this._observers||!this._observers[a]))return[];if(!this._observers)this._observers=
{};this._observers[a]||(this._observers[a]=[]);return this._observers[a]}};uki.data.Model=uki.newClass(uki.data.Observable,function(){this._fields=[];this.init=function(a){this.update(a||{})};this.fields=function(){return this._fields};this.update=function(a){var c=[],e={};uki.each(a,function(f,l){var h=uki.isFunction(this[f])?"_"+f:f;if(this[h]!=l){e[f]=true;c.push(f);this[h]=l;this.trigger("change."+f,{model:this})}},this);c.length&&this.trigger("change",{changes:e,fields:c,model:this});return this}});
uki.data.model={_newProp:function(a){return uki.newProp("_"+a,function(c){var e={};e[a]=c;this.update(e)})},addFields:function(a,c){for(var e=0;e<c.length;e++)a[c[e]]=uki.data.model._newProp(c[e]);a._fields=c.concat(a._fields||[])},newLoader:function(a,c){return function(e){e=e||uki.F;if(this["loaded."+a])e.call(this,this[a]());else{this.bind("load."+a,e);if(!this["loading."+a]){this["loading."+a]=true;uki.ajax(uki.extend({url:uki.isFunction(c.url)?c.url.call(this):c.url,data:uki.isFunction(c.data)?
c.data.call(this):c.data?c.data:{id:this.id()},success:uki.proxy(function(f){this["loading."+a]=false;this["loaded."+a]=true;c.setter?c.setter.call(this,f):(this["_"+a]=f);this.trigger("load."+a,f);this.unbind("load."+a)},this)},c.ajaxOptions||{}))}}}}};(function(){var a=+new Date,c=/=\?(&|$)/,e=/\?/,f=/(\?|&)_=.*?(&|$)/,l=/^(\w+:)?\/\/([^\/?#]+)/,h=/%20/g,p=/\S/,u=function(){};uki.extend(uki,{error:function(v){throw v;},parseJSON:function(v){if(typeof v!=="string"||!v)return null;v=uki.trim(v);if(/^[\],:{}\s]*$/.test(v.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,
"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return window.JSON&&window.JSON.parse?window.JSON.parse(v):(new Function("return "+v))();else uki.error("Invalid JSON: "+v)},globalEval:function(v){if(v&&p.test(v)){var C=document.getElementsByTagName("head")[0]||document.documentElement,t=document.createElement("script");t.type="text/javascript";if(uki.scriptEval)t.appendChild(document.createTextNode(v));else t.text=v;C.insertBefore(t,
C.firstChild);C.removeChild(t)}},scriptEval:false});var w=document.createElement("script"),D="script"+a;w.type="text/javascript";try{w.appendChild(document.createTextNode("window."+D+"=1;"))}catch(B){}document.documentElement.insertBefore(w,document.documentElement.firstChild);if(window[D]){uki.scriptEval=true;delete window[D]}uki.extend(uki,{get:function(v,C,t,s){if(uki.isFunction(C)){s=s||t;t=C;C=null}return uki.ajax({type:"GET",url:v,data:C,success:t,dataType:s})},getScript:function(v,C){return uki.get(v,
null,C,"script")},getJSON:function(v,C,t){return uki.get(v,C,t,"json")},post:function(v,C,t,s){if(uki.isFunction(C)){s=s||t;t=C;C={}}return uki.ajax({type:"POST",url:v,data:C,success:t,dataType:s})},ajaxSetup:function(v){uki.extend(uki.ajaxSettings,v)},ajaxSettings:{url:location.href,global:true,type:"GET",contentType:"application/x-www-form-urlencoded",processData:true,async:true,xhr:window.XMLHttpRequest&&(window.location.protocol!=="file:"||!window.ActiveXObject)?function(){return new window.XMLHttpRequest}:
function(){try{return new window.ActiveXObject("Microsoft.XMLHTTP")}catch(v){}},accepts:{xml:"application/xml, text/xml",html:"text/html",script:"text/javascript, application/javascript",json:"application/json, text/javascript",text:"text/plain",_default:"*/*"}},lastModified:{},etag:{},ajax:function(v){function C(){s.success&&s.success.call(z,S,Q,H)}function t(){s.complete&&s.complete.call(z,H,Q)}var s=uki.extend({},uki.ajaxSettings,v),P,Q,S,z=v&&v.context||s,Y=s.type.toUpperCase();if(s.data&&s.processData&&
typeof s.data!=="string")s.data=uki.param(s.data,s.traditional);if(s.dataType==="jsonp"){if(Y==="GET")c.test(s.url)||(s.url+=(e.test(s.url)?"&":"?")+(s.jsonp||"callback")+"=?");else if(!s.data||!c.test(s.data))s.data=(s.data?s.data+"&":"")+(s.jsonp||"callback")+"=?";s.dataType="json"}if(s.dataType==="json"&&(s.data&&c.test(s.data)||c.test(s.url))){P=s.jsonpCallback||"jsonp"+a++;if(s.data)s.data=(s.data+"").replace(c,"="+P+"$1");s.url=s.url.replace(c,"="+P+"$1");s.dataType="script";window[P]=window[P]||
function(M){S=M;C();t();window[P]=undefined;try{delete window[P]}catch(ja){}ea&&ea.removeChild(T)}}if(s.dataType==="script"&&s.cache===null)s.cache=false;if(s.cache===false&&Y==="GET"){var G=now(),ia=s.url.replace(f,"$1_="+G+"$2");s.url=ia+(ia===s.url?(e.test(s.url)?"&":"?")+"_="+G:"")}if(s.data&&Y==="GET")s.url+=(e.test(s.url)?"&":"?")+s.data;G=(G=l.exec(s.url))&&(G[1]&&G[1]!==location.protocol||G[2]!==location.host);if(s.dataType==="script"&&Y==="GET"&&G){var ea=document.getElementsByTagName("head")[0]||
document.documentElement,T=document.createElement("script");T.src=s.url;if(s.scriptCharset)T.charset=s.scriptCharset;if(!P){var da=false;T.onload=T.onreadystatechange=function(){if(!da&&(!this.readyState||this.readyState==="loaded"||this.readyState==="complete")){da=true;C();t();T.onload=T.onreadystatechange=null;ea&&T.parentNode&&ea.removeChild(T)}}}ea.insertBefore(T,ea.firstChild)}else{var pa=false,H=s.xhr();if(H){s.username?H.open(Y,s.url,s.async,s.username,s.password):H.open(Y,s.url,s.async);
try{if(s.data||v&&v.contentType)H.setRequestHeader("Content-Type",s.contentType);if(s.ifModified){uki.lastModified[s.url]&&H.setRequestHeader("If-Modified-Since",uki.lastModified[s.url]);uki.etag[s.url]&&H.setRequestHeader("If-None-Match",uki.etag[s.url])}G||H.setRequestHeader("X-Requested-With","XMLHttpRequest");H.setRequestHeader("Accept",s.dataType&&s.accepts[s.dataType]?s.accepts[s.dataType]+", */*":s.accepts._default)}catch(U){}if(s.beforeSend&&s.beforeSend.call(z,H,s)===false){H.abort();return false}var la=
H.onreadystatechange=function(M){if(!H||H.readyState===0||M==="abort"){pa||t();pa=true;if(H)H.onreadystatechange=u}else if(!pa&&H&&(H.readyState===4||M==="timeout")){pa=true;H.onreadystatechange=u;Q=M==="timeout"?"timeout":!uki.httpSuccess(H)?"error":s.ifModified&&uki.httpNotModified(H,s.url)?"notmodified":"success";var ja;if(Q==="success")try{S=uki.httpData(H,s.dataType,s)}catch(sa){Q="parsererror";ja=sa}if(Q==="success"||Q==="notmodified")P||C();else uki.handleError(s,H,Q,ja);t();M==="timeout"&&
H.abort();if(s.async)H=null}};try{var Ca=H.abort;H.abort=function(){H&&Ca.call(H);la("abort")}}catch(Za){}s.async&&s.timeout>0&&setTimeout(function(){H&&!pa&&la("timeout")},s.timeout);try{H.send(Y==="POST"||Y==="PUT"||Y==="DELETE"?s.data:null)}catch(V){uki.handleError(s,H,null,V);t()}s.async||la();return H}}},handleError:function(v,C,t,s){if(v.error)v.error.call(v.context||v,C,t,s)},active:0,httpSuccess:function(v){try{return!v.status&&location.protocol==="file:"||v.status>=200&&v.status<300||v.status===
304||v.status===1223||v.status===0}catch(C){}return false},httpNotModified:function(v,C){var t=v.getResponseHeader("Last-Modified"),s=v.getResponseHeader("Etag");if(t)uki.lastModified[C]=t;if(s)uki.etag[C]=s;return v.status===304||v.status===0},httpData:function(v,C,t){var s=v.getResponseHeader("content-type")||"",P=C==="xml"||!C&&s.indexOf("xml")>=0;v=P?v.responseXML:v.responseText;P&&v.documentElement.nodeName==="parsererror"&&uki.error("parsererror");if(t&&t.dataFilter)v=t.dataFilter(v,C);if(typeof v===
"string")if(C==="json"||!C&&s.indexOf("json")>=0)v=uki.parseJSON(v);else if(C==="script"||!C&&s.indexOf("javascript")>=0)uki.globalEval(v);return v},param:function(v,C){function t(S,z){if(uki.isArray(z))uki.each(z,function(Y,G){C||/\[\]$/.test(S)?s(S,G):t(S+"["+(typeof G==="object"||uki.isArray(G)?Y:"")+"]",G)});else!C&&z!=null&&typeof z==="object"?uki.each(z,function(Y,G){t(S+"["+Y+"]",G)}):s(S,z)}function s(S,z){z=uki.isFunction(z)?z():z;P[P.length]=encodeURIComponent(S)+"="+encodeURIComponent(z)}
var P=[];if(C===undefined)C=uki.ajaxSettings.traditional;if(uki.isArray(v)||v.uki)uki.each(v,function(){s(this.name,this.value)});else for(var Q in v)t(Q,v[Q]);return P.join("&").replace(h,"+")}})})();storm.layout={};storm.layout.clear=function(){var a=document.getElementById("container");a&&a.parentNode&&a.parentNode.removeChild(a)};storm.layout.append=function(a){storm.layout.clear();var c=storm.layout.container();uki("#container").append(a);c.attachTo(window,1E3,1E3)};storm.layout.main=function(){return uki({view:"Box",
rect:"1000 1000",anchors:"top left right bottom",childViews:[{view:"Toolbar",rect:"0 0 1000 24",anchors:"top left right",background:"theme(panel)",buttons:[{text:"Dashboard"},{text:"Team"},{text:"Event"},{text:"Fight"},{text:"Logout"}]},{view:"Box",rect:"0 24 1000 1000",anchors:"top left right bottom",id:"content"}]})};storm.controller={};storm.controller.main=function(){function a(){uki.map(u,function(w){w.visible(false)})}var c=storm.layout.main(),e=storm.layout.dashboard(),f=storm.layout.team(),
l=storm.layout.event(),h=storm.layout.fight();storm.layout.login();var p=uki("#content",c);uki("#menu",c);var u=[e,f,l,h];uki.map(u,function(w){p.append(w)});a();f.visible(true);storm.layout.append(c);uki("Button[text^=Dash]").click(function(){a();e.visible(true);p.layout()});uki("Button[text=Team]").click(function(){a();f.visible(true);p.layout()});uki("Button[text=Event]").click(function(){a();l.visible(true);p.layout()});uki("Button[text=Fight]").click(function(){alert("Not Ready to fight")});
uki("Button[text=Logout]").click(function(){storm.controller.login()})};storm.layout.dashboard=function(){return uki([{view:"Box",rect:"0 0 500 500",anchors:"top left",background:"#333",childViews:[{view:"Box",rect:"500 500",anchors:"top left right bottom",id:"clock"}]},{view:"Box",rect:"500 0 500 500",anchors:"top right",background:"yellow",childViews:[{view:"Box",rect:"500 500",anchors:"top left right bottom",id:"chart"}]},{view:"Box",rect:"0 500 500 500",anchors:"left bottom",background:"black",
childViews:[{view:"Box",rect:"500 500",anchors:"top left right bottom",id:"ball"}]},{view:"Box",rect:"500 500 500 500",anchors:"right bottom",background:"white",childViews:[{view:"Button",rect:"100 22",anchors:"top left",text:"foo"}]}])};storm.layout.team=function(){return uki({view:"Box",rect:"1000 1000",anchors:"top left bottom right",childViews:[{view:"ScrollPane",rect:"200 100",anchors:"top left bottom ",childViews:[{view:"Button",rect:"10 2 75 20",anchors:"top left",text:"Create",id:"create_team"},
{view:"Button",rect:"90 2 85 20",anchors:"top left",text:"Join"},{view:"List",rect:"0 22 200 100",anchors:"top left right bottom"}]},{view:"Box",rect:"200 0 800 1000",anchors:"top left",background:"green",childViews:[]}]})};storm.layout.event=function(){return uki({view:"Table",rect:"0 57 1000 800",anchors:"top left right",columns:[{view:"table.NumberColumn",label:"ID",width:80},{view:"table.CustomColumn",label:"Attacker",width:260},{view:"table.NumberColumn",label:"Defener",width:200},{view:"table.NumberColumn",
label:"Type of Attack",width:200},{view:"table.NumberColumn",label:"Service",width:200},{view:"table.NumberColumn",label:"Uptime",width:200},{view:"table.CustomColumn",label:"Time of Attack",width:200}]})};storm.layout.fight=function(){return uki({view:"Button",rect:"300 30 100 42",anchors:"",text:"Fight"})};storm.layout.login=function(){return uki({view:"Box",rect:"1000 1000",anchors:"top left right bottom",id:"login_screen",background:"black",childViews:[{view:"Box",rect:"300 300 400 140",anchors:"top left right",
background:"theme(panel)",id:"login_panel",childViews:[{view:"Label",rect:"10 10 100 22",anchors:"top left right",text:"hackfest"},{view:"TextField",rect:"10 32 380 22",anchors:"top left right",placeholder:"username",id:"login_username"},{view:"PasswordTextField",rect:"10 64 380 22",anchors:"top left right",placeholder:"password",id:"login_password"},{view:"Button",rect:"75 96 100 22",anchors:"top left width",id:"register",text:"Register"},{view:"Button",rect:"225 96 100 22",anchors:"top right width",
id:"login",text:"Login"}]}]})};storm.controller.login=function(){function a(e){uki("#message")[0].text(e);uki("#message_popup").show();setTimeout('uki("#message_popup").show()',5E3)}var c=storm.layout.login();storm.layout.register_popup();storm.layout.message();storm.layout.append(c);uki("#login").click(function(){var e=uki("#login_username")[0].value(),f=uki("#login_password")[0].value();storm.model.User.login({username:e,password:f})?storm.controller.main():a("You are not a valid user.  Please register first")});
uki("#register").click(function(){uki("#register_popup").toggle()});uki("#register_user").click(function(){try{var e=uki("#username")[0].value(),f=uki("#password")[0].value(),l=uki("#password_confirmation")[0].value();storm.model.User.register(e,f,l);uki("#username")[0].value("");uki("#password")[0].value("");uki("#password_confirmation")[0].value("")}catch(h){a(h);uki("#password")[0].value("");uki("#password_confirmation")[0].value("")}})};storm.layout.register_popup=function(){return uki({view:"Popup",
rect:"150 160",anchors:"bottom right",shadow:"theme(shadow-big)",id:"register_popup",relativeTo:uki("#register")[0],childViews:[{view:"Label",rect:"10 10 100 22",anchors:"top left",text:"Registeration"},{view:"TextField",rect:"10 32 130 22",anchors:"top left right",placeholder:"username",id:"username"},{view:"PasswordTextField",rect:"10 64 130 22",anchors:"top left right",placeholder:"password",id:"password"},{view:"PasswordTextField",rect:"10 96 130 22",anchors:"top left right",placeholder:"password confirmation",
id:"password_confirmation"},{view:"Button",rect:"25 128 100 22",anchors:"top left width",text:"Create User",id:"register_user"}]})};storm.layout.message=function(){return uki({view:"Popup",rect:"270 50",anchors:"bottom right",shadow:"theme(shadow-big)",id:"message_popup",relativeTo:uki("#login_panel")[0],childViews:[{view:"Label",rect:"1 20 100 22",anchors:"",text:" foo bars!!! ",id:"message"}]})};storm.model={};storm.model.create_resource=function(a){storm.model.resource(a.url,a.payload,"POST",a.success_callback,
a.error_callback)};storm.model.update_resource=function(a){storm.model.resource(a.url,a.payload,"PUT",a.success_callback,a.error_callback)};storm.model.destroy_resource=function(a){storm.model.resource(a.url,a.payload,"DELETE",a.success_callback,a.error_callback)};storm.model.get_resource=function(a){storm.model.resource(a.url,a.payload,"GET",a.success_callback,a.error_callback)};storm.model.resource=function(a,c,e,f,l){uki.ajaxSetup({async:false});if(l==null)l=function(h){try{throw eval("("+h.responseText+
")");}catch(p){throw h.responseText;}};uki.ajax({type:e,url:a,data:c,success:f,error:l});uki.ajaxSetup({async:true})};storm.model.User=uki.newClass(uki.data.Model,function(){uki.data.model.addFields(this,["id","username"]);this.payload=function(){return{id:this._id,username:this._username}};this.save=function(){storm.model.update_resource({url:"users",payload:this.payload,success_callback:function(a){this.username(eval("("+a+")").username)}.bind(this)})}});storm.model.User.current={};storm.model.User.login=
function(a){var c=false;storm.model.create_resource({url:"session",payload:a,success_callback:function(){c=true},error_callback:function(){return false}});return c};storm.model.User.register=function(a,c,e){var f=new storm.model.User;storm.model.create_resource({url:"users",payload:{username:a,password:c,password_confirmation:e},success_callback:function(l){l=eval("("+l+")");f.id=l.id;f.username=l.username}});return f};storm.model.Team=uki.newClass(uki.data.Model,function(){uki.data.model.addFields(this,
["id","alias","color"]);this.payload=function(){return{id:this._id,alias:this._alias,color:this._color}};this.save=function(){storm.model.update_resource({url:"teams",payload:this.payload,success_callback:function(a){a=eval("("+a+")");this.alias(a.alias);this.color(a.color)}.bind(this)})};this.join=function(a,c){a={user_id:a.id,password:c};var e=false;try{storm.model.create_resource({url:"teams/"+this.id+"/join",payload:a,success_callback:function(){e=true}})}catch(f){}return e};this.reject=function(a,
c){a={user_id:a.id,password:c};var e=false;try{storm.model.create_resource({url:"teams/"+this.id+"/reject",payload:a,success_callback:function(){e=true}})}catch(f){}return e}});storm.model.Team.register=function(a,c,e,f){var l=new storm.model.Team;storm.model.create_resource({url:"teams",payload:{alias:a,color:c,password:e,password_confirmation:f},success_callback:function(h){h=eval("("+h+")");l.id(h.id);l.alias(h.alias);l.color(h.color)}});return l};storm.model.Service=uki.newClass(uki.data.Model,
function(){uki.data.model.addFields(this,["id","alias","port","server_id"]);this.payload=function(){return{id:this._id,alias:this._alias,port:this._port,server_id:this._server_id}};this.server=function(){try{this._server=storm.model.Server.findByID(this._server_id)}catch(a){this._server=null}return this._server};this.save=function(){storm.model.update_resource({url:"services",payload:this.payload,success_callback:function(a){a=eval("("+a+")");this.alias(a.alias);this.port(a.port);this.server_id(a.server_id)}.bind(this)})}});
storm.model.Service.register=function(a,c,e){var f=new storm.model.Service;storm.model.create_resource({url:"service",payload:{alias:a,port:c,server_id:e},success_callback:function(l){l=eval("("+l+")");f.id(l.id);f.alias(l.alias);f.port(l.port);f.server_id(l.server_id)}});return f};storm.model.Server=uki.newClass(uki.data.Model,function(){uki.data.model.addFields(this,["id","alias","address"]);this.payload=function(){return{id:this._id,alias:this._alias,address:this._address}};this.services=function(){return[]};
this.save=function(){storm.model.update_resource({url:"servers",payload:this.payload,success_callback:function(a){a=eval("("+a+")");this.alias(a.alias);this.address(a.address)}.bind(this)})}});storm.model.Server.findByID=function(a){var c=new storm.model.Server;storm.model.get_resource({url:"server/"+a,success_callback:function(e){e=eval("("+e+")");c.id(e.id);c.alias(e.alias);c.address(e.address)}});return c};storm.model.Server.register=function(a,c){var e=new storm.model.Server;storm.model.create_resource({url:"server",
payload:{alias:a,address:c},success_callback:function(f){f=eval("("+f+")");e.id(f.id);e.alias(f.alias);e.address(f.address)}});return e};storm.layout.container=function(){return uki({id:"container",view:"Container",rect:"1000 1000",anchors:"top left right bottom"})};storm.layout.create_team_popup=function(){return uki({view:"Popup",rect:"230 140",anchors:"top left",shadow:"theme(shadow-big)",relativeTo:uki("#create_team")[0],childViews:[{view:"Label",rect:"10 0 100 22",anchors:"top left right ",text:"Team Information"},
{view:"TextField",rect:"10 32 100 22",anchors:"top left width",placeholder:"Name"},{view:"TextField",rect:"112 32 100 22",anchors:"top right width",placeholder:"Color"},{view:"PasswordTextField",rect:"10 57 202 22",anchors:"top left right",placeholder:"Team Password"},{view:"PasswordTextField",rect:"10 82 202 22",anchors:"top left right",placeholder:"Team Password Confirmation"},{view:"Button",rect:"10 107 202 22",anchors:"top left right",id:"team_submit",text:"Create Team"}]})};storm.controller.teams=
function(){var a=storm.layout.create_team_popup();uki("#create_team").click(function(){console.log("foo");a.toggle()})};uki.theme.airport.imagePath="i/";if(!window.TESTING){storm.controller.main();storm.controller.teams()}})();Function.prototype.bind=function(Z){var L=this;return temp=function(){return L.apply(Z,arguments)}};
